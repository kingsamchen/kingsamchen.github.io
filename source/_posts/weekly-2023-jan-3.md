---
title: 一周杂记 in Week 3 Jan 2023
categories: CODE-LIFE
date: 2023-01-23 13:18:36
tags: [杂记]
---
本周是1月份的第三周，进入中国农历新年。

## Life

\#1

过去两年因为疫情防控和老婆职业限制，都是在杭州过的年；今年因为政策转向，终于可以回温州过年了。

感慨倒不是因为特别想念老家或者家里人，毕竟过去十来年在北京/上海/杭州这种城市待习惯之后非常不适应温州小县城的生活习惯，并且每年十一还是会回趟家待几天。

主要是在一个地方呆久了换个地方呆几天可以重新感受一下不同风格城市的影响，然后重新审视一下未来的计划。

\#2

因为政策突然转向导致 omicron 感染大爆发，以及老年人的高死亡率。

万幸家里老人都没事。

不过考虑到未来可能还会有1-2波新变种的爆发，还是用了一点 connections 搞到了一盒 paxlovid，￥1890，走的自费医保。

在19号去东站那天顺带又去了一趟老婆的医院，打算再弄一盒 paxlovid 双备，但是当天发现药房突然卡诊断：“患者”必须有严重的基础疾病诊断才能给你药，而如果我以自己的名字打这个诊断则会影响未来的保险...

思考再三之后还是放弃了，毕竟这个提前双备的成本有点高，而万一家里老人突然感染，其实还是可以直接通过老人的身份证/医保直接远程开药邮寄回家（1-2天）。

感觉中国普通人真的太惨了，想自己掏钱买个药都各种限制。

\#3

因为家里还没买电视柜，不太方便把移动硬盘外挂到大法电视上，所以这周没看计划内的电影或者美剧。

最近比较关注剧版的 _The Last of Us_

不过在家里还是看了几集剧版的《三体》，感觉比预期的好，回头有时间可以尝试跟跟。不过这广告是真的多，多到让我觉得白嫖挺好的...（逆反心理 XD）

这次春节档的新电影不少，感觉可以回杭州后和媳妇儿一起挑着看看。

## Work

\#1

这周额外请了两天年假，19号周四就开始休假了，所以只工作了三天。

不过这三天也确实够难熬的，尤其在年终水落石出，以及大家纷纷猜测年后是不是会进行 layoff 加上 HZ 这边普遍对 US 某些人低投入高回报不满，所以大家情绪其实不是很好。

节后回去估计就开始 wartime & speed for all 了。有点好奇在目前的形式下会如何演变。

毕竟 Microsoft 和 Google 都先后裁员了上万人，我们不裁员怎么也说不过去。而且前面福利已经砍了一波，大家不满的情绪早就开始蔓延了。更不用提23年整体还要更向下，大家预计到下半年甚至年底美国经济才触底呢。

这种事儿啊，拖得越久越糟糕。

\#2

本周学习总结：

书这边

- _Software Engineering at Google_ 看完了 _22. Large-Scale Changes_
  Google 规模的 LSC 大部分团队估计一辈子都遇不到...人可以再权衡利弊之后，由干基建的人来负责清理其他团队的 out of date usages，这搁大多数公司都不太可能。
  不过工具为主的重构型 LSC 还是值得借鉴的
- _Database Internals_ 看完了 _10. Leader Election_
  这章实际上就简单介绍了几个简单的选举算法...还是论文导读性质的介绍...

看了 CppCon Talk _CppCon 2020 | The Networking TS from Scratch: I/O Objects - Robert Leahy_

感觉这个应该是一个系列，单独看这个 part 实在有点没头没尾...

不过另外一个坑点：asio-based networking ts 看起来大概率是不会转正了...

\#3

抽了点时间把 esl/file_util 的那俩函数在 Linux/POSIX 的部分也写完了，测试也做了补全。

中间踩了一个 Windows 权限的坑：

1. Windows 用 `std::filesystem::permission` 移除**写权限**时要把 owner/group/other 三者都移除才能真正的移除对文件的写权限
2. Windows 上用常规方法似乎没有办法移除文件的**读权限**，估计要用专门的 ACL API 才可以...

习惯 Linux 上开发之后对 Windows 的不一致的地方开始变得有点不太习惯了...难怪之前很多人做跨平台的都很嫌弃 Windows 上开发，要针对性的做实现确实太蛋疼了。

---

好了这周就这样，下周见
