---
title: 一周杂记 in Week 5 Jan 2025
categories: CODE-LIFE
date: 2025-02-03 00:12:55
tags: [杂记]
---
本周（01/27 ~ 02/02）是一月份第五周，春节假期过半，也终于进入了2月份。

## Life

\#1

因为媳妇儿作为医生提前请假比较麻烦，还要安排和科室其他人的调班啥的，所以我们还是按照常规，节假日前一天回去，也就是今年的周一27号。

我上午醒来整理好行李后差不多11点就开车出发去媳妇儿医院的单位停车场了，因为杭州有不少人已经提前回家过年，所以27号的德胜和秋实高架都非常通畅，我开了不到20分钟就到了医院的单位停车场。

因为之前提前让媳妇儿办理了车牌登记，所以过年期间在单位停车场停车时不用付钱的，属实是白嫖。

中午在媳妇儿科室吃了她帮我点的食堂外卖后就在她们科室用笔记本看 cppcon 了，看到差不多下午两点多媳妇儿说她也下班了，剩下的拜托了要备勤不能回去的同事帮忙盯梢。

所以这次就坐了一站地铁就到了东站，非常 cozy 的进了车站，还买了俩蛋糕在车上吃。

一等座这次居然也不吵，比较幸运吧，视频看着看着就到老家了。

不过这次出站遇到了超大人流，所以等了足足20分钟我妈才开车接上我们 🤷‍♂️

\#2

过年期间基本就是吃，然后陪媳妇儿和丈母娘出去转了一下，陪爷爷和外婆闲聊

大致如此

不过感觉今年酒店宴席的菜品质比起去年又下降了一下 🤔

春晚基本没看，就第二天看了一下沈腾和马丽的小品，然后感叹一下这特么演的都是个啥啊。。。

\#3

过年在老家这几天几乎每晚都没睡好，不是半夜突然醒过来脑袋发懵就是一大早就被媳妇儿吵醒了。

最离谱的一次是我好不容易睡着迷迷糊糊到3点媳妇儿说主卧房间有一只蚊子她没睡着，于是我和媳妇儿换了一个房间，我刚躺下好不容易进入了睡觉节奏，就突的有只蚊子在我脸颊撞了两次，我本能的一巴掌删到自己脸上...

醒来后找蚊子的踪迹，连续两次出击都没弄死它，然后就不知道它躲哪了

我坚持了半天看了一眼手表都特么凌晨四点了，实在支撑不住躺下去睡着了...

可能是这几天作息不太行加上酒席太多，初四早上起来就全身酸痛，脑袋发懵，感觉发烧了。中午吃完饭想着午睡片刻恢复一下结果直接睡到了四点多，直到我媳妇儿来找我才醒过来。

扛不住吃了粒散利痛，起效后确实感觉好了不少，晚宴吃了大半后提前回家了。毕竟第二天初五早上9点多的高铁回杭州。

但是估计是病毒性感冒，散利痛只能缓解症状，所以到了半夜又开始难受了，而且睡也睡不着，右腿感觉一动就疼。十一点多爬起来吃了粒泰诺继续睡，睡了半小时除了额头之外全身发热，好死不死家里铺的床垫和被子全都是加绒的，热气根本散步出去，我整个人一边听着自己心跳砰砰砰，一边身上脚上全是汗。

挣扎到2点多实在不行了，我穿上衣服和保暖马甲，披上外衣跑到客厅去睡，这套装起码可以间距保暖和散热。

沙发上躺了不知道多久终于睡着了，然后睡到7点多又起来了，喝了半瓶矿泉水又继续躺下去睡觉。

8点多闹钟响了之后我起来量了一下体温，烧确实是退了，但是感觉恢复还需要一段时间，起码脑子还是糊的，而且多半也和晚上没睡好有关系。

吃了早饭后和媳妇儿坐我妈车到车站，没多久上车开启返程。

在车上一会儿就睡着了，结结实实睡了一个多小时。醒来后吃了点东西，喝了点水，感觉恢复了不少。和媳妇儿闲扯闲扯就到杭州了 😂

中午在衣之家吃了顿老娘舅，这大过年的连招牌蛋炒饭也没卖我是有点无语...

还好可以开车回去，顺带盒马买了点水果，一起开这车，通通畅畅顺顺利利到家了。

既然回到了杭州，后面得开始调整作息，进入恢复模式了，还好我后面还有一周左右的休息时间 😊

\#4

2号初五回到杭州后，休息了片刻就带着航空箱出发去医院接乐乐了。

因为没找到领养，所以只能安排放归，散养在小蛋他们那片；不过那片一直都有人投喂猫粮，我也会定期去投喂，所以食物是不会有问题的。

另外我又买了一个外卖箱，改造成了第二个猫窝，换掉了一开始别人用泡沫塑料搭的那个窝，里面垫上毛毯保暖，上面用塑料泡沫板挡雨。

小蛋那个窝证明了这套是可靠的，所以给乐乐也复刻一下。不过她住不住我就没法控制了，实在不行给其他小猫避避寒也行。

不过放归前我还是给乐乐打了一针疫苗，毕竟她之前的身体基础条件不太好，所以还是稳妥一些。

后面的路只能靠她自己了，希望她能和小蛋一样，经常在那个附近活动，或者干脆常住我给她做的窝就行。

现在我也看得比较开了，帮她治好了脚伤，又做了绝育，比起来已经算是非常大的 improvement 了

\#5

这段时间开始看繁花，等看完在写评论。

和媳妇儿定了初六的哪吒2，此外期间就没再看电影了

## Work

\#1

**CppCon 2022 | Functional Composable Operations with Unix-Style Pipes in C++ - Ankur Satle** https://www.youtube.com/watch?v=L_bomNazb8M&list=PLHTh1InhhwT6c2JNtUiJkaH8YRqzhU7Ag&index=81

- 质量出乎意料的高，而且演讲者的口音没有那么重啦
- 比较通用的示范如何实现 operator| 来做到像 ranges 那样 pipeline chain invocation；我看得时候想了一下，感觉后面 nlohmann-json-serde 的 options 也可以用这套来实现

**C++ Weekly - Ep 400 - C++ is 40... Is C++ DYING?** https://www.youtube.com/watch?v=hxjSpasg3gk

- 一个鼓励性质的 talk：目前有天量的大型软件现有代码都是 C++ based，并且 C++ 的热度近年来还是处于一个稳定并且略有上升的状况

**C++ Weekly - Ep 399 - C++23's slide_view vs adjacent_view** https://www.youtube.com/watch?v=czmGjH16Hb0

- adjacent<N> 就是 compile-time 的 slide(r, N)
- 这个N代表一个 n-tuple 的宽度来 slide-windowed 遍历一个 range

**C++ Weekly - Ep 397 - std::chrono Quickstart With C++20 Calendars!** https://www.youtube.com/watch?v=I53iT3gPXrk

- quick intro to chrono
- 整个视频我觉得要是能顺带提一嘴 C++ 这套 chrono/datetime 设计的核心就是一个 64-bit 的 timestamp 就可以表示一个完整日期就更好了；其他日期信息都可以利用这个信息外推

**Easily Printing std::variant - C++ Weekly - Ep 464** https://www.youtube.com/watch?v=-oSuITjrzgU

- 其实就是经典的 struct + overloads，感觉应该都应该知道？

**The std::invoke function does more than invoke functions** https://devblogs.microsoft.com/oldnewthing/20220401-00/?p=106426

- 核心就是对于成员变量，也可以使用 `std::invoke` 来做 deference

    ```cpp
    S s;

    // same as s.v = 42
    std::invoke(&S::v, s) = 42;

    // same as "auto x = s.v;"
    auto x = std::invoke(&S::v, s);
    ```


**All Windows threadpool waits can now be handled by a single thread** https://devblogs.microsoft.com/oldnewthing/20220406-00/?p=106434

- 讲的是 SetThreadpoolWait 这套 Win32 API 地下利用 IOCP 可以带来的优势
- 不过太久没搞 Windows 系统编程了忘了以前写这种代码要怎么弄了所以觉得这不是很合理嘛…

**Using std::chrono** https://akrzemi1.wordpress.com/2022/04/11/using-stdchrono/

- 展示了一下通过自定义 duration 来定制特定 resolution 的 time point，例如自动按照20分钟圆整

**Three Benchmarks of C++20 Ranges vs Standard Algorithms** https://www.cppstories.com/2022/ranges-perf/

- 我觉得这个 benchmark 不是很科学，而且没有针对那种嵌套了很多 | 的 ranges 的操作
- 不过至少看下来如果只用比较 trivial 的 ranges ops 性能差异不会特别明显

\#2

过年期间想了一些 idea 不过一直没时间试一下，后面回归正常节奏了可以试试。

---

好了这周就这样，下周见
