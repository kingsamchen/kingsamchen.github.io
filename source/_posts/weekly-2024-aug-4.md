---
title: ä¸€å‘¨æ‚è®° in Week 4 Aug 2024
categories: CODE-LIFE
date: 2024-08-26 23:21:54
tags: [æ‚è®°]
---
æœ¬å‘¨ï¼ˆ08/19 ~ 08/25ï¼‰æ˜¯8æœˆä»½çš„ç¬¬å››å‘¨ï¼Œä¸‹å‘¨è¿˜æœ‰ä¸€å‘¨...

## Life

\#1

å› ä¸ºä¸ˆæ¯å¨˜æ¥æ­å·å‘†ä¸Šå°åŠä¸ªæœˆï¼Œæ‰€ä»¥ä¹‹å‰çš„è®¡åˆ’æ˜¯è¿™å‘¨å‘¨æœ«ä¸€èµ·å»å¬åª³å¦‡å„¿æ‰¾çš„ä¸€ä¸ªå« æµ·å±± çš„ä¹é˜Ÿè‡´æ•¬ beyond çš„æ¼”å”±ä¼šã€‚

ä½†æ˜¯å¾ˆå¯æƒœï¼Œå‘¨äºŒè¿˜æ˜¯å‘¨ä¸‰çš„æ—¶å€™æ”¶åˆ°çŸ­ä¿¡é€šçŸ¥è¯´å› ä¸ºæ¡£æœŸé—®é¢˜ï¼Œæ¼”å”±ä¼šå–æ¶ˆäº†... ğŸ˜…

æœ€åæ¢äº†ä¸€ä¸ªæ–¹æ¡ˆï¼Œçœ‹æ²ˆè…¾çš„æŠ“å¨ƒå¨ƒã€‚

ç”µå½±è¿˜ä¸é”™ï¼Œåé¢è®²ï¼Œæ‰€ä»¥ä¸€è¡Œäººå‘¨æœ«è¿˜ç®—æ„‰å¿«

\#2

å‘¨å…­å»åª³å¦‡å„¿å®¶ï¼Œå’Œä¸ˆæ¯å¨˜ä¸€èµ·ç»™åª³å¦‡å„¿æ–½åŠ å‹åŠ›è¯´åŠå®½å¸¦ï¼Œç»ˆäºæäº†ä¸€ä¸ªç§»åŠ¨å®½å¸¦ï¼Œ500Mb ä¸¤å¹´500å—ï¼Œé‡å¤§ç®¡é¥±

åæ­£å‡ ä¸ªäººéƒ½ä¸ç©æ¸¸æˆï¼Œç§»åŠ¨çš„ä¸€äº›ç¼ºç‚¹å°±ä¸ç®—å•¥äº†

å‘¨å…­ä¸‹è®¢å‘¨æ—¥å·¥ä½œäººå‘˜å°±ä¸Šé—¨å®‰è£…äº†ï¼Œæ–°å°åŒºè£…èµ·æ¥å°±æ˜¯æŒºå¿«çš„ï¼Œå‘¨æ—¥ä¸Šåˆæˆ‘è¿˜æ²¡å¼€è½¦åˆ°åª³å¦‡å„¿å®¶çš„æ—¶å€™å°±è£…å®Œäº†ã€‚

å‘¨å…­ä¸‹å•ä¹°çš„è·¯ç”±å™¨å¾ˆäº‰æ°”çš„åœ¨æˆ‘å‰è„šåˆ°äº†ï¼Œæ‰€ä»¥å¾ˆé¡ºåˆ©åœ°æ‹¿åˆ°è·¯ç”±å™¨è£…ä¸Šå¹¶ä¸”è®¾ç½®å¥½ã€‚

ä»¥åå»åª³å¦‡å„¿å®¶ç»ˆäºä¸ç”¨æŠŠæˆ‘çš„è”é€šæ‰‹æœºæ”¾é£˜çª—ä¸Šæ”¹å–„ä¿¡å·äº†

\#3

è¿™å‘¨å°±çœ‹äº†æŠ“å¨ƒå¨ƒä¸€éƒ¨ç”µå½±

- **æŠ“å¨ƒå¨ƒ** 4/5 ç¬‘ç‚¹å’Œæ¢—ç®¡å¤Ÿï¼Œåª³å¦‡å„¿å’Œä¸ˆæ¯å¨˜çœ‹çš„éƒ½å¾ˆå¼€å¿ƒã€‚ä¸œäºšå®¶åº­å’Œæ•™è‚²çš„æ§½ç‚¹è¿˜æ˜¯ç‚¹å¾—å¾ˆåˆ°ä½çš„ï¼Œå°±æ˜¯æ”¶å°¾çš„åœ°æ–¹è½¯äº†ä¸€ç‚¹

## Work

\#1

**C++ Templates 2nd | 12. Fundamentals in Depth**

- è¿™ä¸€ç« æŠŠå‡½æ•°æ¨¡æ¿ç±»æ¨¡æ¿çš„ä¸€äº›è¯­æ³•ç»†èŠ‚éƒ½è®²äº†ï¼Œæ„Ÿè§‰æœ‰ç‚¹å¤ªç»†è‡´äº†

**CppCon 2022 | Reflection in C++ - Past, Present, and Hopeful Future - Andrei Alexandrescu** https://www.youtube.com/watch?v=YXIVw6QFgAI&list=PLHTh1InhhwT6c2JNtUiJkaH8YRqzhU7Ag&index=17

- å¯¹äº reflection proposal çš„ä¸€äº›ä»‹ç»å’Œæƒ³æ³•
- AA å¼€å¤´å°±è¯´äº†è¿™ä¸ª talk æ¯”è¾ƒ out of characterï¼Œçº¯ç²¹æ˜¯ä¸€ç§ open for communication çš„å¿ƒæ€ï¼Œæ‰€ä»¥å¹²æ´»æ²¡é‚£ä¹ˆå¤š

**CppCon 2022 | Breaking Dependencies - C++ Type Erasure - The Implementation Details - Klaus Iglberger** https://www.youtube.com/watch?v=qn6OqefuH08&list=PLHTh1InhhwT6c2JNtUiJkaH8YRqzhU7Ag&index=18

- å¾ˆæ£’çš„ä¸€ä¸ª talkï¼ŒæŠŠ type erasure çš„å¸¸è§„æŠ€æ³•è®²çš„å¾ˆé€šä¿—æ˜“æ‡‚
- åé¢è¿˜åšäº† small buffer å’Œ manual dispatche çš„ä¼˜åŒ–ï¼Œä¸è¿‡å¤§å¤šæ•°æƒ…å†µä¸‹æ™®é€šçš„å®ç°åº”è¯¥æ˜¯è¶³å¤Ÿäº†

**CppCon 2022 | Whatâ€™s New in C++23 - Sy Brand** https://www.youtube.com/watch?v=vbHWDvY59SQ&list=PLHTh1InhhwT6c2JNtUiJkaH8YRqzhU7Ag&index=19

- ç”¨å…·ä½“çš„ä¾‹å­æ¥è¿‡ä¸€ä¸‹ C++ 23 new features
- æ„Ÿè§‰è¿™ç§è·¯å­è¿˜æŒºå¥½çš„

**CppCon 2022 | 10 Tips for Cleaner C++ 20 Code - David Sackstein** https://www.youtube.com/watch?v=9ch7tZN4jeI&list=PLHTh1InhhwT6c2JNtUiJkaH8YRqzhU7Ag&index=20

- æäº†10ä¸ªå·¥ç¨‹å¼€å‘ä¸Šçš„å»ºè®®
- ä»è€…è§ä»æ™ºè€…è§æ™ºå§â€¦.

**CppCon 2022 | Back to Basics: Debugging in C++ - Mike Shah** https://www.youtube.com/watch?v=YzIBwqWC6EM&list=PLHTh1InhhwT6c2JNtUiJkaH8YRqzhU7Ag&index=21

- è°ƒè¯•å…¥é—¨æ•™å­¦ï¼Œé€‚åˆæ–°æ‰‹

**Lightning Talk: How to Win at Coding Interviews - David Stone** https://www.youtube.com/watch?v=y872bCqQ_P0&list=PLHTh1InhhwT6c2JNtUiJkaH8YRqzhU7Ag&index=23

- ä¸»è¦è¿˜æ˜¯ä»¥æˆè°‘è°ƒä¾ƒä¸ºä¸»ï¼Œçœ‹çš„ç¬‘æ­»æˆ‘äº†

**C++ Weekly - Ep 276 - C++20's Conditionally `explicit` Conversions** https://www.youtube.com/watch?v=CMmkoy24XhU

- ä»‹ç» C++ 20 å¼•å…¥çš„ explicit (true/false) çš„ç‰¹æ€§
- æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ› implicit conversion åŒæ—¶éœ€è¦æ˜ç¡®è¡¨è¾¾è¿™ä¸ªè¯­ä¹‰ï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªç‰¹æ€§ï¼›å¹¶ä¸” clang-tidy ä¹Ÿæ˜¯ aware è¿™ä¸ªç‰¹æ€§çš„

**C++ Weekly - Ep 272 - Hello World, Hello Commodore** https://www.youtube.com/watch?v=w2L3Vz5X8JU

- å°±ä»‹ç»äº†ä¸€ä¸‹æ€ä¹ˆå¾€ commodore æ¨¡æ‹Ÿå™¨çš„å±å¹•ä¸Šå†™è¾“å‡ºâ€¦
- æ‹‰å±çš„æ—¶å€™å¯ä»¥çœ‹ä¸€ä¸‹å°±å½“ä½œæ’é£äº†

**A general state rollback technique for C++** https://www.jfgeyelin.com/2021/02/a-general-state-rollback-technique-for-c.html

- æ ¸å¿ƒæ˜¯åˆ†ç¦»éœ€è¦å›æ»šçš„çŠ¶æ€å†…å­˜ï¼Œç»™è¿™éƒ¨åˆ†å†…å­˜åšå¿«ç…§ï¼Œéœ€è¦çš„æ—¶å€™æ•´å—å†…å­˜å¤åŸ
- å®ç°ä¸€ä¸ªä¸“ç”¨çš„ snapshot-allocatorï¼Œå¹¶ä¸”åˆ©ç”¨ RAII åœ¨éœ€è¦å¯ç”¨å›æ»šå†…å­˜çš„é€»è¾‘éƒ¨åˆ†å°†æ‰€æœ‰å†…å­˜åˆ†é…è½¬å…¥åˆ°è¿™ä¸ª snapshot allocator
- æ–‡ä¸­è¿˜æåˆ°äº†ä¸€äº›å‘ç‚¹ï¼Œæœ€æ˜¾è‘—çš„æ˜¯è¦æ³¨æ„ä¸åŒçš„ allocation context çš„å†…å­˜ä¸èƒ½æ··ç”¨ï¼Œå¹¶ä¸”è¦æ³¨æ„ snapshot allocation çš„åœ°å€å‰åéœ€è¦ä¸€è‡´ï¼Œå³ä»è¿™ä¸ª allocator åˆ†é…çš„å†…å­˜ä¸­æŸäº›æˆå‘˜ä¼šåˆ†é…å¹¶æŒ‡å‘å…¶ä»– snapshot allocator çš„åœ°å€ï¼Œè¿˜åŸçš„æ—¶å€™è¦ä¿è¯è¿™éƒ¨åˆ†å†…å­˜åœ°å€ä¹Ÿæ˜¯ä¸€è‡´çš„
- ä½œè€… Github å¼€æºäº†è¿™éƒ¨åˆ†åˆ†é…å™¨ï¼Œæœ‰å…´è¶£å¯ä»¥çœ‹ä¸€ä¸‹ä»£ç 

**__int128 çš„å®‰å…¨ä½¿ç”¨** https://zhuanlan.zhihu.com/p/375376949

- å¯¹ __int128 çš„æ“ä½œåœ¨ä¼˜åŒ–å¼€å¯çš„æƒ…å†µä¸‹ä¼šç”Ÿæˆ SSE/AVX çš„æŒ‡ä»¤ï¼Œè¿™äº›æŒ‡ä»¤éƒ½è¦æ•°æ®æŒ‰ç…§ 16-bit alignmentï¼Œå¦‚æœæ•°æ®åœ¨åµŒå¥—ä¸­æ²¡æœ‰æ³¨æ„å¯¹é½å°±ä¼šå‡ºç° crash

**Composing callables in modern C++** https://ngathanasiou.wordpress.com/2023/03/05/composing-callables-in-modern-c/

- åˆ©ç”¨ C++ 17/20 çš„ç‰¹æ€§å®ç° function compositionï¼Œéªšæ“ä½œ
- ä¸è¿‡çœ‹å®ç°æ„Ÿè§‰èƒ½ back port åˆ° C++ 11

**Lambdas as const ref** https://belaycpp.com/2021/05/25/lambdas-as-const-ref/

- ç”¨ const reference ç»‘å®š lambdaï¼Œä¼ é€’çš„æ—¶å€™å¯ä»¥çœæ‰æ‹·è´
- è®²é“ç†æˆ‘è§‰å¾—æ„ä¹‰ä¸å¤§â€¦..å¦‚æœ capture by ref æˆ–è€…æ˜¯ capture-lessï¼Œä¼ å€¼æ‹·è´èƒ½äº§ç”Ÿçš„ overhead åº”è¯¥æ˜¯å¾®ä¹å…¶å¾®å¹¶ä¸”å¤§å¤šæ—¶å€™åº”è¯¥æ˜¯è¦èƒ½è¢« optimized out çš„ï¼Œsample é‡Œçš„æƒ…å†µæˆ‘å€¾å‘æ˜¯å…¶ä»–åŸå› ï¼Œè€Œä¸”åŒä¸€ä¸ª lambda è¢«æ¥å›å¤åˆ¶æœ¬èº«å°±æœ‰ç‚¹ä¸åˆå®é™…

**Creating other types of synchronization objects that can be used with co_await, part 1: The one-shot event** https://devblogs.microsoft.com/oldnewthing/20210309-00/?p=104942

- ç³»åˆ—ç¬¬21ç¯‡
- è¿™ç¯‡å¼€å§‹ä»‹ç» synchronization primitives library çš„è®¾è®¡å®ç°

**Creating other types of synchronization objects that can be used with co_await, part 2: The basic library** https://devblogs.microsoft.com/oldnewthing/20210310-00/?p=104945

- ç³»åˆ—ç¬¬22ç¯‡
- è¿™ç¯‡ä»£ç æ¯”è¾ƒå¤šï¼Œç›´æ¥å±•ç¤ºäº† awaitable sync object çš„ä¸€ä¸ª general design & impl

**Creating other types of synchronization objects that can be used with co_await, part 3: Parallel resumption** https://devblogs.microsoft.com/oldnewthing/20210311-00/?p=104949

- ç³»åˆ—ç¬¬23ç¯‡
- è¿™ç¯‡å°† coroutine work çš„ resume æ”¾åˆ°äº† Windows æä¾›çš„çº¿ç¨‹æ± é‡Œï¼Œé¿å… resumption æ—¶å€™é˜»ç¢å…¶ä»– coroutine work

\#2

è·Ÿç€ä¸Šé¢æåˆ°çš„ CppCon å®ç°äº†ä¸€æŠŠ type erasure ä½†æ˜¯æ²¡æœ‰ talk é‡Œé¢çš„é‚£ä¹ˆ general & optimized

https://gist.github.com/kingsamchen/f5efc20b5878f3a8307a742a80fad12d

\#3

è¿™å‘¨å‘ç° anvil ç”Ÿæˆæ–°å·¥ç¨‹çš„æ—¶å€™ï¼Œç”Ÿæˆçš„é™„å¸¦ tests æ¨¡å—çš„ CMakeLists.txt æ–‡ä»¶ jinja æ¨¡æ¿æ¸²æŸ“çš„æœ‰é—®é¢˜

ç¨å¾®çœ‹äº†ä¸€ä¸‹ä»£ç å‘ç°äº†é—®é¢˜å°±é¡ºå¸¦ä¿®å¤äº†ä¸€ä¸‹ https://github.com/kingsamchen/anvil/pull/20

\#4

æœ€è¿‘æƒ³ç€æŠŠä¹‹å‰çš„ nlohmann json serde ç»™å•ç‹¬æŠ½å‡ºæ¥æ”¾åˆ°ä¸€ä¸ª repoï¼Œä»¥å‰æ˜¯ä¸ºäº†å…¬å¸é¡¹ç›®å†™çš„ experimental ç±»ä»£ç ï¼Œä½†æ˜¯å®è·µä¸­å‘ç°è¿˜çœŸæ˜¯æŒºå¥½ç”¨çš„ï¼Œå¹¶ä¸”æœäº†ä¸€ä¸‹å‘ç° github ä¸Šæ²¡æœ‰ç±»ä¼¼çš„å¼€æºå®ç° ğŸ¤£

æ‰€ä»¥æ‰“ç®—ç‹¬ç«‹å‡ºæ¥å¼€ä¸€ä¸ª repoï¼Œå¹¶ä¸”æŠŠ options è¿™éƒ¨åˆ†è°ƒæ•´ä¸€ä¸‹ï¼Œä¹‹å‰èƒƒå£æœ‰ç‚¹å¤§ï¼ŒåƒæŠŠ options åšæˆæ”¯æŒ compositionï¼Œä½†æ˜¯å®ç°è¿‡ç¨‹ä¸­å‘ç°å’Œ omit_empty çš„è¡Œä¸ºä¸å¥½æ•´åˆåœ¨ä¸€èµ·ï¼Œä¼šå¾ˆåˆ«æ‰­

æœ€è¿‘çªç„¶æƒ³åˆ°ä¸€ä¸ªæ¯”è¾ƒåˆç†çš„ workaroundï¼Œæ‰€ä»¥ç‹¬ç«‹ä¹‹åä¹Ÿæ‰“ç®—ç…§è¿™ä¸ªæ–¹å‘è¯•ä¸€ä¸‹

---

å¥½äº†è¿™å‘¨å°±è¿™æ ·ï¼Œä¸‹å‘¨è§
