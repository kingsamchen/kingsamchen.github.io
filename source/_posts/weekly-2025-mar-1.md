---
title: ä¸€å‘¨æ‚è®° in Week 1 Mar 2025
categories: CODE-LIFE
date: 2025-03-11 00:58:49
tags: [æ‚è®°]
---
æœ¬å‘¨ï¼ˆ03/03 ~ 03/09ï¼‰æ˜¯3æœˆä»½ç¬¬ä¸€å‘¨ã€‚

## Life

\#1

å‘¨äºŒçš®è›‹åšå®Œæ‰‹æœ¯å¤šå‘†äº†ä¸€å¤©ä¹‹åæˆ‘å°±å’ŒåŒ»ç”Ÿè¯´å‡†å¤‡ä¸‹åˆæ”¾å½’äº†ï¼Œè®©åŒ»ç”Ÿæ‰“ä¸€é’ˆé•¿æ•ˆæ¶ˆç‚é’ˆï¼Œé˜²æ­¢æ”¾å½’åæ„ŸæŸ“ã€‚

çš®è›‹åœ¨èˆªç©ºç®±é‡Œä¹Ÿä¸€ç›´å«ä¸ªä¸åœï¼Œä¼°è®¡æ˜¯çœŸçš„æœ‰ç‚¹æ€•ã€‚åˆ°äº†ç”Ÿæ´»åœ°æ–¹åï¼Œå°è›‹å‡‘äº†ä¸Šæ¥ï¼Œä½†æ˜¯æˆ‘ä¸€æ‰“å¼€èˆªç©ºç®±ä»¬ï¼Œçš®è›‹ç«ç®­ä¸€æ ·å’»çš„ç›´æ¥å†²äº†å‡ºå»ç„¶åå°±èº²åˆ°æ …æ åé¢çš„è‰ä¸›é‡Œäº†ã€‚ã€‚ã€‚

è¿‡äº†å‡ å¤©è§‚å¯Ÿçš®è›‹åº”è¯¥æ¢å¤çš„ä¸é”™ï¼ŒçŠ¶æ€ä¹Ÿè¿˜å¯ä»¥ã€‚

æ‰€ä»¥è¿™æ¬¡ TNR ä¹Ÿç®—æ˜¯æˆåŠŸäº†ã€‚ä¸è¿‡åç»­å°±ä¸ç»™ä»–æ‰“ç–«è‹—äº†ï¼Œæ¯•ç«Ÿååº”æ˜¯çœŸçš„å¤§ã€‚

\#2

æœ€è¿‘é¡¹ç›®ä¸€ç‚¹å¥½è½¬çš„è¶‹åŠ¿éƒ½æ²¡æœ‰ï¼Œè€å¼ åå€’è¶Šæ¥è¶Šç™«äº†ï¼Œä¸€ç›´ä¸€å¢æƒ…æ„¿çš„è§‰å¾—è‡ªå·±æ²¡é—®é¢˜éƒ½æ˜¯æ­å·è¿™è¾¹çš„äººä¸è¡Œï¼Œæ‰§è¡Œçš„æœ‰é—®é¢˜ã€‚

æ‘Šæ‰‹ã€‚

ä¼°è®¡ä»Šå¹´å°±å¾—æœ‰å„ç§å¥‡è‘©è€Œä¸” drama çš„äº‹æƒ…

\#3

å‘¨ä¸‰å…¬å¸ç”µå½±ä¿±ä¹éƒ¨çœ‹äº†å®½æ•ï¼Œæœ‰ç‚¹éš¾ç»·ï¼Œå¾ˆéš¾è¯„ã€‚

å‘¨æ—¥æœ¬æ¥æ‰“ç®—å»å¤é•‡ç©ç©ï¼Œä½†æ˜¯å‡ºå‘å‰å‘ç°å¤©æ°”ä¸å¤ªè¡Œï¼Œåª³å¦‡å„¿è¯´è¦ä¸ç„¶æ”¹çœ‹ç”µå½±å§ã€‚

ç„¶åå°±å¼€è½¦å»çœ‹äº†ã€ŠçŒ«çŒ«å¥‡å¹»æ¼‚æµã€‹ç„¶åçœ‹äº†å‡ ååˆ†é’Ÿåª³å¦‡å„¿å°±ç¡ç€äº† ğŸ¤¡

\#4

- **å®½æ• MisÃ©ricorde** 2/5 è¿™çœŸçš„æ˜¯2024å¹´çš„ç”µå½±å—ï¼Ÿä¸ºä»€ä¹ˆçœ‹å®Œæ„Ÿè§‰è¢«å¼ºè¡Œå¡äº†ä¸€å£1980sçš„è¿‡æœŸå‘éœ‰çš„é¢åŒ…çš„æ„Ÿè§‰?æ¬²æœ›çªç ´æ˜¾ç¤ºç†æ™ºæˆ‘å¯ä»¥ç†è§£ï¼Œä½†æ˜¯æœ‰å¿…è¦åšçš„è¿™ä¹ˆå‹‰å¼ºæŠ½è±¡é™æ™ºå—ï¼Ÿ
- **çŒ«çŒ«çš„å¥‡å¹»æ¼‚æµ Straume** 3/5 æ•…äº‹æ€§ä¸€èˆ¬ï¼Œä¸»çº¿æ¨è¿›çš„å¤ªæ…¢ã€‚æœ€åä¸€ç¾¤ä¸€å¼€å§‹å¤±å»ç›®æ ‡çš„ä¸ªä½“å› ä¸ºçŒ«ç»„åœ¨ä¸€èµ·å€’è¿˜ç®—å¯ä»¥

## Work

\#1

**CppCon 2022 | GPU Performance Portability Using Standard C++ with SYCL - Hugh Delaney & Rod Burns** https://www.youtube.com/watch?v=8Cs_uI-O51s&list=PLHTh1InhhwT6c2JNtUiJkaH8YRqzhU7Ag&index=91

- SYCL è¿™ç§ gpu æ¡†æ¶çš„ä»‹ç»

**CppNow 2024 | Fun with Flags - C++ Type-safe Bitwise Operations - Tobias Loew** https://www.youtube.com/watch?v=2dzWasWblRc&list=PL_AKIMJc4roWVN3DOxmYZVLNaH0pFHts1&index=41

- ä½œè€…å†™çš„ä¸€ä¸ª type-safe çš„ enum flags çš„åº“ï¼Œå·²ç» propose ç»™ boost äº†ï¼Œä½†æ˜¯æˆªæ­¢ç›®å‰è¿˜æ²¡è¿›
- è¿™ä¸ªåº“æ ¸å¿ƒæƒ³è§£å†³çš„å°±æ˜¯ enum flags åš & | çš„æ—¶å€™å¸Œæœ›èƒ½æŠŠæ•°å€¼æ“ä½œè½¬æ¢æˆå¸¦ç±»å‹çš„è¡Œä¸ºï¼Œè¿™æ ·åªè¦ä¸åŒ¹é…å°±èƒ½ç¼–è¯‘æœŸæŠ¥é”™ï¼›åŒæ—¶æä¾›ä¸€äº› handy functions
- ä¸è¿‡çœ‹èµ·æ¥è¿˜æ˜¯ä¼šå’Œ https://clang.llvm.org/docs/analyzer/checkers.html#optin-core-enumcastoutofrange å†²çª

**C++ Weekly - Ep 469 - How to Print in C++23** https://www.youtube.com/watch?v=s6CZmNOCoQU

- æ ¸å¿ƒå°±ä¸€å¥è¯ï¼šC++ 23 çš„ library å®ç°äº† `std::println()`
- ç°åœ¨ä¸‰å®¶ç¼–è¯‘å™¨æœ€æ–°ç‰ˆæœ¬çš„ stdlib éƒ½å®ç°äº†è¿™ä¸ª

**C++ Weekly - Ep 468 - Use -fvisibility=hidden!** https://www.youtube.com/watch?v=vtz8S10hGuc

- gcc/clangä¸ŠåŠ¨æ€åº“é»˜è®¤ä¸è¦å¯¼å‡ºç¬¦å·ï¼Œå¦åˆ™ fPIC ä¸‹ä¼šå¯¼è‡´å¾ˆå¤šå‡½æ•°è°ƒç”¨æ— æ³•è¢«å†…è”
- é¡ºå¸¦æä¸€å˜´ï¼Œé‡Œé¢æœ‰ä¸ª `-fno-semantic-interposition` çš„å‚æ•°æ˜¯è®©ç¼–è¯‘å™¨å‡è®¾å¯¼å‡ºç¬¦å·ä¸ä¼šè¢« LD_PRELOAD è¿™ç§ç»™åŠ¨æ€æ’æ¡©ï¼Œè®©ç¼–è¯‘å™¨è¿›è¡Œæ¿€è¿›ä¼˜åŒ–

**C++ Weekly - Ep 385 - The Important Parts of C++20 In Less Than 8 Minutes!** https://www.youtube.com/watch?v=N1gOSgZy7h4

- C++ 20 major features quick guide

**C++ Weekly - Ep 386 - C++23's Lambda Attributes** https://www.youtube.com/watch?v=YlmxNJnone0

- C++ 23 å¼€å§‹å¯ä»¥ç»™ lambda æŒ‡å®š attributes äº†ï¼›ä¸åŒä½ç½®çš„å‚æ•°åº”ç”¨åˆ°è¿”å›å€¼ï¼Œlambda è‡ªèº«ç±»å‹ï¼Œ å‚æ•°ç­‰

**C++ Weekly - Ep 384 - Lambda-Only Programming** https://www.youtube.com/watch?v=z5ndvveb2qM

- å•çº¯æ•´æ´»çš„

**Avoid exception throwing in performance-sensitive code** https://lemire.me/blog/2022/05/13/avoid-exception-throwing-in-performance-sensitive-code/

- å…¶å®æ ¸å¿ƒç‚¹è¿˜æ˜¯ä¸è¦æ‹¿ exception åš flow controlâ€¦

**How to Store an lvalue or an rvalue in the Same Object** https://www.fluentcpp.com/2022/05/16/how-to-store-an-lvalue-or-an-rvalue-in-the-same-object/

- æ ¸å¿ƒç‚¹æ˜¯æ‹¿ std::variant å­˜ value or reference
- ä½†æ˜¯å®é™…ä¸Šä½œè€…ä¸ç”¨è‡ªå·±è´¹æ—¶é—´å†™é‚£ä¸ª reference wrapperï¼Œç›´æ¥ç”¨ std::reference_wrapper å°±å¥½äº†

    ```cpp
    template<typename... Functions>
    struct overload : Functions... {
        using Functions::operator()...;
        explicit(false) overload(Functions... functions)
            : Functions(functions)... {}
    };

    TEST_CASE("varaint with reference") {
        std::variant<std::string,
                     std::reference_wrapper<std::string>,
                     std::reference_wrapper<const std::string>>
                vars;
        std::string s = "hello";
        vars = std::cref(s);
        std::visit(overload([](std::string& vals) { fmt::print("stored as value = {}", vals); },
                            [](std::reference_wrapper<std::string> refs) {
                                fmt::print("stored as reference = {}", refs.get());
                            },
                            [](std::reference_wrapper<const std::string> refs) {
                                fmt::print("stored as const-reference = {}", refs.get());
                            }),
                   vars);
    }

    ```


**gcc profiler internals** https://trofi.github.io/posts/243-gcc-profiler-internals.html

- gcc PGO çš„ç”¨æ³•å’Œ pgo æ–‡ä»¶æ ¼å¼ç§‘æ™®
- ç„¶åæ˜¯æ¯”è¾ƒæ·±å…¥çš„è®²äº†ä¸€ä¸‹ pgo è¿™éƒ¨åˆ†ä¸»è¦åšäº†å“ªäº› counting å’Œæ•°æ®å¤„ç†ï¼ˆè¿™éƒ¨åˆ†æ²¡æ€ä¹ˆä»”ç»†çœ‹ï¼‰
- æœ€åæäº†ä¸€ä¸‹å¯¹ python åš pgo å¯¼è‡´ gcc ICE è¿›è€Œå‘ç° pgo ä»£ç å®ç°æœ‰é—®é¢˜

**Assignment for optional<T>** https://brevzin.github.io/c++/2022/05/24/optional-assignment/

- è¿™ç¯‡çš„ `optional<T>` æ˜¯ä½œè€…è‡ªå·±å®ç°çš„ï¼Œå¹¶ä¸”æ”¯æŒ `optional<T&>` çš„ä¸œè¥¿
- æ­£ç‰‡çš„æ ¸å¿ƒå…¶å®åœ¨ä¸­ååŠæ®µï¼Œ`optional<T&>` çš„èµ‹å€¼åˆ°åº•æ„å‘³ç€ä»€ä¹ˆï¼Œå› ä¸º C++ çš„ reference semantics åœ¨è¿™é‡ŒæŠŠäº‹æƒ…æ…ä¹±äº†ï¼Œåˆ°åº•æ˜¯ underlying value assignment è¿˜æ˜¯ reference rebinding
- å®è¯è¯´ï¼Œæ ‡å‡†åº“çš„ `optional<T>` è¦æ”¯æŒå¼•ç”¨å¿…é¡»è¦ç”¨ `optional<reference_wrapper<T>>` åè€Œè®©é—®é¢˜çœ‹çš„æ¸…æ™°

**Branch/cmove and compiler optimizations** https://kristerw.github.io/2022/05/24/branchless/

- cmov å› ä¸ºæœ‰ dependency chains çš„é—®é¢˜æ‰€ä»¥å¼€é”€ä¹Ÿä¸ç®—ä½ï¼›ç»éªŒä¸Šåªæœ‰åˆ†æ”¯é¢„æµ‹å‡†ç¡®ç‡ä½äº 75% çš„æ—¶å€™ç”¨ cmov æ‰æœ‰ä¼˜åŠ¿ï¼›åŒæ—¶ç°åœ¨åˆ†æ”¯é¢„æµ‹çš„ä¼˜åŒ–èƒ½åŠ›æ˜¯å¾ˆå¼ºçš„ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™ branchless åè€Œä¼šè®©ä»£ç å˜æ…¢
- `r = c ? a : b;` è¿™ç§äº§ç”Ÿçš„IRå’Œåˆ†æ”¯æ˜¯ä¸€æ ·çš„ï¼Œè¦ branchless å¯¹ç¼–å†™ä»£ç æœ‰æŠ€å·§è¦æ±‚
- ä¸€äº›é¢„æœŸå¤–çš„ä¼˜åŒ–ä¼šå¹²æ‰° branchless æŒ‡ä»¤ç”Ÿæˆï¼Œæ¯”å¦‚ jump threadingï¼›åŒæ—¶ llvm åç«¯å› ä¸ºå€¾å‘å¤§å¤šæ—¶å€™ branch code æ€§èƒ½æ›´å¥½æ‰€ä»¥ä¼˜åŒ–å¤„ç†ååè€Œä¼šå¯¼è‡´ä¸ç”Ÿæˆ branchless æŒ‡ä»¤

\#2

è¿™å‘¨å› ä¸ºä¸€äº›åŸå› çªç„¶æƒ³èµ·æ¥é‡æ–°ç ”ç©¶ä¸€ä¸‹ httprouterï¼Œä½†æ˜¯åˆå› ä¸ºå¦å¤–ä¸€äº›åŸå› ï¼Œç¬¬äºŒå¤©å°±åœæ­¢äº†ã€‚

æœ€è¿‘å‘ç”Ÿäº†å¾ˆå¤šå¾ˆç™«ç‹‚çš„äº‹æƒ…ï¼Œå…·ä½“ä»¥åå†è¯´å§ã€‚æœ€è¿‘çœŸçš„æ˜¯å¿ƒç´¯äº†

---

å¥½äº†è¿™å‘¨å°±è¿™æ ·ï¼Œä¸‹å‘¨è§
