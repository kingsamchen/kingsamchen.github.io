---
title: ä¸€å‘¨æ‚è®° in Week 3 Mar 2025
categories: CODE-LIFE
date: 2025-03-24 23:54:31
tags:
---
æœ¬å‘¨ï¼ˆ03/17 ~ 03/23ï¼‰æ˜¯3æœˆä»½ç¬¬ä¸‰å‘¨ï¼Œå¤©æ°”çŸ­æš‚çš„å¼€å§‹è½¬çƒ­ï¼Œæ„Ÿè§‰å·²ç»è¦ä¸€ç§’å…¥å¤äº†ã€‚

## Life

\#1

å‘¨ä¸€çš„æ—¶å€™å…´è‡´å†²å†²å»å®¶é™„è¿‘çš„ä¹åˆ»ç²¾å“åº—æ‰“ç®—æ¥ç€è·‘æ­¥ï¼Œç»“æœå‘ç°ä»–ä»¬å®¶ç½‘ç»œåˆåˆåˆå‡ºé—®é¢˜äº†ã€‚ã€‚ã€‚

æ— å¥ˆéª‘ç”µé©´è·‘åˆ°äº†å¤å¢©è·¯å°è±¡åŸçš„ä¹åˆ»ã€‚

è™½ç„¶è¿™å®¶åº—é¢ç§¯æ¯”åŸè¥¿é“¶æ³°å¤§å¤šäº†ï¼Œè·‘æ­¥æœºçš„æ°´å¹³ä½ç½®ä¹Ÿæ²¡é—®é¢˜ï¼Œä½†æ˜¯è°ƒäº†é…é€Ÿä¹‹åå‘ç°è¿™ä¸ªè·‘æ­¥æœºçš„é€Ÿåº¦ä¸Šé™åº”è¯¥è¢«é”åˆ°äº†9kmh å·¦å³ï¼Œé…é€Ÿåé¢æ€ä¹ˆéƒ½ä¸Šä¸å»äº†

ä¸è¿‡èµ·ç èƒ½è·‘ï¼Œæ‰€ä»¥åªèƒ½æ”¹ç”¨æ‰‹è¡¨çš„å†ç¨‹è®°å½•äº†ï¼Œæ¯•ç«Ÿä¸èƒ½è‡ªæ¬ºæ¬ºäºº ğŸ¤¡

\#2

å‘¨ä¸‰çš„æ—¶å€™åª³å¦‡å„¿è¯´å·²ç»å’Œä¸ˆæ¯å¨˜è¯´åŒæ„å»è§å±±åŒ»é™¢é‚£å®¶æœˆå­ä¸­å¿ƒäº†ï¼Œäºæ˜¯ä¸ˆæ¯å¨˜ç«é€Ÿè”ç³»äº†å½“å¤©çš„æŠ¤å£«ï¼Œç­¾ç«‹äº†åˆåŒä¹Ÿä»˜äº†å®šé‡‘ã€‚

ç„¶åçº¦ç­‰äºæˆ‘ä»¬ä¸‰ï¼ˆæˆ‘ï¼Œæˆ‘å¦ˆï¼Œä»–å¦ˆï¼‰éƒ½æ¾äº†ä¸€å£æ°”ã€‚

åé¢ç»ˆäºä¸ç”¨å½“ä¸»Cäº†ã€‚

\#3

å‘¨å››æŠŠè½¦é€å»ä¿å…»äº†ï¼Œæ¢äº†ä¸ªåŸå‚çš„21å¯¸é©¬ç‰Œè½®èƒï¼Œè¿‘2000ï¼Œç¡®å®æœ‰ç‚¹å°è´µã€‚

å³åè½¦é—¨é‚£è¾¹è½»å¾®åˆ’ç—•åšäº†ä¸€ç‚¹æŠ›å…‰ä½†æ˜¯è¿˜æ˜¯èƒ½çœ‹å‡ºæ¥ã€‚ä¸è¿‡æš‚æ—¶å…ˆè¿™æ ·å§ï¼Œä¸ç„¶ç”¨æ²¹æ¼†åˆ¸è¡¥è¿™ç‚¹æ¼†ä¼°è®¡æœ‰ç‚¹äºã€‚

ç”¨äº†ä¸€å¼ å–é€åˆ¸ï¼Œæ¢å®Œè½®èƒåå‘¨äº”ä¸Šåˆä»£é©¾ç›´æ¥å¼€åˆ°åœ°åº“è½¦ä½ï¼Œç¡®å®æ–¹ä¾¿ã€‚

ä¸è¿‡æ™šä¸Šæ£€æŸ¥çš„æ—¶å€™å‘ç°æ´—è½¦ä¸æ˜¯å¾ˆç»†è‡´å•Šï¼Œä¸€äº›è§’è½çš„ç°æ²¡æ¸…å¹²å‡€ ğŸ¤¡

\#4

å‘¨å…­ä¸­åˆåƒäº†ä¸ªå¤§æ¸”ï¼Œåƒæ’‘äº†ï¼Œä¸‹åˆè·‘æ­¥çš„æ—¶å€™éå¸¸ä¸èˆ’æœã€‚

å› ä¸ºå®¶è¾¹ä¸Šçš„ä¹åˆ»è¿˜åœ¨ä¿®ç½‘ç»œï¼Œåˆä¸æƒ³è·‘å¤ªè¿œï¼Œæ‰€ä»¥å»çš„åŸè¥¿é“¶æ³°ã€‚

å½“å¤©å¤©æ°”æŒºçƒ­çš„ï¼Œä½†æ˜¯å¥èº«æˆ¿æ²¡æœ‰å¼€å†·æ°”ï¼Œé€šé£ä¹Ÿä¸€èˆ¬ï¼ŒåŠ ä¸Šä¸­åˆåƒçš„å¤ªå¤šäº†ï¼Œè·‘åˆ°ç¬¬6kmçš„æ—¶å€™å®åœ¨è·‘ä¸åŠ¨äº†ï¼Œæœ€å1.5kmåŸºæœ¬æ˜¯èµ°å®Œçš„ã€‚

è¯´æ˜ä»¥åä¸­åˆçœŸçš„ä¸èƒ½åƒå¤ªå¤šäº†

## Work

\#1

**CppCon 2022 | Help! My Codebase has 5 JSON Libraries - How Generic Programming Rescued Me - Christopher McArthur** https://www.youtube.com/watch?v=Oq4NW5idmiI&list=PLHTh1InhhwT6c2JNtUiJkaH8YRqzhU7Ag&index=96

- ä¸šåŠ¡ä¸Šä¸ºäº†é€‚é…5ä¸ªä¸åŒçš„ json libï¼Œç”¨ tmpï¼ˆmainly type traits + SFINAEï¼‰åšäº†ä¸€ä¸ªç¼–è¯‘æœŸåŒ¹é…æ£€æµ‹çš„ä¸œè¥¿
- static members ç”¨ is_detectedï¼ˆç›®å‰æ˜¯ experimentalï¼‰is_xxxï¼›æ™®é€š member å¾—ç”¨ std::declval

**CppCon 2022 | Lightning Talk: Modernizing SFML in Cpp - Chris Thrasher** https://www.youtube.com/watch?v=JJPL17sDxUs&list=PLHTh1InhhwT6c2JNtUiJkaH8YRqzhU7Ag&index=94

- æ¼”è®²è€…å‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨å§ï¼Œç”¨ modern cpp æ”¹é€  sfml è¿™ä¸ªæ¡†æ¶

**CppCon 2022 | C++20â€™s [[likely]] Attribute - Optimizations, Pessimizations, and [[unlikely]] Consequences** https://www.youtube.com/watch?v=RjPK3HKcouA&list=PLHTh1InhhwT6c2JNtUiJkaH8YRqzhU7Ag&index=93

- likely å’Œ unlikely ç¼–è¯‘å™¨å¾ˆæ—©å°±æœ‰ built-in intrinsic è¿™æ¬¡åªæ˜¯æ ‡å‡†åŒ–äº†ï¼›ä»–ä»¬çš„ä½œç”¨ä¸»è¦æ˜¯ hint è®©ç¼–è¯‘å™¨ç”Ÿæˆæ›´åˆé€‚çš„ä»£ç 
- ç¼–è¯‘å™¨è‡ªå·±ä¼šæœ‰ branch predictor ä¼˜åŒ–ï¼Œä»¥åŠ CPU è‡ªèº«ä¹Ÿæœ‰ branch predictor çš„ä¸€äº› on-the-fly ä¼˜åŒ–
- è¿™äº› hints éƒ½ä¸ä¼šå½±å“ CPU è‡ªèº«çš„ branch predictorï¼Œåªèƒ½è¯´æ˜¯ç¼–è¯‘å™¨å°½é‡è¾…åŠ©è´´è¿‘ CPU çš„ç‰¹è´¨
- likely å¯¹ loop æ²¡å•¥ç”¨ï¼Œä½†æ˜¯unlikely å¯¹loop ç”¨å¾—ä¸å¯¹æœ‰è´Ÿé¢å½±å“ï¼›ä¸è¿‡clangç›®å‰ç”Ÿæˆçš„ä»£ç æ²¡æœ‰å·®åˆ«
- è°¨æ…ä½¿ç”¨è¿™ä¸ªattributesï¼Œç»å¤§å¤šæ•°æ—¶å€™ç¼–è¯‘å™¨çš„é€‰æ‹©æ˜¯å¯¹çš„ï¼Œç”¨é”™åè€Œä¼šé€ æˆæ€§èƒ½é™ä½

**CppNow 2024 | Mistakes to Avoid When Writing C++ Projects - Bret Brown** https://www.youtube.com/watch?v=UrU8O1mMyNE&list=PL_AKIMJc4roWVN3DOxmYZVLNaH0pFHts1&index=45

- æ¥è‡ª bloomberg çš„åˆ†äº« C++ project å¼€å§‹çš„ä¸€äº›æ³¨æ„ç‚¹
- sample repo https://github.com/bretbrownjr/zerocode
- å¯¹äºæ„å»ºå·¥å…·å’ŒåŒ…ç®¡ç†é‚£éƒ¨åˆ†æ„Ÿè§‰æœ‰ç‚¹æ„æ€ï¼ŒåŒ…æ‹¬ä¸€äº›å‚æ•°ä¸åº”è¯¥ç›´æ¥ hardcoded è€Œæ˜¯é€šè¿‡å¤–éƒ¨æ³¨å…¥ï¼Œè¿™ç§æ˜æ˜¾æ˜¯æœ‰å¤§å‹æ··åˆé¡¹ç›®ç»éªŒçš„

**CppNow 2024 | Generic Arity: Definition-Checked Variadics in Carbon - Geoffrey Romer** https://www.youtube.com/watch?v=Y_px536l_80&list=PL_AKIMJc4roWVN3DOxmYZVLNaH0pFHts1&index=43

- ä»‹ç»çš„ carbon-lang çš„ variadic type checking
- å¯ä»¥å½“ä¼‘é—²

**C++ Weekly - Ep 471 - C++26's =delete With a Reason** https://www.youtube.com/watch?v=9iFJRCHwSok

- C++ 26 å…è®¸ `= delete("reason why to delete")`

**C++ Weekly - Ep 379 - clang-tidy's "Easily Swappable Parameters" Warning - And How to Fix It!** https://www.youtube.com/watch?v=Zq4yYPG7Erc

- è¿™ä¸ª tidy æˆ‘è§‰å¾—åªå¯¹ library designer æœ‰å‚è€ƒæ„ä¹‰ï¼Œè€Œä¸”æ„ä¹‰æœ‰é™ï¼Œå®é™…åº”ç”¨ä½“éªŒå¾ˆå·®ï¼›æœ‰æ—¶å€™ç”šè‡³ä¸å¦‚ç”¨ ut è§£å†³
- æ–‡ä¸­ç¬¬ä¸€ä¸ª strong type çš„æ–¹æ¡ˆç¬¬ä¸€æ˜¯å¾ˆç¹çï¼Œè€Œä¸”è¿™äº›ç±»å‹å¾ˆ ad-hocï¼›ç¬¬äºŒä¸ªæ–¹æ¡ˆ `Range{1, 100}` æˆ‘æ˜¯ä¸æ˜¯å¯ä»¥è¯´è¿™ä¸ªæ„é€ å‡½æ•°å¯èƒ½ä¹Ÿå†™é”™å‘¢ï¼Œæ¯•ç«Ÿä¸¤ä¸ªéƒ½æ˜¯ int ï¼Ÿ

**C++ Weekly - Ep 376 - Ultimate CMake C++ Starter Template (2023 Updates)** https://www.youtube.com/watch?v=ucl0cw9X3e8

- jason è‡ªå·±æå¾— project template

**C++ Weekly - Ep 378 - Should You Ever std::move An std::array?** https://www.youtube.com/watch?v=56DMwqKffi0

- ç®—æ˜¯ä¸€ä¸ª common senseï¼Œarray ä¸èƒ½è¢«ç§»åŠ¨ï¼Œæœ€å¤šé‡Œé¢çš„æ¯ä¸ªå…ƒç´ è¢«ç§»åŠ¨
- å¦‚æœå…ƒç´ ä¹Ÿä¸èƒ½è¢«ç§»åŠ¨å°±é€€åŒ–æˆäº†æ‹·è´
- ä¸è¿‡å¦‚æœæ˜¯å‰è€…ï¼Œé‡‡ç”¨æ›´ explicit çš„æ–¹å¼æ„Ÿè§‰è¦æ›´å¥½ä¸€äº›

**C++ Weekly - Ep 377 - Looking Forward to C++26: What C++ Needs Next** https://www.youtube.com/watch?v=L4PqCIMmc-A

- Jason è‡ªå·±æœŸå¾…çš„ 26 çš„ä¸€äº›ç‰¹æ€§
    - rest/more constexpr
    - pattern matching
    - contracts
    - reflection, especially enum â†” string
    - no more implicit conversion in standard library

**C++ Weekly - Ep 375 - Using IPO and LTO to Catch UB, ODR, and ABI Issues** https://www.youtube.com/watch?v=Ii-zuK1cd90

- ç”¨ LTO æ¥å¤„ç† ODR-vioaltionï¼Œæœ‰ç‚¹æ„æ€â€¦å°±æ˜¯ä¼šä¸ä¼šæœ‰ç‚¹æ€é¸¡ç”¨ç‰›åˆ€å•Š

**Getting rid of unwanted branches with __builtin_unreachable()** https://nicula.xyz/2025/02/23/unwanted-branches.html

- åˆ©ç”¨ `__builtin_unreachable()` (å¯¹åº”åˆ° C++ 23 çš„ `std::unreachable()` ï¼‰æ¥åšç¼–è¯‘å™¨çš„æ¿€è¿›ä¼˜åŒ–
- ä¸è¿‡è¿™ä¸ªå¤ª low-level å’Œ tricky ï¼ŒåŸºæœ¬æ˜¯å¾—è·Ÿç€ä½ çš„ bottleneck çš„ä¸Šä¸‹æ–‡ç‰¹å¾æ¥
- æ–‡ä¸­å‘ç°è¾“å…¥å‚æ•°ä» ptr + len æ¢æˆäº† std::vector éƒ½ä¼šå¯¼è‡´ GCC ä¸‹çš„ä¼˜åŒ–å¤±è´¥â€¦

**Making my debug build run 100x faster so that it is finally usable** https://gaultier.github.io/blog/making_my_debug_build_run_100_times_faster.html

- ä¸ºäº†ä¸€å ç²—ï¼ˆSIMDï¼‰åšäº†ä¸€ç›˜é¥ºå­
- å«Œå¼ƒ debug build ä¸‹ asan byte-by-byte  å¤„ç†æ‹–æ…¢äº† sha1 computation

**7 Interesting (and Powerful) Uses for C++ Iterators** https://johnfarrier.com/7-interesting-and-powerful-uses-for-c-iterators/?utm_source=rss&utm_medium=rss&utm_campaign=7-interesting-and-powerful-uses-for-c-iterators

- å†…å®¹å®ç”¨æ€§ä¸€èˆ¬ï¼Œå¾ˆå¤šè§£æ³•éƒ½æœ‰æ›´å¥½çš„ã€‚ã€‚æ‘Šæ‰‹

**asioå¦‚ä½•å¤„ç†eofé”™è¯¯** https://mp.weixin.qq.com/s?__biz=MzIxMzY5MzY4MQ==&mid=2247484517&idx=1&sn=5d7325eeb6d0812ab68c8bb002ebb515&chksm=97b3a1fba0c428ed516c98ac9435e03936060d4e462c30a903e9eecf2893b9f1b4bd21279e71

- è¿™ç¯‡è™½ç„¶çŸ­çš„ï¼Œä½†æ˜¯æƒ³äº†ä¸€ä¸‹æ˜¯æœ‰é“ç†çš„
- TCP çš„å…³é—­ç¡®å®æ˜¯ä¸ªè€å¤§éš¾é—®é¢˜ï¼Œshutdown write ä¼šè¿›å…¥ half-closed çŠ¶æ€ï¼Œè™½ç„¶å¯¹ç«¯FINåŒ…éƒ½å‘äº†ä½†æ˜¯å®é™…ä¸Šè¿˜èƒ½è¯»
- è¿™ç¯‡çš„æ ¸å¿ƒå°±æ˜¯è€ƒè™‘åˆ°å¯¹ç«¯å¯èƒ½ä¸“é—¨æœ‰ half-closed éœ€è¦å¤„ç†ï¼Œè¯»åˆ° eof çš„æ—¶å€™å¦‚æœè¿˜æœ‰æ•°æ®æ²¡å‘å®Œå°±å…ˆå‘å† shutdown
- muduoé‡Œæˆ‘è®°å¾—ä¹Ÿæœ‰ç±»ä¼¼çš„å¤„ç†é€»è¾‘

\#2

è·Ÿç€ Jason çš„è§†é¢‘å­¦ä¹ äº†ä¸€ä¸‹å¤§æ¦‚çŸ¥é“äº†æ€ä¹ˆç”¨ CMake å¯ç”¨ LTO äº†

```cmake
include(CheckIPOSupported)
check_ipo_supported(RESULT supported OUTPUT error) # hard error if LTO not supported

set_target_properties(foobar PROPERTIES INTERPROCEDURAL_OPTIMIZATION ON)
```
