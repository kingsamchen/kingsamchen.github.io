---
title: ä¸€å‘¨æ‚è®° in Week 2 Dec 2025
categories: CODE-LIFE
date: 2025-12-15 20:52:37
tags: [æ‚è®°]
---
è¿™å‘¨ï¼ˆ12/8 ~ 12/14ï¼‰æ˜¯12æœˆç¬¬äºŒå‘¨ï¼Œè¿™å‘¨åå†·å•Šã€‚

## Life

\#1

è¿™å‘¨çŠ¶æ€æœ‰ç‚¹ç´§ç»·ï¼Œè¿ç»­å¥½å‡ å¤©å¤œé—´ç¡è§‰çš„ HRV éƒ½æ‰åˆ°äº†å¾ˆä½çš„è§¦å‘çº¢è‰²è­¦æˆ’çš„å€¼ï¼Œä¹Ÿä¸çŸ¥é“ä»€ä¹ˆæƒ…å†µ

é—®äº† GPT è¯´æ˜¯å“ªæ€•ç¡è§‰æ—¶å€™å¤§è„‘ä¹Ÿæ²¡æœ‰å¤„äºæ”¾æ¾çŠ¶æ€ï¼Œè€Œæ˜¯æ—¶åˆ»å‡†å¤‡é€ƒè·‘/æˆ˜æ–—çš„å±æœºçŠ¶æ€

è¿™å°±å¯¼è‡´è™½ç„¶ç¡çœ æ—¶é—´çœ‹èµ·æ¥æ­£å¸¸ï¼Œä½†æ˜¯å®é™…ä¸Šå¤§è„‘å’Œå¿ƒè„éƒ½æ²¡æœ‰è·å¾—æ•´æ•´çš„ä¼‘æ¯ï¼Œç™½å¤© body battery éå¸¸ä½ï¼Œå¾ˆå®¹æ˜“ç–²åŠ³

è€Œä¸”æ¯æ—¥å¹³å‡å¿ƒç‡æ¯”ä¹‹å‰çªç„¶å‡é«˜å¥½å¤šï¼Œèº«ä½“ä¹Ÿä¸€ç›´å¤„äºç´§ç»·çš„çŠ¶æ€

ä¸‹å‘¨ä¼°è®¡è¦é’ˆå¯¹æ€§çš„åšä¸€ç‚¹è°ƒæ•´äº†ï¼Œæ¯”å¦‚æ—©ç‚¹ä¸ŠåºŠç¡è§‰ï¼Œå…¥ç¡å‰å¤šæ”¾æ¾ï¼›ä»¥åŠæ—¥å¸¸å¤šåšä¸€ä¸‹æ·±å‘¼å¸çš„æ“ä½œ

## Work

\#1

**CppNow 2025 | Safer C++ at Scale with Static Analysis - Yitzhak Mandelbaum** https://www.youtube.com/watch?v=3zQ4zw4GNV0&list=PL_AKIMJc4roW7umwjjd9Td-rtoqkiyqFl&index=42

- åˆ†äº«äº†ä¸€ä¸‹ google å†…éƒ¨å¯¹äºè¿™éƒ¨åˆ†çš„ç»éªŒ
- å†…éƒ¨å¤§é‡ä½¿ç”¨ notnull/nullable annoation æ¥æ ‡è®° raw pointer çš„æ¥å£ï¼ˆæœ‰ç‚¹å¥½å¥‡æ€ä¹ˆæœ‰è¿™ä¹ˆå¤šï¼‰
- å¦å¤–ä»–ä»¬å·²ç»å¼€å§‹å°è¯•ä½¿ç”¨ clang/libc++ çš„ std hardeningï¼Œå°±æ˜¯ä¸€äº›å¸¸è§æ“ä½œä¼šæœ‰æ£€æŸ¥ï¼Œä»£ä»·æ˜¯å¤§çº¦ 0.3% çš„æ€§èƒ½å¼€é”€
- ç„¶åæ˜¯å¼ºåˆ¶åˆå§‹åŒ–
- å¦å¤–è¿˜æåˆ°äº† clang çš„ä¸€äº› lifetime çš„å®éªŒæ€§åŠŸèƒ½ï¼Œä¸è¿‡ç›®å‰åœç•™åœ¨function scope

**CppNow 2025 | Harnessing constexpr - A Path to Safer C++ - Mikhail Svetkin** https://www.youtube.com/watch?v=THkLvIVg7Q8&list=PL_AKIMJc4roW7umwjjd9Td-rtoqkiyqFl&index=41

- åˆ©ç”¨ constexpr æ¥é¿å… UB å’Œæå‰å‘ç°é”™è¯¯
- ç¼ºç‚¹æ˜¯é€‚ç”¨åœºæ™¯è¦†ç›–æœ‰é™è€Œä¸”å¯¹æ ‡å‡†çš„è¦æ±‚é«˜ï¼ˆå¿˜äº†23è¿˜æ˜¯26æ‰€æœ‰çš„ containers æ‰éƒ½ constexpr-åŒ–ï¼‰

**C++ Weekly - Ep 509 - Can Lambdas Inherit Interfaces?** https://www.youtube.com/watch?v=f0heIju3udc

- å¾ˆæœ‰æ„æ€çš„ä¸€ä¸ªåˆ†äº«ï¼Œlambda å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ª callable object é‚£ä¹ˆè‡ªç„¶ä¹Ÿå¯ä»¥ç›´æ¥ç»§æ‰¿ï¼Œä½†æ˜¯ä»¥å¾€çš„æ—¶å€™è¿™ä¸ªä¹Ÿæ²¡æœ‰ä»€ä¹ˆå®é™…ä½œç”¨
- ä½†æ˜¯éšç€ C++ 23 æä¾›äº† deducing thisï¼Œå°±å¯ä»¥æŠŠ lambda çš„å‚æ•°å˜æˆ auto&& this selfï¼Œç„¶åæŠŠå…·ä½“å®ç°ç‚¹æ”¾åˆ°å­ç±»ä¸­ï¼ŒåŸºæœ¬å°±æ˜¯ CRTP çš„åšæ³•
- ä¸è¿‡æ„Ÿè§‰çœŸæœ‰éœ€æ±‚è¿˜æ˜¯å…ˆè€ƒè™‘æ­£é“æ¯”è¾ƒå¥½

**C++ Weekly - Ep 226 - The Arrow Operator Is Magic** https://www.youtube.com/watch?v=mAHHKDyLmCI

- æ ¸å¿ƒå°±æ˜¯ï¼šé‡è½½ `operator->()` ä¹‹åçš„ usage å…¶å®æ˜¯éœ€è¦ç¼–è¯‘å™¨é…åˆçš„ï¼Œè€Œä¸”è¿™ä¸ªæ˜¯ since day one å°±å†™åœ¨æ ‡æ³¨ä¸­

**Moving From Intel to ARM - Apple's Big Performance Mistake?** https://www.youtube.com/watch?v=JAr0c6le_F8

- ä¸Šå†å²è¯¾ + x86/64 å’Œ ARM æ±‡ç¼–çš„ç®€å•å¯¹æ¯”

**C++ Weekly - Ep 225 - Understanding Operator Overloading** https://www.youtube.com/watch?v=gjFrjNK3Dq4

- ç§‘æ™® operator overloadï¼Œä¸è¿‡æ²¡æœ‰æ hidden friend ä¼˜åŠ¿æœ‰ç‚¹å¯æƒœ

**C++ Weekly - Ep 224 - RPG In C++20 - Part 5: Dealing With Game Input Events** https://www.youtube.com/watch?v=EF-lO3daS7I

- ç›´æ’­å†™ä»£ç  part 5

**asio c++20åç¨‹çš„ redirect_error ç”¨æ³•æ”¹å–„** https://www.jackarain.org/2022/09/18/asio-redirect_error_improve.html

- æ€è·¯ä¸é”™ï¼Œç»§æ‰¿ååŠ ä¸€ä¸ª operator[] é‡è½½

    ```cpp
    namespace asio_util
    {
     template <typename Executor = boost::asio::any_io_executor>
     struct asio_use_awaitable_t : public boost::asio::use_awaitable_t<Executor>
     {
      constexpr asio_use_awaitable_t()
       : boost::asio::use_awaitable_t<Executor>()
       {}

      constexpr asio_use_awaitable_t(const char* file_name,
       int line, const char* function_name)
       : boost::asio::use_awaitable_t<Executor>(file_name, line, function_name)
       {}

      inline boost::asio::redirect_error_t<
       typename boost::decay<decltype(boost::asio::use_awaitable_t<Executor>())>::type>
       operator[](boost::system::error_code& ec) const noexcept
       {
        return boost::asio::redirect_error(boost::asio::use_awaitable_t<Executor>(), ec);
       }
      };
    }
    ```

- ä¸è¿‡ç°åœ¨å¿…è¦æ€§ä¸å¤§äº†ï¼Œå› ä¸º ASIO å¥½æ—©ä¹‹å‰çš„ç‰ˆæœ¬å°±æŠŠé»˜è®¤çš„ completion_token æ¢æˆäº† deferredï¼Œè€Œ deferred å¯ä»¥ç›´æ¥æ— ç¼è¡”æ¥ co_awaitï¼Œæ‰€ä»¥ç°åœ¨ç›´æ¥ç”¨ redirect_error å°±è¡Œ

    ```cpp
    std::error_code ec;
    co_await repeat.async_wait(asio::redirect_error(ec));
    ```


**asioå¼‚æ­¥åŒ–çš„å®ç°æ–¹æ³•** https://www.jackarain.org/2023/03/01/asio-how-to-async-for-me.html

- å¯¹åº” asio official examples ä¸­çš„ Operations é‚£ä¸€éƒ¨åˆ†
- ä¸è¿‡å®˜æ–¹ä¾‹å­éƒ½æ²¡æœ‰æ¶‰åŠåˆ°åˆ‡æ¢åˆ°æŸä¸ªçº¿ç¨‹æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œæ‰€ä»¥ä¸€ç›´æ²¡æ³¨æ„åˆ° asio æä¾›çš„ completion token adapterï¼Œä¾‹å¦‚ deferred, use_awaitable è¿™äº›éƒ½æ˜¯ non-copyable çš„ï¼Œåªèƒ½ move åˆ° lambda é‡Œï¼›è€ƒè™‘åˆ° token çš„ signature éƒ½æ˜¯ auto&&ï¼Œæ‰€ä»¥ callback å®ç°ä¸Šæœ€å¥½è‡³å°‘è¦èƒ½æ”¯æŒ moveable

**æµ…è°ˆ std::wstring_convert åŠ utf ç¼–ç è½¬æ¢** https://www.jackarain.org/2023/04/30/wstring_convert.html

- ç„¶è€Œ codecvt é‚£å‡ ä¸ªéƒ½å·²ç»è¢«æ ‡è®°æˆ deprecated å¹¶ä¸” removed in 26 äº† https://en.cppreference.com/w/cpp/header/codecvt.html
- ä»¥ååº”è¯¥æ˜¯ 26 é‚£ä¸ª text encoding proposal äº†

**åè®®å®ç°ä¸åº”è¯¥å…³å¿ƒå­—èŠ‚åº** https://www.jackarain.org/2023/05/16/byte-order-not-matter.html

- æˆ‘è§‰å¾—è¿˜æ˜¯æ²¡æ³•ä¸å…³å¿ƒçš„ï¼Œæ–‡ä¸­çš„ä¾‹å­ä¹Ÿæ˜¯é€‰å–ä¸€ç§æ¯”è¾ƒç›´è§‚çš„æ–¹å¼ä½œä¸ºç›®æ ‡å­—èŠ‚åº

    ```cpp
    template<typename type, typename source>
    type read(source& p)
    {
    	type ret = 0;
    	for (std::size_t i = 0; i < sizeof(type); i++)
    		ret = (ret << 8) | (static_cast<unsigned char>(*p++));
    	return ret;
    }

    template<typename type, typename target>
    void write(type v, target& p)
    {
    	for (auto i = (int)sizeof(type) - 1; i >= 0; i--, p++)
    		*p = static_cast<unsigned char>((v >> (i * 8)) & 0xff);
    }
    ```

    è¿™é‡Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯è½¬æˆ big-endian

- ä¸è¿‡åšæ•°æ®ä¼ è¾“çš„æ—¶å€™é‡‡ç”¨æ›´ standard/general çš„åè®®è¿™è¯æ˜¯æ²¡é”™çš„ï¼Œæ¯”å¦‚ pb for binaryï¼Œjson ç”šè‡³ xml for text

**ç°ä»£ c++ è§£å†³ c++ abi é—®é¢˜çš„ä¸€äº›æ–¹æ³•** https://www.jackarain.org/2023/06/10/modern-cpp-abi.html

- åˆ©ç”¨ inline namespace æ³¨å…¥ç‰ˆæœ¬å·åˆ°ç¬¦å·åä¸­ï¼Œè¿™æ · lib æ›´æ–°ï¼ˆå¹¶æ›´æ”¹ç‰ˆæœ¬å·åï¼‰user å¼ºåˆ¶éœ€è¦é‡æ–°è¿æ¥
- ä¸¥æ ¼æ¥è¯´å¹¶æ²¡æœ‰è§£å†³ ABI é—®é¢˜ï¼Œåªæ˜¯æä¾›äº†ä¸€ä¸ªé€”å¾„é¿å…è¯¯ç”¨

\#2

è¿™å‘¨ä¸€ä¸ªå¤§è¿›åº¦æ˜¯æŠŠ fawkes servier side cookie support ç»™åšå®Œäº†

PR è§ï¼šhttps://github.com/kingsamchen/fawkes/pull/15

å‘ç°æ—¶é—´è¿˜æœ‰å¤šï¼Œé¡ºå¸¦è°ƒæ•´äº†ä¸€ä¸‹ fawkes target çš„ naming convention https://github.com/kingsamchen/fawkes/pull/16ï¼›ä¸»è¦æ˜¯è§‰å¾— `fawkest.tests` è¿™ç§å®åœ¨æœ‰ç‚¹å¥‡æ€ªã€‚

è¿™æ¬¡ä¿®æ”¹ä¸å°å¿ƒâ€œæ¢å¤â€äº†ä¹‹å‰ pch target çš„ ALIAS target `fawkes::pch`ï¼Œä½†æ˜¯ç¥å¥‡çš„å‘ç° reuse target å±…ç„¶åœ¨ Windows ä¸Šå¯ä»¥ç¼–è¯‘é€šè¿‡äº†ï¼›ä»¥å‰ MSVC ä¼šè¯•å›¾åˆ›å»ºåŒ…å« `:` çš„ç›®å½•è€Œå¯¼è‡´å¤±è´¥ï¼Œè¿™æ¬¡è§‚å¯Ÿäº†ä¸€ä¸‹æ„å»ºè¿‡ç¨‹ï¼Œå‘ç°ä¸ä¼šå†åˆ›å»ºç±»ä¼¼ç›®å½•äº†ã€‚

æˆ‘ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯ MSVC æ›´æ–°åè§£å†³çš„ï¼Œä½†æ˜¯è·‘äº† Github CI åå‘ç° CI è¿˜æ˜¯ä¼šå¤±è´¥ï¼Œåæ¥æƒ³åˆ°å¯èƒ½æ˜¯ CMake å‡çº§åè§£å†³çš„ï¼Œäºæ˜¯æ”¹äº†ä¸€ä¸‹ Github Windows CIï¼Œä½¿ç”¨æœ€æ–°çš„ CMake ä¹‹åå‘ç°ç¡®å®æ²¡æœ‰è¿™ä¸ªé—®é¢˜äº†...

è¿™ç®—æ˜¯ä¸ªå¥½äº‹å§ ğŸ¤”

\#3

è¿™å‘¨é‡åˆ°ä¸€ä¸ª clang-tidy çš„æœ‰ç‚¹å‘çš„åœ°æ–¹ã€‚

fawkes cookie support éƒ¨åˆ†ç”¨åˆ°äº† beast çš„ http request_headersï¼Œåº•ä¸‹å®é™…ä¸Šæ˜¯ boost intrusive linked listï¼Œä½†æ˜¯è¿™ä¸ªå®¹å™¨çš„ iterator clang-tidy ä¸è®¤è¯†ï¼Œå‡½æ•°å‚æ•° pass-by-value æ—¶å°±ä¼š complainã€‚

æŠ˜è…¾äº†å¥½ä¹…æ€ä¹ˆ suppress æœ€åå‘ç°æ­£ç¡®åšæ³•åº”è¯¥æ˜¯è¿™æ ·ï¼š

- åœ¨éœ€è¦çš„åœ°æ–¹ `using iterator = boost::intrusive::concret_iterator;`
- ç„¶åæŠŠ iterator åŠ åˆ° `performance-unnecessary-value-param.AllowedTypes` é‡Œ

---

å¥½äº†è¿™å‘¨å°±è¿™æ ·ï¼Œä¸‹å‘¨è§
