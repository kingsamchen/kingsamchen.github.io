---
title: ä¸€å‘¨æ‚è®° in Week 3 Dec 2025
categories: CODE-LIFE
date: 2025-12-22 23:22:51
tags: [æ‚è®°]
---
è¿™å‘¨ï¼ˆ12/15 ~ 12/21ï¼‰æ˜¯12æœˆç¬¬ä¸‰å‘¨ï¼Œä¸‹å‘¨å°±æ˜¯åœ£è¯äº†ï¼Œè™½ç„¶ä¸­å›½ä¸æ”¾å‡ä½†æ˜¯ç¾å›½æ”¾å‡å•Šã€‚

## Life

\#1

è¿™å‘¨ä¸çŸ¥é“æ˜¯ä»€ä¹ˆåŸå› ï¼Œæˆ‘è€å©†è¯´æˆ‘å¤ªç„¦è™‘äº†ï¼Œä½†æ˜¯æˆ‘æ€»è§‰å¾—æ˜¯æ„ŸæŸ“äº†ç”²æµç—…æ¯’ä½†æ˜¯æ˜¯æ— ç—‡çŠ¶ï¼Œå¯¼è‡´ç¡çœ çš„ HRV å¥‡ä½ï¼Œè€Œå¹³æ—¶çš„å¿ƒç‡å¾ˆå®¹æ˜“å‡é«˜ï¼Œé™æ¯å¿ƒç‡ä¹Ÿä»å¹³æ—¶çš„48ä¸€è·¯å‡åˆ°äº†58.

è¿™å¯¼è‡´è™½ç„¶æ¯å¤©ç¡äº†å¥½ä¹…ä½†æ˜¯å…¶å®éƒ½æ²¡æœ‰æ€ä¹ˆæ¢å¤ï¼Œç²¾åŠ›è¿˜æ˜¯å¾ˆå·®ã€‚

è€Œä¸”ç¨å¾®ä¸€ä¸ªå¼ºåº¦çš„è¿åŠ¨å°±ä¼šæŠŠå¿ƒç‡æ‰“é«˜ï¼Œæœ‰æ°§è·‘æ­¥ä¹Ÿæ˜æ˜¾æœ‰æ°´å¹³ä¸Šçš„é€€åŒ–ã€‚

ä¸è¿‡å¥½æ¶ˆæ¯æ˜¯å‘¨äº” WFH å¼€å§‹ï¼ŒHRV å’Œ RHR éƒ½å¼€å§‹æ˜æ˜¾æ”¹å–„ã€‚

å¸Œæœ›ä¸‹å‘¨èƒ½æ¢å¤æ­£å¸¸ï¼Œæ¯•ç«Ÿè¿™å‘¨éƒ½æ²¡æ€ä¹ˆæ­£ç»è¿åŠ¨ï¼Œä¸‹å‘¨æƒ³ä¸Šä¸‹æ‹³å‡»è®­ç»ƒè¥ã€‚

\#2

è¿™å‘¨æ—¥æ˜¯å†¬è‡³ï¼Œå’Œç§‹å®çš„ç¬¬ä¸€ä¸ªå†¬è‡³ã€‚

æ™šä¸Šè·‘å®Œæ­¥å›æ¥åƒäº†ä¸ªå¤§é—¸èŸ¹+æ±¤åœ†çš„æ™šå®´ï¼Œç„¶åæ´—ä¸ªçƒ­æ°´æ¾¡ï¼Œå’Œç§‹å®ä¸€èµ·è€è€ã€‚

æˆ‘å¦ˆå›è€å®¶åä¹Ÿæœ‰åŠä¸ªæœˆæ²¡çœ‹åˆ°ç§‹å®äº†ï¼Œå¼€äº†ä¸ªè§†é¢‘é€šè¯ç»™å¥¹å’Œç§‹å®é—²æ‰¯å‡ å¥ã€‚

ä¸‹å‘¨ä¸€ç§‹å®å°±æ­£å¼7ä¸ªæœˆäº†ï¼Œå¥¹è¿™å‘¨å·²ç»å¼€å§‹è®² mama-mama äº†ï¼Œæ„Ÿè§‰å†è¿‡ä¸€ä¸ªæœˆå°±èƒ½è¯´äº›æ›´å¤æ‚çš„è¡¨è¾¾äº†

\#3

è¿™å‘¨å–‚çŒ«ç»ˆäºé‡åˆ°äº† ä¹ä¹ å’Œ çš®è›‹ï¼Œå°¤å…¶æ˜¯çš®è›‹ï¼Œç»™æˆ‘å“æ­»äº†ï¼Œä»¥ä¸ºä»–ä¹Ÿå’Œå°è›‹ä¸€æ ·é­é‡ä¸æµ‹ã€‚

ä¸‡å¹¸è¿™ä¿©éƒ½æŒºå¥åº·åƒçš„è¿˜ä¸é”™ï¼Œä¹ä¹åº”è¯¥æ˜¯ä¸€ç›´åœ¨å°åŒºå†…æœ‰äººæŠ•å–‚ï¼Œçš®è›‹ä¼°è®¡æ˜¯ç»å¸¸ä¼šåŠå¤œæ¥åƒé¥­ã€‚

å‘¨æ—¥æ™šä¸Šä¹Ÿç»™ä»–ä»¬å¼€äº†å¥½å¤šçŒ«ç²®å’Œç½å¤´ï¼Œè®©ä»–ä»¬å†¬è‡³ä¹Ÿåƒä¸ªé¥±é¥­ã€‚

\#4

è¿™å‘¨ç”µå½±ä¿±ä¹éƒ¨çœ‹äº†ç«è½¦æ¢¦ï¼Œç»™æˆ‘çœ‹å·®ç‚¹ç ´é˜²ï¼ˆæ­£å‘è¯„ä»·ï¼‰

- **ç«è½¦æ¢¦ Train Dreams** 4/5 ä¸€ä¸ªè¢«ä¸Šå¸å°†å°±çš„äººï¼Œç»å†ç€ä¸–é—´çš„å˜é©ï¼Œåˆå¤±å»äº†å¦»å¥³å˜æˆäº†å­¤èº«ä¸€äººï¼Œå¸¦ç€å¯¹å¥³å„¿å¹¸å­˜å”¯ä¸€æ‰§å¿µï¼Œæœ€ç»ˆè·Ÿéšç€æ—¶é—´èµ°å®Œäº†è‡ªå·±çš„ä¸€ç”Ÿã€‚ååŠ²æ¯”æ´»ç€æ›´å¤§ã€‚

## Work

\#1

**CppCon 2023 | File I/O for Game Developers: Past, Present, and Future with C++ - Guy Davidson** https://www.youtube.com/watch?v=1CdduHa-KgA&list=PLHTh1InhhwT7gQEuYznhhvAYTel0qzl72&index=19

- æ„Ÿè§‰ä¸Šäº†ä¸€èŠ‚å†å²è¯¾â€¦
- æ²¡æœ‰å¤ªå¤šä»£ç å±‚é¢çš„ä¸œè¥¿ï¼Œä¸»è¦è¿˜æ˜¯é‚£ç§å†å²å‘å±•çš„å›é¡¾

**CppNow 2025 | Extending std::execution - Implementing Custom Algorithms with Senders & Receivers** https://www.youtube.com/watch?v=zcNip8ydpmM&list=PL_AKIMJc4roW7umwjjd9Td-rtoqkiyqFl&index=43

- å®Œå…¨ä¸çŸ¥é“è¿™å“¥ä»¬åœ¨è¯´å•¥ã€‚ã€‚ã€‚å¬äº†ä¸€åŠå¼ƒäº†
- çœ‹è¯„è®ºä¸æ­¢æˆ‘ä¸€ä¸ªäººè¿™ä¹ˆè®¤ä¸º

**CppCon 2023 | C++ Modules: Getting Started Today - Andreas Weis** https://www.youtube.com/watch?v=_x9K9_q2ZXE&list=PLHTh1InhhwT7gQEuYznhhvAYTel0qzl72&index=16

- ä»è¿™ä¸ªæ¼”è®²ä¸Šæ¥æ¨ç®—ï¼Œç°åœ¨ç¼–è¯‘å™¨å’Œæ„å»ºç³»ç»Ÿå¯¹modulesçš„æ”¯æŒéƒ½å·²ç»ç®—æ˜¯å¯ä»¥ä¸Š production-ready äº†ï¼Œåº”è¯¥åªéœ€è¦ä¸€äº› corner cases çš„å¤„ç†éœ€è¦è°ƒæ•´
- ä¸è¿‡ä¸‰æ–¹åº“çš„æ¼”è¿›åº”è¯¥ä¼šæ˜¯ä¸€ä¸ªæ¯”è¾ƒä¹…çš„è¿‡ç¨‹
- å¦å¤–æ¼”è®²æœ€å1/3æäº†å¾ˆå¤šç°æœ‰é¡¹ç›®å¦‚ä½•æ¼”è¿› modules çš„ tips

**Ep 511 â€“ C++ move(obj).fun() vs move(obj.fun()): The Reference-Qualifier Gotcha** https://www.youtube.com/watch?v=nLjrMcjsa0Y

- std::optional::value() åŒºåˆ†äº† & / &&  qualifierhttps://en.cppreference.com/w/cpp/utility/optional/value.html
- è¿™ä¸ªè¯„è®º https://github.com/lefticus/cpp_weekly/issues/489#issuecomment-3422282035 è¯´çš„å¾ˆåˆ°ä½ï¼Œå‰è€…è¯­ä¹‰æ˜ç¡®ä¸€äº›ï¼Œè€Œä¸”è°ƒç”¨ä¹‹åä¸åœ¨ä¹ objï¼›åè€…è°ƒç”¨ä¹‹å obj è‡ªèº«çŠ¶æ€å¾ˆå®¹æ˜“è¿å invariant

**C++ Weekly - Ep 510 - The AMAZING Performance of array (and span)!** https://www.youtube.com/watch?v=u0mVnuUh46w

- std::array å¸¦ç¼–è¯‘æœŸçš„é•¿åº¦ä¿¡æ¯ï¼Œå¯ä»¥å¸®åŠ©ç¼–è¯‘å™¨åšä¼˜åŒ–ï¼›std::span ç±»ä¼¼
- æ ¸å¿ƒç‚¹å°±æ˜¯ï¼Œç¼–è¯‘æœŸçš„ä¿¡æ¯è¶Šå¤šï¼Œç¼–è¯‘å™¨èƒ½åšçš„ä¼˜åŒ–ä¹Ÿè¶Šå¤š ğŸ¤”

**C++ Weekly - Ep 223 - Know Your Standard Library: std::nextafter** https://www.youtube.com/watch?v=-F0j2VN4xEU

- ä»‹ç»çš„æµ®ç‚¹æ•°ç›¸å…³çš„ä¸€ä¸ªæ ‡å‡†åº“ util

**C++ Weekly - Ep 222 - 3.5x Faster Standard Containers With PMR!** https://www.youtube.com/watch?v=q6A7cKFXjY0

- åº”è¯¥æ˜¯ jason ç¬¬ä¸€ç¯‡è®² pmr çš„ï¼Œæ²¡æœ‰ä»»ä½•ä¼˜åŒ–çš„ç®€å•ä½¿ç”¨å¹³å‡æœ‰ 3.5x çš„æå‡ï¼Œä¸»è¦æ¥è‡ª stack alloaction çš„ä¼˜åŒ–
- è®²é“ç† pmr è¿™å¥—æŠŠä¹‹å‰çš„ stack allocator ç›´æ¥ç»™ç§’äº†

**C++ Weekly - Ep 221 - Generating a .clang-format For C++ Doom** https://www.youtube.com/watch?v=FNLWtKxXQ0o

- ç›´æ¥ä»ç°æœ‰çš„ä»£ç é£æ ¼ç”Ÿæˆä¸€ä¸ª .clang-formatï¼Œä½†æ˜¯çœ‹èµ·æ¥ä¸æ˜¯å¾ˆå¥½ç”¨ï¼Œè€Œä¸”æ—¶é—´ä¹Ÿå¤ªä¹…äº†
- ä¸è¿‡æˆ‘å€’æ˜¯æŒºæƒ³è¦ä¸€ä¸ªèƒ½ä»ç°æˆ cmake æ–‡ä»¶äº§ç”Ÿ cmake-format çš„æ–¹æ³•

**åŸºäº asio å¼‚æ­¥æœºåˆ¶å®ç°ç›®å½•ç›‘æ§** https://www.jackarain.org/2023/06/11/dirmon-base-asio.html

- æ ¸å¿ƒå…¶å®å°±æ˜¯è¿™ä¸ªå‡½æ•° https://github.com/Jackarain/autogit/blob/master/autogit/include/watchman/linux/linux_watchman.hpp#L88
- æœ¬è´¨ä¸Šè¿˜æ˜¯å‰é¢æåˆ°çš„ asio async_initiate çš„ä½¿ç”¨

**å…³äºåœ¨ asio ä½¿ç”¨ transfer_at_least æ•°æ®ä¼ è¾“æ—¶æ€§èƒ½ä¼˜åŒ–** https://www.jackarain.org/2023/06/13/asio-transfer_at_least-performance.html

- asio è‡ªå¸¦çš„ `transfer_all()` / `transfer_at_least()` å†…éƒ¨çš„ buffer å¤§å°æ˜¯ 64-KB
- æ¼”ç¤ºäº†è‡ªå®šä¹‰ä¸€ä¸ª completion_conditionï¼Œæ ¸å¿ƒæ˜¯ç­¾åç¬¦åˆå°±è¡Œï¼›è¿”å›çš„ç»“æœå°±æ˜¯åéœ€è¦ prepare çš„buffer å¤§å°
- ä½†æ˜¯é—®é¢˜æ˜¯è¶…è¿‡ç³»ç»Ÿç¼“å†²åŒºçš„bufferæœ‰å¿…è¦å—ï¼Ÿ

**å…³äºåœ¨ asio ä½¿ç”¨ tcp::acceptor æ—¶æ€§èƒ½ä¼˜åŒ–** https://www.jackarain.org/2023/06/14/asio-acceptor-performance.html

- å¯¹è¿™ç¯‡å…¶å®å­˜ç–‘ï¼Œé—®äº† GPTï¼Œç­”æ¡ˆå’Œæˆ‘çš„æƒ³æ³•æ¯”è¾ƒæ¥è¿‘
- åŒ accept å¦‚æœæœ‰ç”¨ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯ accept è°ƒç”¨å‰/åå¹²çš„äº‹æƒ…å¤ªå¤šï¼Œä»¥åŠæ²¡æœ‰å……åˆ†éš”ç¦» acceptor ä½¿ç”¨çš„ executor

**c++ ä¸­ if constexpr çš„ always_false** https://www.jackarain.org/2023/09/22/static_assert.html

- è¿™ç¯‡æœ‰ç‚¹æ„æ€ï¼Œç›®æ ‡æ˜¯

    ```cpp
    template <typename T>
    void foo() {
        if constexpr (std::is_same_v<T, int>) {
            //...
        } else if constexpr (std::is_same_v<T, float>) {
            // ...
        } else {
           static_assert(...);  // --> force compiler to fail
        }
    }
    ```

    è®© eles è¿™éƒ¨åˆ†è¢«é€‰å–çš„æ—¶å€™è§¦å‘ç¼–è¯‘é”™è¯¯

- ä¸ªäººæ„è§æ˜¯å¦‚æœæœ‰éœ€è¦åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰é‚£ä¸ª always_fail å°±å¥½äº†ã€‚ã€‚å¯è¯»æ€§å¥½å¾—å¤š

**å…³äº c++ asio æ€§èƒ½å°è®°** https://www.jackarain.org/2023/10/14/asio-performance.html

- æœ‰äº› tips è¿˜è¡Œ

**Sender/Receiver æ¨¡å¼çš„è®¾è®¡ç¼ºé™·** https://www.jackarain.org/2025/07/17/sender_is_bad.html

- æ ¸å¿ƒå°±æ˜¯è¯´ S&R åœ¨ partial success æ–¹é¢æä¾›çš„æœºåˆ¶å¹¶ä¸å‹å¥½ï¼Œè€Œç½‘ç»œç¼–ç¨‹ç»å¸¸è¦é¢å¯¹ partial successï¼Œæ¯”å¦‚å¯¹é¢æ•°æ®å‘äº†ä¸€åŠå°±ç›´æ¥æ–­å¼€é“¾æ¥äº†
- åªèƒ½è¯´å…ˆå›´è§‚ï¼Œåæ­£æˆ‘ä¹Ÿä¸æ‡‚ S&Rï¼Œç­‰29æ²¡å‡†æœ‰åŸºäº S&R çš„ç½‘ç»œåº“å‘¢

**è®º c++ ä¸­ error_code çš„è®¾è®¡** https://www.jackarain.org/2025/08/20/error_code_design.html

- è¯„ä»·æ˜¯ä¸å¦‚çœ‹æˆ‘çš„ https://kingsamchen.github.io/2024/02/25/dive-into-error-code-error-condition-and-error-category-in-cxx/

**ä½¿ç”¨ boost::url å®šåˆ¶ URL è§£æå™¨** https://www.jackarain.org/2025/11/24/boost_url_eazy.html

- å·§äº†ï¼Œæˆ‘åœ¨å†™ fawkes çš„æ—¶å€™ä¹Ÿå¤§é‡ç”¨äº† boost/urlsï¼Œè¿™ä¸ªåº“ç¡®å®å¾ˆç‰›é€¼
- æ ¸å¿ƒ
    1. å®šä¹‰ä¸€ä¸ª foo_bar ä½œä¸º parse äº§ç‰©
    2. å®šä¹‰ä¸€ä¸ª foo_bar_rule_t ä½œä¸º parsing ruleï¼Œå¹¶ä¸”å†…éƒ¨å®šä¹‰ value_type ä¸º foo_bar
    3. ä¸º foo_bar_rule_t å®ç°ä¸€ä¸ª parse æ¥å£

        ```cpp
        boost::system::result<value_type> parse(char const*& it, char const* const end) const noexcept;
        ```

    4. ä½¿ç”¨è€…é€šè¿‡è°ƒç”¨

        ```cpp
        boost::urls::grammar::parse(string_view_content, foo_bar_rule_t{});
        ```

        æ¥å®Œæˆè§£æ

\#2

è¿™å‘¨æŠ½äº†ç‚¹æ—¶é—´æŠŠ io-thread-pool åŠ å¥½äº†ï¼ŒèŠ±çš„æ—¶é—´æ¯”é¢„æœŸå°‘ https://github.com/kingsamchen/fawkes/pull/17

å› ä¸ºä¸€å¼€å§‹å°±æ˜¯æ‰“ç®—æŠŠ io thread pool åšæˆå¯é€‰çš„æ¨¡å¼ï¼Œæ‰€ä»¥æ¥å£è®¾è®¡ç›´æ¥â€œå€Ÿé‰´â€äº† `asio::thread_pool` ä½†æ˜¯å®ç°è¿‡ç¨‹ä¸­å‘ç°å¾ˆéš¾åšåˆ° `thread_pool::join()` çš„è¯­ä¹‰ï¼›å› ä¸ºä¸ä¾é ä¾µå…¥åˆ° exeuction_context ä¸­æ²¡æ³•å‡†ç¡®è·å¾— outstanding tasks çš„æ•°é‡ï¼Œè¿™æ ·ä¹Ÿå°±åšä¸åˆ°åªæœ‰å½“æ²¡æœ‰ pending requests æ—¶æ‰å» reset work guard

å¦åˆ™å°±ä¼šå‡ºç° pool ä¸­æœ‰çš„ thread å› ä¸ºæ²¡æœ‰ task å¹¶ä¸” guard ä¹Ÿ reset äº†ç›´æ¥é€€å‡ºäº†ï¼Œè€Œæœ‰çš„ thread è¿˜åœ¨è·‘ã€‚

ä¸¥æ ¼æ¥è¯´æ¥è¯´æœ‰ä¸ª workaroundï¼šæ¯”å¦‚æŒ‰é¡ºåºï¼ˆé¡ºåºé€†åºæœ¬è´¨æ²¡åŒºåˆ«ï¼‰å…ˆ reset work guard ç„¶å join è¿™ä¸ª threadï¼Œè¿™ä¸ª thread é€€å‡ºä¹‹åå†å¤„ç†ä¸‹ä¸€ä¸ªï¼Œæœ¬èº«è°ƒç”¨ join ä¼šç›´æ¥å¼ºåˆ¶ wait æ•´ä¸ª pool ç»“æŸï¼Œå¹¶ä¸” `asio::thread_pool::join()` ä¹Ÿå¯èƒ½å‡ºç° infinite wait çš„æƒ…å†µ

ä¸è¿‡è€ƒè™‘åˆ°è¿™ä¸ªå¯èƒ½å’Œåé¢çš„ graceful shutdown æœ‰å…³ï¼Œæ‰€ä»¥è¿™é‡Œå…ˆç•™äº†ä¸ªå£å­ï¼Œç­‰åˆ°åé¢åšçš„æ—¶å€™å†æƒ³æƒ³

\#3

é¡ºå¸¦æŠ½äº†ç‚¹æ—¶é—´ä¼˜åŒ–äº†ä¸€ä¸‹ CMakeï¼š

- å¼•å…¥äº† `fawkes_source_folder()` ç®€åŒ–äº† source group ä½¿ç”¨
- å‡ ä¸ªæ¼äº† fawkes_ å‰ç¼€çš„è‡ªå®šä¹‰å‡½æ•°æŠŠå‰ç¼€åŠ å›æ¥äº†ï¼Œé¿å…å†²çª

PR è§ https://github.com/kingsamchen/fawkes/pull/18

---