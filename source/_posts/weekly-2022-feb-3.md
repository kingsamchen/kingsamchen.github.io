---
title: 一周杂记 in Week 3 Feb 2022
categories: CODE-LIFE
date: 2022-02-20 23:41:06
tags: [杂记]
---
节后第二周，生活和工作节奏都慢慢恢复到了之前的状态。

## Life

1. 一口气刷了好几集 The Expanse S05，感觉 S05 前半部分又在攒局积攒冲突。但是一个不好的地方是核心冲突又回到了人上，protomolecule 还是“飘在外面”；期待后续有更高的格局
2. 陪老婆看了《半个喜剧》感觉还行，和驴得水一样属于不那么开心麻花的麻花剧；但是整体上给人留下深刻印象的地方反而不多
3. 准备《半个喜剧》的时候发现阿哔的电视大会员已经过期了，个人大会员提示还有6天过期。当年可是信誓旦旦的说员工终身呢，结果这整的和一国两制50年不动摇一样。
  后续应该是不打算掏钱续了，毕竟我不看番剧；国内电影的话只能自己找资源了。不过同事说客户端的大会员还是会续费的，但是我看他们都是每月一号续费，我26号到期，这怎么看着也不太想我能续上？
4. 周六（昨天）喂小区流浪猫的时候手贱想去摸猫，结果被猫挠出血了...本来打算喂完去健身房的，结果一想这是不得暂缓一下。
  回去清理了伤口打电话给老婆，结果老婆吃自助餐呢一直没回应，把我给气的。最后总算联系上了，合计了一下还是要打狂犬疫苗，而且晚上大部分医院都下班了，最后去了红十字打上了第一针，后面还有四针要安排。
  还好挂号费和针剂费75块钱能走医保，只需要自费28块钱注射服务费。
  真就 2017 年摸猫惨案重演.....只不过当时在上海打的一针380的疫苗，还不进医保（虽然副作用小一点，不容易过敏）
5. 事后我想了一下，发现这事情和铁拳遍历性还挺像：
    1. 这小猫看着都正常，也只是被爪子挠了，伤口还很小，所以概率上至少 99.99% 是不需要打疫苗的
    2. 但是狂犬病是近乎 100% 的死亡率
    3. 概率上说，一个人被铁拳的可能很小；只要没被铁拳到，你就可以岁月静好
    4. 但是如果作为个体，不幸被铁拳了，那基本是碾压性伤害
    5. 所以，你赌吗？
6. 周六打完了疫苗我问老婆今天跑步会有事儿吗，老婆说你的体质来看，能有个屁事儿。真有问题我现场给你急救...
  借着这句话，今天在健身房又把跑步机刷到了今日门店第一：40mins 5.9KM
7. 这周本来是要去趟上海赴大江哥的离职宴的，没曾想前脚杭州的限制都放开了，苏州的 omicron 的疫情冒头了。
  真就打地鼠啊.....

## Work

1. 工作上这一周基本都在做 MTA(postfix) 相关的小 ticket，整体来算是有点阶段性的 achievement
2. 下周开始要时隔六年重新写 Java 了；因为我们不想自己维护一个 ES 集群，希望把相关的功能接入到合肥那边的 async-search 组件上。
  而据目前了解，那边的 SDK 靠谱的只有 Java 的。毕竟是块砖，哪里需要往哪里搬 -''-
3. 上周实现某个功能的时候发现一个 protobuf 的一个坑点：如果某个字段的类型是 protobuf::Timestamp，那么生成的 C++ 代码里这个类不会有这个字段的 setter。
  非常诡异，我也不知道为什么；查了好久也没有找到解释为什么会这样的资料。
  于是乎要修改这个字段只能通过 `mutable_xx()` 拿到指针，然后再改；麻烦到不麻烦，就是感觉不靠谱。
  具体参见 https://stackoverflow.com/questions/43268845/do-i-need-to-delete-objects-passed-to-google-protocol-buffer-protobuf/43327247#43327247 和 https://stackoverflow.com/questions/57042597/protobuf-c-message-with-google-timestamp-leads-to-seg-fault
4. 刷了几个章节的 effective shell，学了不少常见命令的一些经常会用到的用法
5. 《程序员的自我修养》还剩下最后两章，目前还在复习 Linux 动态库一部分；以前这部分倒是真没仔细看，以为用不着；没想到现在都要补回来。
  还顺带整理了一些相关的 posts 打算一起过掉
6. 最近看书/文章的进度有所下降是因为不少时间都在 esl strings/split 上。
  这周已经把 split iterator 和 split view 主体都写完了；还剩下 `to<Container>` 类似的部分。
  剩下的这部分感觉坑不会少，估计又要一周时间
7. 周末抽了不时间把 Windows 和 Linux 的 clang/llvm 工具链都升级到13；也弄了一份 clang-tidy 的规则先用着。后面 tune 的差不多了再 share。

---

这周就这样，下周再见
