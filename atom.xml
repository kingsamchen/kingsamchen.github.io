<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>KCçš„åºŸå¢Ÿå †</title>
  
  <subtitle>Will you serve in Heaven, or rule in Hell</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://kingsamchen.github.io/"/>
  <updated>2022-04-10T16:09:07.780Z</updated>
  <id>http://kingsamchen.github.io/</id>
  
  <author>
    <name>Kingsley Chen</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ä¸€å‘¨æ‚è®° in Week 1 Apr 2022</title>
    <link href="http://kingsamchen.github.io/2022/04/10/weekly-2022-apr-1/"/>
    <id>http://kingsamchen.github.io/2022/04/10/weekly-2022-apr-1/</id>
    <published>2022-04-10T14:52:21.000Z</published>
    <updated>2022-04-10T16:09:07.780Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;h2 id=&quot;Life&quot;&gt;&lt;a href=&quot;#Life&quot; class=&quot;headerlink&quot; title=&quot;Life&quot;&gt;&lt;/a&gt;Life&lt;/h2&gt;&lt;p&gt;æœ¬å‘¨æºæ‚äº†ä¸€ä¸ªæ¸…æ˜å‡æœŸï¼ŒèŠ‚åä¸‰å¤©å·¥ä½œæ—¥è¿˜ç®—æ°åˆ°å¥½å¤„ï¼Œæ²¡æœ‰å¤ªæ˜æ˜¾çš„å‡æœŸç»¼åˆç—‡ã€‚&lt;/p&gt;
&lt;p&gt;#1&lt;/p&gt;
&lt;p&gt;ç”µå½±ä¸Šçœ‹äº†
        
      
    
    </summary>
    
      <category term="CODE-LIFE" scheme="http://kingsamchen.github.io/categories/CODE-LIFE/"/>
    
    
      <category term="æ‚è®°" scheme="http://kingsamchen.github.io/tags/%E6%9D%82%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€å‘¨æ‚è®° in Week 5 Mar 2022</title>
    <link href="http://kingsamchen.github.io/2022/03/29/weekly-2022-mar-5/"/>
    <id>http://kingsamchen.github.io/2022/03/29/weekly-2022-mar-5/</id>
    <published>2022-03-29T07:52:21.000Z</published>
    <updated>2022-04-05T06:16:33.659Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;h2 id=&quot;Life&quot;&gt;&lt;a href=&quot;#Life&quot; class=&quot;headerlink&quot; title=&quot;Life&quot;&gt;&lt;/a&gt;Life&lt;/h2&gt;&lt;p&gt;#1&lt;/p&gt;
&lt;p&gt;æœ¬å‘¨æ˜¯æ¸…æ˜å‡å‰çš„æœ€åä¸€å‘¨ï¼Œè¦ä¸Š6å¤©ç­ã€‚å‘¨äºŒçš„æ—¶å€™æŠŠå»å¹´é—ç•™çš„ä¸€å¤©å¹´å‡ç”¨äº†ï¼Œç»“æœåˆ°äº†å‘¨ä¸‰ 3/30
        
      
    
    </summary>
    
      <category term="CODE-LIFE" scheme="http://kingsamchen.github.io/categories/CODE-LIFE/"/>
    
    
      <category term="æ‚è®°" scheme="http://kingsamchen.github.io/tags/%E6%9D%82%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€å‘¨æ‚è®° in Week 4 Mar 2022</title>
    <link href="http://kingsamchen.github.io/2022/03/27/weekly-2022-mar-4/"/>
    <id>http://kingsamchen.github.io/2022/03/27/weekly-2022-mar-4/</id>
    <published>2022-03-27T13:24:19.000Z</published>
    <updated>2022-03-27T15:49:04.470Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;h2 id=&quot;Life&quot;&gt;&lt;a href=&quot;#Life&quot; class=&quot;headerlink&quot; title=&quot;Life&quot;&gt;&lt;/a&gt;Life&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;æœ¬å‘¨çœ‹äº†ä¸‰éƒ¨ç”µå½±ï¼š&lt;em&gt;Cruella&lt;/em&gt;, &lt;em&gt;Sully&lt;/em&gt; and &lt;em&gt;The
        
      
    
    </summary>
    
      <category term="CODE-LIFE" scheme="http://kingsamchen.github.io/categories/CODE-LIFE/"/>
    
    
      <category term="æ‚è®°" scheme="http://kingsamchen.github.io/tags/%E6%9D%82%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€å‘¨æ‚è®° in Week 3 Mar 2022</title>
    <link href="http://kingsamchen.github.io/2022/03/20/weekly-2022-mar-3/"/>
    <id>http://kingsamchen.github.io/2022/03/20/weekly-2022-mar-3/</id>
    <published>2022-03-20T12:57:09.000Z</published>
    <updated>2022-03-27T12:19:36.552Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;æ„Ÿè§‰è¿™å‘¨æ—¶é—´è¿‡å¾—ç‰¹åˆ«å¿«ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Life&quot;&gt;&lt;a href=&quot;#Life&quot; class=&quot;headerlink&quot; title=&quot;Life&quot;&gt;&lt;/a&gt;Life&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;å‘¨å…­å»åŒ»é™¢æ‰“äº†æœ€åä¸€é’ˆç‹‚çŠ¬ç–«è‹—ï¼Œåªè¦ç–«è‹—æ˜¯çœŸçš„æœ‰æ•ˆï¼Œé‚£ä¹ˆè‡³å°‘ 1-2
        
      
    
    </summary>
    
      <category term="CODE-LIFE" scheme="http://kingsamchen.github.io/categories/CODE-LIFE/"/>
    
    
      <category term="æ‚è®°" scheme="http://kingsamchen.github.io/tags/%E6%9D%82%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€å‘¨æ‚è®° in Week 2 Mar 2022</title>
    <link href="http://kingsamchen.github.io/2022/03/13/weekly-2022-mar-2/"/>
    <id>http://kingsamchen.github.io/2022/03/13/weekly-2022-mar-2/</id>
    <published>2022-03-13T15:22:57.000Z</published>
    <updated>2022-03-13T16:21:34.545Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;h2 id=&quot;Life&quot;&gt;&lt;a href=&quot;#Life&quot; class=&quot;headerlink&quot;
        
      
    
    </summary>
    
      <category term="CODE-LIFE" scheme="http://kingsamchen.github.io/categories/CODE-LIFE/"/>
    
    
      <category term="æ‚è®°" scheme="http://kingsamchen.github.io/tags/%E6%9D%82%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€å‘¨æ‚è®° in Week 1 Mar 2022</title>
    <link href="http://kingsamchen.github.io/2022/03/06/weekly-2022-mar-1/"/>
    <id>http://kingsamchen.github.io/2022/03/06/weekly-2022-mar-1/</id>
    <published>2022-03-06T15:37:29.000Z</published>
    <updated>2022-03-06T16:43:35.425Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;h2 id=&quot;Life&quot;&gt;&lt;a href=&quot;#Life&quot; class=&quot;headerlink&quot; title=&quot;Life&quot;&gt;&lt;/a&gt;Life&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;è¿™å‘¨æ²‰è¿· The Witcher
        
      
    
    </summary>
    
      <category term="CODE-LIFE" scheme="http://kingsamchen.github.io/categories/CODE-LIFE/"/>
    
    
      <category term="æ‚è®°" scheme="http://kingsamchen.github.io/tags/%E6%9D%82%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€å‘¨æ‚è®° in Week 4 Feb 2022</title>
    <link href="http://kingsamchen.github.io/2022/02/24/weekly-2022-feb-4/"/>
    <id>http://kingsamchen.github.io/2022/02/24/weekly-2022-feb-4/</id>
    <published>2022-02-24T14:42:33.000Z</published>
    <updated>2022-02-27T15:11:20.609Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;h2 id=&quot;Life&quot;&gt;&lt;a href=&quot;#Life&quot; class=&quot;headerlink&quot; title=&quot;Life&quot;&gt;&lt;/a&gt;Life&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;åˆ·å®Œäº† The Expanse
        
      
    
    </summary>
    
      <category term="CODE-LIFE" scheme="http://kingsamchen.github.io/categories/CODE-LIFE/"/>
    
    
      <category term="æ‚è®°" scheme="http://kingsamchen.github.io/tags/%E6%9D%82%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€å‘¨æ‚è®° in Week 3 Feb 2022</title>
    <link href="http://kingsamchen.github.io/2022/02/20/weekly-2022-feb-3/"/>
    <id>http://kingsamchen.github.io/2022/02/20/weekly-2022-feb-3/</id>
    <published>2022-02-20T15:41:06.000Z</published>
    <updated>2022-02-20T16:21:39.645Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;èŠ‚åç¬¬äºŒå‘¨ï¼Œç”Ÿæ´»å’Œå·¥ä½œèŠ‚å¥éƒ½æ…¢æ…¢æ¢å¤åˆ°äº†ä¹‹å‰çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Life&quot;&gt;&lt;a href=&quot;#Life&quot; class=&quot;headerlink&quot; title=&quot;Life&quot;&gt;&lt;/a&gt;Life&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;ä¸€å£æ°”åˆ·äº†å¥½å‡ é›† The Expanse
        
      
    
    </summary>
    
      <category term="CODE-LIFE" scheme="http://kingsamchen.github.io/categories/CODE-LIFE/"/>
    
    
      <category term="æ‚è®°" scheme="http://kingsamchen.github.io/tags/%E6%9D%82%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€å‘¨æ‚è®° in Week 2 Feb 2022</title>
    <link href="http://kingsamchen.github.io/2022/02/13/weekly-2022-feb-2/"/>
    <id>http://kingsamchen.github.io/2022/02/13/weekly-2022-feb-2/</id>
    <published>2022-02-13T15:11:31.000Z</published>
    <updated>2022-02-13T16:08:15.491Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;Blog ä»ä¸Šæ¬¡æ›´æ–°åˆ°ç°åœ¨è‡³å°‘è’å‡ ä¸ªæœˆã€‚ä¸€ç›´æ²¡æ›´æ–°ä¸»è¦æ˜¯å¤ªæ‡’äº†å¹¶ä¸”æ²¡æœ‰æƒ³åˆ°æœ‰ä»€ä¹ˆéœ€è¦ç‰¹åˆ«å†™çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ˜¥èŠ‚ä¼‘å‡æœŸé—´å¶å°”åæ€äº†ä¸€ä¸‹è§‰å¾—è¿˜æ˜¯éœ€è¦æ—¥å¸¸å›é¡¾è‡ªçœä¸€ä¸‹ï¼Œå°±ç®—æ²¡æœ‰ä»€ä¹ˆæ–°çš„ä½“ä¼šæˆ–è€…æ”¶è·ï¼Œå½“ journal ç•™ç€ä¸‡ä¸€å“ªå¤©å¾—äº†é˜¿å…¹æµ·é»˜ç—‡æ²¡å‡†è¿˜èƒ½èµ·åˆ°æ­£å‘ä½œç”¨
        
      
    
    </summary>
    
      <category term="CODE-LIFE" scheme="http://kingsamchen.github.io/categories/CODE-LIFE/"/>
    
    
      <category term="æ‚è®°" scheme="http://kingsamchen.github.io/tags/%E6%9D%82%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>unique_ptr For Generic Scoped Handle</title>
    <link href="http://kingsamchen.github.io/2021/11/09/unique-ptr-for-generic-scoped-handle/"/>
    <id>http://kingsamchen.github.io/2021/11/09/unique-ptr-for-generic-scoped-handle/</id>
    <published>2021-11-09T14:43:31.000Z</published>
    <updated>2021-11-10T13:58:50.776Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰åœ¨ &lt;a href=&quot;/2021/06/14/wrap-win32-handle-into-unique-ptr/&quot; title=&quot;ç”¨ unique_ptr ç®¡ç† Windows HANDLE&quot;&gt;ç”¨ unique_ptr ç®¡ç† Windows HANDLE&lt;/a&gt; ä¸­ä»‹ç»äº†å¦‚ä½•åŸºäº &lt;code&gt;std::unique_ptr&lt;/code&gt; å¿«é€Ÿå®ç°å¯¹ Windows HANDLE çš„ RAII åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä¹Ÿè¦å¯¹ &lt;code&gt;fd&lt;/code&gt; æˆ–è€… Windows ä¸Šçš„ &lt;code&gt;SOCKET&lt;/code&gt; åšç±»ä¼¼çš„å¤„ç†ï¼Œé‡å¤å®ç° &lt;code&gt;xx_handle&lt;/code&gt; å’Œ &lt;code&gt;xx_handle_deleter&lt;/code&gt; å°±æ˜¾å¾—è¿‡äºçç¢ã€‚&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ¨¡æ¿å‚æ•°æ³¨å…¥ï¼Œå°†å…±åŒç‚¹æŠ½è±¡å‡ºæ¥ï¼Œä¸åŒç‚¹å®ç°æˆå„è‡ªçš„ type traitsï¼Œç„¶ååˆ©ç”¨æ¨¡æ¿è¿›è¡Œæ³¨å…¥ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦ç®€å•å®ç°æ¯ä¸ª handle type å¯¹åº”çš„åŸºç¡€å±æ€§ï¼Œå°±å¯ä»¥ç›´æ¥å¤ç”¨æ ¸å¿ƒå®ç°ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;template&lt;/span&gt;&amp;lt;&lt;span class=&quot;keyword&quot;&gt;typename&lt;/span&gt; Traits&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;handle_ptr&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; handle_type = &lt;span class=&quot;keyword&quot;&gt;typename&lt;/span&gt; Traits::handle_type;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    handle_ptr() &lt;span class=&quot;keyword&quot;&gt;noexcept&lt;/span&gt; = &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// implicit&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    handle_ptr(&lt;span class=&quot;built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;keyword&quot;&gt;nullptr_t&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;noexcept&lt;/span&gt; &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// implicit&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    handle_ptr(handle_type handle) &lt;span class=&quot;keyword&quot;&gt;noexcept&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        : handle_(handle) &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ~handle_ptr() = &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;explicit&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;operator&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;noexcept&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; Traits::is_valid(handle_);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// implicit&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;operator&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;handle_type&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;noexcept&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; handle_;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;friend&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;operator&lt;/span&gt;==(handle_ptr lhs, handle_ptr rhs) &lt;span class=&quot;keyword&quot;&gt;noexcept&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; lhs.handle_ == rhs.handle_;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;friend&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;operator&lt;/span&gt;!=(handle_ptr lhs, handle_ptr rhs) &lt;span class=&quot;keyword&quot;&gt;noexcept&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; !(lhs == rhs);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    handle_type handle_&amp;#123;Traits::null_handle&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;template&lt;/span&gt;&amp;lt;&lt;span class=&quot;keyword&quot;&gt;typename&lt;/span&gt; Traits&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;handle_ptr_deleter&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; pointer = handle_ptr&amp;lt;Traits&amp;gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;operator&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(pointer ptr)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Traits::close(ptr);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;PSï¼šä¸åŒäºæ–‡ç« ä¸­çš„ä¾‹å­ï¼ŒåŸºåº•ç±»èµ·å &lt;code&gt;handle_ptr&lt;/code&gt; æ›´ä¸ºç¡®åˆ‡ï¼›å› ä¸ºåœ¨ &lt;code&gt;unique_ptr&lt;/code&gt; çš„å†…éƒ¨ä¼šç”¨æ¥å®šä¹‰ &lt;code&gt;pointer&lt;/code&gt;ï¼›è€Œå‡ ä¹ unique_ptr çš„è¯­ä¹‰è¡Œä¸ºéƒ½æ˜¯å›´ç»• &lt;code&gt;pointer&lt;/code&gt; æ¥å®Œæˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº†ä¸Šé¢è¿™ä¸ªåŸºåº•ä¹‹åï¼Œé’ˆå¯¹ fd-wrapperï¼Œæˆ‘ä»¬åªéœ€è¦&lt;/p&gt;
&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;fd_traits&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; handle_type = &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;is_valid&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(handle_type handle)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;noexcept&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; handle != null_handle;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(handle_type handle)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;noexcept&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ::close(handle);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;constexpr&lt;/span&gt; handle_type null_handle&amp;#123;&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; fd_deleter = handle_ptr_deleter&amp;lt;fd_traits&amp;gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; unique_fd = &lt;span class=&quot;built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;built_in&quot;&gt;unique_ptr&lt;/span&gt;&amp;lt;fd_traits::handle_type, fd_deleter&amp;gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;inline&lt;/span&gt; unique_fd &lt;span class=&quot;title&quot;&gt;wrap_unique_fd&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; raw_fd)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; unique_fd(raw_fd);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ ·ä¸€æ¥ï¼Œå®ç°ä¸€ä¸ªæ–°çš„ unique handle wrapperï¼Œæˆ‘ä»¬åªéœ€è¦ç¡®å®šå››ä¸ªä¸œè¥¿ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;handle type çš„å®é™…ç±»å‹&lt;/li&gt;
&lt;li&gt;null handle çš„å€¼ï¼Œç”¨æ¥ç¡®å®š default/zero initialized ä¹‹å handle çŠ¶æ€&lt;/li&gt;
&lt;li&gt;å®ç° &lt;code&gt;is_valid()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å®ç° &lt;code&gt;close()&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å‰©ä¸‹çš„å°±æ˜¯å¸¸è§„çš„ç±»å‹å®ä¾‹åŒ–ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="PROGRAMMING" scheme="http://kingsamchen.github.io/categories/PROGRAMMING/"/>
    
    
      <category term="cpp" scheme="http://kingsamchen.github.io/tags/cpp/"/>
    
  </entry>
  
  <entry>
    <title>(Ab)use system_error exception for System Calls</title>
    <link href="http://kingsamchen.github.io/2021/10/17/abuse-system-error-exception-for-system-calls/"/>
    <id>http://kingsamchen.github.io/2021/10/17/abuse-system-error-exception-for-system-calls/</id>
    <published>2021-10-17T13:31:34.000Z</published>
    <updated>2021-10-17T15:54:44.575Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;C++ 11 å¼•å…¥äº†æ²¡æœ‰æ€èµ·ä»€ä¹ˆæ³¢æ¾œçš„ &lt;a href=&quot;https://en.cppreference.com/w/cpp/error/error_code&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;std::error_code&lt;/a&gt; å’Œå‡ ä¹æ²¡æ”¶åˆ°ä»€ä¹ˆå…³æ³¨çš„ &lt;a href=&quot;https://en.cppreference.com/w/cpp/error/system_error&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;std::system_error&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¶ç„¶å‘ç°åè€…å¯ä»¥ç”¨æ¥åšé’ˆå¯¹ system calls çš„å¼‚å¸¸æ±‡æŠ¥å¤„ç†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;0x0-A-Traditional-Approach&quot;&gt;&lt;a href=&quot;#0x0-A-Traditional-Approach&quot; class=&quot;headerlink&quot; title=&quot;0x0 A Traditional Approach&quot;&gt;&lt;/a&gt;0x0 A Traditional Approach&lt;/h3&gt;&lt;p&gt;Win32 API è°ƒç”¨å¤±è´¥åå…·ä½“çš„é”™è¯¯ç å¯ä»¥é€šè¿‡ &lt;code&gt;::GetLastError()&lt;/code&gt; è·å–ï¼›Linux ä¸Š syscall çš„é”™è¯¯ç åˆ™ç”¨æ›´ C-ish çš„ &lt;code&gt;errno&lt;/code&gt; è·å–ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå¸Œæœ›é€šè¿‡å¼‚å¸¸æ¥æ±‡æŠ¥è¿™äº›ç³»ç»Ÿè°ƒç”¨å¤±è´¥ï¼Œé‚£ä¹ˆé€šå¸¸ä¼šä» &lt;code&gt;std::runtime_error&lt;/code&gt; ç»§æ‰¿å‡ºä¸€ä¸ª exception classï¼Œé¢å¤–åŒ…å«ç³»ç»Ÿè°ƒç”¨çš„é”™è¯¯ç ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;win_last_error&lt;/span&gt; :&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;std&lt;/span&gt;::runtime_error &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; error_code_type = &lt;span class=&quot;keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;explicit&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;win_last_error&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt;* msg)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        : runtime_error(msg),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          error_code_(::GetLastError()) &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [[nodiscard]] &lt;span class=&quot;function&quot;&gt;error_code_type &lt;span class=&quot;title&quot;&gt;error_code&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;noexcept&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; error_code_;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    error_code_type error_code_;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šé¢çš„ä»£ç ç¨åŠ å¤„ç†åå¯ä»¥åŒæ—¶æ”¯æŒ &lt;code&gt;GetLastError()&lt;/code&gt; å’Œ &lt;code&gt;errno&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&quot;0x1-Using-std-system-error&quot;&gt;&lt;a href=&quot;#0x1-Using-std-system-error&quot; class=&quot;headerlink&quot; title=&quot;0x1 Using std::system_error&quot;&gt;&lt;/a&gt;0x1 Using std::system_error&lt;/h3&gt;&lt;p&gt;&lt;code&gt;std::system_error&lt;/code&gt; æ°å¥½ä¹Ÿæ˜¯ä¸€ä¸ªå’Œ system facilities æœ‰å…³çš„å¼‚å¸¸ç±»ï¼Œæ±‡æŠ¥ç³»ç»Ÿç›¸å…³çš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†ä¼ ç»Ÿçš„ &lt;code&gt;what()&lt;/code&gt; ä¹‹å¤–å®ƒè¿˜æä¾›ä¸€ä¸ª &lt;code&gt;code()&lt;/code&gt; å‡½æ•°è¿”å›å¯¹åº”çš„ &lt;code&gt;error_code&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è€Œ &lt;code&gt;std::error_code&lt;/code&gt; å¯ä»¥é€šè¿‡æŒ‡å®šä¸åŒçš„ category æ¥æŒ‡ç¤ºå…¶åŒ…å«çš„é”™è¯¯ç è¯­ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å®é™…ä¸Šæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆç”¨ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;inline&lt;/span&gt; pipe &lt;span class=&quot;title&quot;&gt;make_pipe&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;if&lt;/span&gt; defined(OS_WIN)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (::CreatePipe(&amp;amp;fds[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;], &amp;amp;fds[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;], &amp;amp;sa, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;std&lt;/span&gt;::system_error(&lt;span class=&quot;built_in&quot;&gt;std&lt;/span&gt;::error_code(::GetLastError(), &lt;span class=&quot;built_in&quot;&gt;std&lt;/span&gt;::system_category()),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                &lt;span class=&quot;string&quot;&gt;&quot;CreatePipe() failure&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;else&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (::pipe(fds) != &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;std&lt;/span&gt;::system_error(&lt;span class=&quot;built_in&quot;&gt;std&lt;/span&gt;::error_code(errno, &lt;span class=&quot;built_in&quot;&gt;std&lt;/span&gt;::system_category()),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                &lt;span class=&quot;string&quot;&gt;&quot;pipe() failure&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;endif&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ³¨æ„è¿™é‡Œä½¿ç”¨çš„ &lt;code&gt;system_category()&lt;/code&gt;ï¼Œå®ƒä»£è¡¨ error code æ˜¯ reported by the system.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æœ‰äº›åœ°æ–¹å¯èƒ½ä¼šè¯´è¿™é‡Œè¦ä½¿ç”¨ &lt;code&gt;std::generic_category&lt;/code&gt;ï¼›ä½†æ˜¯é€šè¿‡è¯•éªŒå‘ç°ä½¿ç”¨ &lt;code&gt;std::generic_category&lt;/code&gt; çš„ Windows last-error å’Œ &lt;code&gt;ec.message()&lt;/code&gt; æ˜¯å¯¹ä¸ä¸Šçš„ï¼›è€Œ &lt;code&gt;std::system_category()&lt;/code&gt; åˆ™æ˜¯æ­£ç¡®çš„ã€‚&lt;/p&gt;
&lt;p&gt;çŒœæµ‹ generic category å¯èƒ½é’ˆå¯¹çš„æ˜¯ CRT çš„é”™è¯¯ç &lt;/p&gt;
&lt;h3 id=&quot;0x2-Q-amp-A&quot;&gt;&lt;a href=&quot;#0x2-Q-amp-A&quot; class=&quot;headerlink&quot; title=&quot;0x2 Q&amp;amp;A&quot;&gt;&lt;/a&gt;0x2 Q&amp;amp;A&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;Q: error_code æ˜¯å•¥ï¼Ÿ&lt;/strong&gt;&lt;br&gt;A: è¿™ç©æ„å„¿å®é™…ä¸Šæ˜¯ ASIO çš„ä½œè€…é’ˆå¯¹ async-handler çš„é”™è¯¯å¤„ç†è®¾è®¡çš„ï¼›boost ä¸­ ASIO å’Œ filesystem éƒ½å¤§é‡æ”¯æŒäº†å®ƒã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™ç©æ„å„¿çš„è®¾è®¡é—¨æ§›æœ‰ç‚¹é«˜ï¼Œä»¥è‡³äºä¸çœ‹å®Œå‡ ç¯‡æ–‡ç« å‹æ ¹æ²¡æ³•ç†è§£è¿™ä¸œè¥¿çš„è®¾è®¡æ„å›¾ï¼›å¯¼è‡´é™¤äº† ASIO å’Œ filesystem åŠä»–ä»¬ç›¸å…³çš„è¡ç”Ÿ lib ä¹‹å¤–éƒ½æ²¡å•¥äººå»ç”¨å®ƒã€‚&lt;/p&gt;
&lt;p&gt;è€Œ filesystem C++ 17 æ‰è¿›å…¥æ ‡å‡†ï¼›è€Œ ASIO/network TS å‡ å¤©å‰ä¹Ÿå·®ä¸å¤šå®£å‘Šæ­»äº¡äº†â€¦&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q: ä¸ºå•¥è¦ç”¨å¼‚å¸¸ï¼Ÿ&lt;/strong&gt;&lt;br&gt;A: Why notï¼Ÿæˆ‘ä¸æ’æ–¥ä½¿ç”¨å¼‚å¸¸ï¼Œè€Œä¸”æˆ‘è§‰å¾—æˆ‘å†™çš„ä¸œè¥¿è¿˜æ²¡å…³é”®åˆ°éœ€è¦è€ƒè™‘ç›®å‰å¼‚å¸¸å®ç°å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å¹¶ä¸”æˆ‘è§‰å¾— exception åœ¨å……æ»¡å¤§é‡ä¸šåŠ¡é€»è¾‘çš„åº”ç”¨å±‚æ˜¯éå¸¸ä¼˜ç§€çš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;å³ä½¿æä¾›äº†æ”¯æŒ chaining operations çš„ sum typeï¼ˆä¾‹å¦‚è¿™ä¸ª &lt;a href=&quot;https://github.com/TartanLlama/expected&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;expected&lt;/a&gt;ï¼‰ï¼Œåœ¨ä¸šåŠ¡å±‚åŸºæœ¬ä¹Ÿéœ€è¦äººè‚‰å®ç° failure cascading å±‚å±‚ä¸ŠæŠ›ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="PROGRAMMING" scheme="http://kingsamchen.github.io/categories/PROGRAMMING/"/>
    
    
      <category term="cpp" scheme="http://kingsamchen.github.io/tags/cpp/"/>
    
      <category term="exception" scheme="http://kingsamchen.github.io/tags/exception/"/>
    
  </entry>
  
  <entry>
    <title>himsw - Hey I aM Still Working</title>
    <link href="http://kingsamchen.github.io/2021/10/10/himsw-hey-i-am-still-working/"/>
    <id>http://kingsamchen.github.io/2021/10/10/himsw-hey-i-am-still-working/</id>
    <published>2021-10-10T15:25:19.000Z</published>
    <updated>2021-10-10T15:48:58.962Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;å› ä¸ºå…¬å¸çš„å®‰å…¨æ”¿ç­–è¦æ±‚ï¼Œå…¬å¸å‘çš„ç¬”è®°æœ¬ä¼šåœ¨5åˆ†é’Ÿæ²¡æœ‰æ“ä½œåè‡ªåŠ¨é”ä½å½“å‰è´¦æˆ·ï¼Œå¹¶ä¸”è¿™æ˜¯ç”±é¢„è£…çš„å®‰å…¨ç»„ä»¶å¼ºåˆ¶ä¿è¯çš„ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆä¸è¦æƒ³ç€å¯ä»¥æŠŠå®‰å…¨ç»„ä»¶å¸è½½æˆ–è€…ç¦ç”¨äº†ï¼Œä¼šè¢« IT æŸ¥æ°´è¡¨çš„ï¼‰&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶å€™åŠ ç€ä»“æˆ–è€…ç”¨æ‰‹æœºçœ‹ä¸ªæ–°é—»å°±è¶…æ—¶é”å±äº†ï¼Œæ€»æœ‰ç§æ‘¸é±¼è¢«å‘ç°çš„æ„Ÿè§‰ï¼Œä¸å¤ªå¥½ã€‚&lt;/p&gt;
&lt;p&gt;æ›´è›‹ç–¼çš„æ˜¯ï¼ŒWFH çš„æ—¶å€™åªèƒ½ç”¨å…¬å¸å‘çš„ç¬”è®°æœ¬ï¼›è€Œæ¯æ¬¡é”å±åéƒ½ä¼šå¯¼è‡´ VPN æ‰çº¿éœ€è¦é‡è¿ï¼Œå¹¶ä¸”æœ‰æ¦‚ç‡ä¼šæ— æ³•é‡è¿éœ€è¦é‡ç½®ç½‘å¡â€¦.&lt;/p&gt;
&lt;p&gt;æ²¡åŠæ³•åªèƒ½è‡ªå·±å†™äº†ä¸ªå°å·¥å…·ï¼Œåœ¨3åˆ†é’Ÿæ²¡æœ‰æ“ä½œåè¿›å…¥æ¨¡æ‹Ÿå·¥ä½œçŠ¶æ€ï¼Œå®šæ—¶å‘é€é”®ç›˜æŒ‰é”®æ¶ˆæ¯ï¼›åŒæ—¶ç›‘å¬é¼ æ ‡å’Œé”®ç›˜æ¶ˆæ¯ï¼Œå¦‚æœå‡ºç°äººä¸ºæ“ä½œï¼Œå°±é€€å‡ºæ¨¡æ‹ŸçŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡ä¸€æ®µæ—¶é—´çš„ä½“éªŒï¼ŒåŸºæœ¬å®ç°äº†åˆè¡·ï¼Œæ‘¸é±¼å†ä¹…ä¹Ÿä¸ä¼šè¢«å‘ç°äº† ğŸ˜&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ä»£ç å®Œå…¨å¼€æºï¼Œå¯ä»¥åœ¨&lt;a href=&quot;https://github.com/kingsamchen/Eureka/tree/master/hey-i-am-still-working&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™é‡Œ&lt;/a&gt;æŸ¥çœ‹&lt;/p&gt;
&lt;p&gt;æ ¸å¿ƒå°±ä¸‰ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨ &lt;code&gt;GetLastInputInfo()&lt;/code&gt; è·å–ç¨‹åºä¸Šæ¬¡è·å¾—è¾“å…¥çš„æ—¶é—´ï¼›ç”¨æ¥åˆ¤æ–­ idle duration&lt;/li&gt;
&lt;li&gt;è¿›å…¥ simulation state ä¹‹åå®šæ—¶é€šè¿‡ &lt;code&gt;SendInput()&lt;/code&gt; å‘é€é”®ç›˜äº‹ä»¶ï¼›ä¸ºäº†é¿å…å¹²æ‰°ï¼Œé€‰æ‹©äº† ScrollLock è¿™ä¸ªæŒ‰é”®&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨é”®ç›˜é’©å­å’Œé¼ æ ‡é’©å­ç›‘å¬å…¨å±€çš„é”®ç›˜/é¼ æ ‡äº‹ä»¶ï¼›æœ‰äººä¸ºæ´»åŠ¨åï¼Œè‡ªåŠ¨é€€å‡º simulation state&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å› ä¸ºç”¨åˆ°äº†ç³»ç»Ÿçš„ API æ‰€ä»¥ç›®å‰åªæ”¯æŒ Windowsï¼Œä¼°è®¡ä¹Ÿä¸å¥½ç§»æ¤åˆ°å…¶ä»–å¹³å°ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€å¼€å§‹ GUI æ˜¯ç”¨ nana åšçš„ï¼Œåæ¥å‘ç°å¦‚æœè¦æ”¯æŒ tray icon çš„æ¶ˆæ¯å¤„ç†è¿˜è¦è‡ªå·±å¯¹çª—å£åšä¸€é sub classingâ€¦&lt;/p&gt;
&lt;p&gt;ç´¢æ€§å¼ƒç”¨ nana ç”¨ native win32 åšäº†ä¸ª dialogï¼Œèµ·ç å„ç§ message handling ä¼šçµæ´»ä¸€ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºæ˜¯è‡ªå®¶ç”¨ï¼Œæ‰€ä»¥ä¹Ÿä¸æä¾›åŠŸèƒ½é€‰é¡¹å®šåˆ¶å•¥çš„ï¼Œæ¯•ç«Ÿç”¨ä¸åˆ°å•Šã€‚&lt;/p&gt;
&lt;p&gt;æœ€åå†åæ§½ä¸€ä¸‹ï¼šæˆ‘æ˜¯çœŸä¸å–œæ¬¢åš UI&lt;/p&gt;
    
    </summary>
    
      <category term="PROGRAMMING" scheme="http://kingsamchen.github.io/categories/PROGRAMMING/"/>
    
    
      <category term="windows" scheme="http://kingsamchen.github.io/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title>Using Headless Chrome to Convert Offline HTML to PDF in Bulk</title>
    <link href="http://kingsamchen.github.io/2021/10/09/headless-chrome-for-converting-offline-htmls-to-pdf-in-bulk/"/>
    <id>http://kingsamchen.github.io/2021/10/09/headless-chrome-for-converting-offline-htmls-to-pdf-in-bulk/</id>
    <published>2021-10-09T08:16:00.000Z</published>
    <updated>2021-10-09T08:38:25.822Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;æ‰‹é‡Œæœ‰ä¸€æ‰¹æŸè¯¾ç¨‹å†…å®¹çš„æ•™æ¡ˆä½†æ˜¯éƒ½æ˜¯å¯¼å‡ºçš„ HTML æ–‡æ¡£ï¼Œå› ä¸ºæ¯æ¬¡æ‰“å¼€éƒ½ä¼šè¯·æ±‚ä¸€å †çš„å¤–éƒ¨èµ„æºï¼ˆæ¯”å¦‚JSï¼‰ï¼Œå¯¼è‡´å¡é¡¿å‡ ç§’é’Ÿã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™æ˜¯ç›—ç‰ˆèµ„æº (shame on me) æ‰€ä»¥è¿™äº›å¤–éƒ¨è¯·æ±‚å®Œå…¨æ˜¯æ£ä¹±ï¼›äºæ˜¯æƒ³åˆ°æ‰¹é‡è½¬æ¢ä¸º PDF å°±å¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€å¼€å§‹é€‰æ‹©çš„æ˜¯ wkhtmltopdfï¼Œä½†æ˜¯ libpng ä¼šå› ä¸ºæºæ–‡ä»¶çš„ sRGB ä¸æ­£ç¡®å¯¼è‡´å¤±è´¥ã€‚çœ‹åˆ°æœ‰ä¸ª 2017 å¹´æŠ¥çš„ issue åˆ°ç°åœ¨è¿˜æ˜¯ Open çŠ¶æ€ï¼Œé‚æ”¾å¼ƒã€‚&lt;/p&gt;
&lt;p&gt;åæ¥æƒ³åˆ°æµè§ˆå™¨å¯ä»¥æ­£å¸¸æ‰“å¼€ï¼Œä¹Ÿå¯ä»¥æ­£å¸¸ print to pdfï¼Œé‚£ä½•ä¸è®©æµè§ˆå™¨æ‰¹é‡å¤„ç†ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ°å¥½ Chrome æ”¯æŒ headless modeï¼Œç»“åˆç®€å•çš„ powershell å°±å¯ä»¥åšåˆ°æ‰¹é‡è½¬æ¢ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight powershell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;$dest_dir&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;/your/dest/dir/&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;$src_files&lt;/span&gt; = &lt;span class=&quot;built_in&quot;&gt;Get-ChildItem&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;/your/src/dir/&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;$env:Path&lt;/span&gt; += &lt;span class=&quot;string&quot;&gt;&quot;;C:\Program Files (x86)\Google\Chrome\Application\&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;foreach&lt;/span&gt; (&lt;span class=&quot;variable&quot;&gt;$file&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$src_files&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;variable&quot;&gt;$output_file&lt;/span&gt; = &lt;span class=&quot;variable&quot;&gt;$file&lt;/span&gt;.BaseName + &lt;span class=&quot;string&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;variable&quot;&gt;$dest_file&lt;/span&gt; = &lt;span class=&quot;built_in&quot;&gt;Join-Path&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;-Path&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$dest_dir&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;-ChildPath&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$output_file&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;Write-Output&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Processing &lt;span class=&quot;variable&quot;&gt;$dest_file&lt;/span&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    chrome.exe -&lt;span class=&quot;literal&quot;&gt;-headless&lt;/span&gt; -&lt;span class=&quot;literal&quot;&gt;-disable&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-gpu&lt;/span&gt; -&lt;span class=&quot;literal&quot;&gt;-print&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-to&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-pdf&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-no&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-header&lt;/span&gt; -&lt;span class=&quot;literal&quot;&gt;-print&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-to&lt;/span&gt;&lt;span class=&quot;literal&quot;&gt;-pdf&lt;/span&gt;=&lt;span class=&quot;variable&quot;&gt;$dest_file&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$file&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# a simple throttle&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;Start-Sleep&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Write-Output&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Congratulations!!!&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ª headless chrome åšè½¬æ¢ï¼Œè€Œä¸€æ¬¡è½¬æ¢å¤§æ¦‚éœ€è¦åå‡ ç§’ï¼›åŒæ—¶è¿™ä¸ªè°ƒç”¨æ˜¯å¯åŠ¨ chrome ä¹‹åå°±ç«‹å³è¿”å›çš„ï¼Œå¹¶éç­‰åˆ°è½¬æ¢ç»“æŸã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä¸ºäº†é¿å…çŸ­æ—¶é—´å†…åˆ›å»ºå¤§é‡çš„ headless chrome è¿›ç¨‹æŠŠç³»ç»Ÿèµ„æºè€—æ­»ï¼Œè¿™é‡Œç®€å•çš„ç”¨ sleep åšä¸€ä¸ªèŠ‚æµå™¨&lt;/p&gt;
    
    </summary>
    
      <category term="PROGRAMMING" scheme="http://kingsamchen.github.io/categories/PROGRAMMING/"/>
    
    
      <category term="headless" scheme="http://kingsamchen.github.io/tags/headless/"/>
    
      <category term="pdf" scheme="http://kingsamchen.github.io/tags/pdf/"/>
    
  </entry>
  
  <entry>
    <title>Postfix Policy Delegation</title>
    <link href="http://kingsamchen.github.io/2021/09/23/postfix-policy-delegation/"/>
    <id>http://kingsamchen.github.io/2021/09/23/postfix-policy-delegation/</id>
    <published>2021-09-23T15:01:24.000Z</published>
    <updated>2021-09-23T15:13:53.593Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;æ¯”è¾ƒæ–°çš„ç‰ˆæœ¬çš„ postfix é™¤äº† milter ä¹‹å¤–è¿˜å¯ä»¥ç”¨ &lt;a href=&quot;http://www.postfix.org/SMTPD_POLICY_README.html#client_config&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;policy delegation&lt;/a&gt; åš content filteringï¼›åè€…çš„ä¼˜åŠ¿åœ¨äºç®€å•å®¹æ˜“å®ç°ï¼Œä½†æ˜¯åªèƒ½è¯»å–æœ‰é™çš„ email attributesã€‚&lt;/p&gt;
&lt;p&gt;policy delegation å®ç°ä¸Šä¹Ÿæœ‰ä¸‰ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åŸºäº tcp çš„ policy server&lt;/li&gt;
&lt;li&gt;åŸºäº unix domain socket çš„ policy server&lt;/li&gt;
&lt;li&gt;åŸºäº master daemon spawn çš„ policy server&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¬¬ä¸‰ç§å®ç°ä¸Šæœ€ç®€å•ï¼Œå¹¶ä¸”è™½ç„¶æ–‡æ¡£ä¸Šè¯´å®ƒä¹Ÿæ˜¯åŸºäº unix domain socket å®ç°é€šä¿¡ï¼Œä½†æ˜¯è¿™éƒ¨åˆ†é€šä¿¡å®é™…ä¸Šå¯¹ policy server æ˜¯é€æ˜çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ç§æƒ…å†µä¸‹ï¼Œåªéœ€è¦æä¾›ä¸€ä¸ªç®€å•çš„ binaryï¼Œèƒ½å¤Ÿè¯»å†™ stdin/stdout å³å¯å®Œæˆé€šä¿¡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä» stdin è¯»å‡º request attributes&lt;/li&gt;
&lt;li&gt;å°†åˆ¤æ–­ç»“æœå¾€ stdout å†™&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ–‡æ¡£ä¸Šè™½ç„¶æ²¡æœ‰æ˜ç¡®å†™å‡ºè¿™ç‚¹ï¼Œä½†æ˜¯é€šè¿‡é™„å¸¦çš„ example ç”¨ä¾‹å¯ä»¥è¯å®ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ä½¿ç”¨è¿™ç§æ–¹å¼è¦æ³¨æ„ä¸€ä¸ªå‘ï¼šstdin/stdout çš„è¯»å†™å¿…é¡»ä¸èƒ½ä½¿ç”¨ &lt;code&gt;fread()/fwrite()&lt;/code&gt; &lt;code&gt;std::cin/std::cout&lt;/code&gt; è¿™ç§å¸¦æœ‰åº”ç”¨å±‚ç¼“å­˜çš„ IO è®¾æ–½ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶è¿™é‡Œæ˜¯å¯¹ stdin/stdout è¯»å†™ï¼Œä½†æ˜¯å®é™…ä¸Šåº•ä¸‹é€šè®¯è¿˜æ˜¯ä¼šç»è¿‡ unix domain socketï¼Œä½¿ç”¨å¸¦åº”ç”¨å±‚ç¼“å­˜çš„åº“å‡½æ•°è¯»å†™æ—¶ä¼šå¯¼è‡´é˜»å¡ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸åº”çš„ï¼Œè¿™é‡Œè¦ä¹ˆä½¿ç”¨ &lt;code&gt;read(2)/write(2)&lt;/code&gt; è¿™ç§ syscallï¼Œè¦ä¹ˆæ‰‹åŠ¨å±è”½æ ‡å‡†åº“çš„åº”ç”¨å±‚ç¼“å­˜ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ²¡æœ‰ç»éªŒçš„äººæ¥è¯´ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªå¾ˆå®¹æ˜“æ‰çš„å‘&lt;/p&gt;
    
    </summary>
    
      <category term="PROGRAMMING" scheme="http://kingsamchen.github.io/categories/PROGRAMMING/"/>
    
    
      <category term="mta" scheme="http://kingsamchen.github.io/tags/mta/"/>
    
      <category term="postfix" scheme="http://kingsamchen.github.io/tags/postfix/"/>
    
  </entry>
  
  <entry>
    <title>sa-update å’Œç›´ç‡çš„ spamassassin</title>
    <link href="http://kingsamchen.github.io/2021/07/11/sa-update-and-the-blunt-spamassassin/"/>
    <id>http://kingsamchen.github.io/2021/07/11/sa-update-and-the-blunt-spamassassin/</id>
    <published>2021-07-11T08:38:00.000Z</published>
    <updated>2021-07-11T11:35:48.375Z</updated>
    
    <summary type="html">
    
      &lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;amavisd æ˜¯ MTAï¼ˆä¾‹å¦‚ postfixï¼‰æµè¡Œçš„ content-filtering æ¨¡å—ï¼Œå¯ä»¥æä¾›åƒåœ¾é‚®ä»¶è¯•åˆ«è¿‡æ»¤ã€ç—…æ¯’é‚®ä»¶æ£€æµ‹éš”ç¦»ç­‰åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;spamassassin åˆ™æ˜¯ amavisd ä½¿ç”¨çš„åƒåœ¾é‚®ä»¶æ¨¡å—ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç›®å‰ä¸»æµçš„ Linux å‘è¡Œç‰ˆä¸Šï¼Œè¿™ä¸¤ä¸ªç³»ç»Ÿéƒ½ä¼šä»¥ systemd ç®¡ç†çš„æœåŠ¡è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç³»ç»Ÿé›†æˆè¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä¸ªç¥å¥‡çš„é—®é¢˜ï¼šamavisd å’Œ spamassassin æœåŠ¡ä¼šå®šæœŸæŒ‚æ‰ï¼Œ&lt;code&gt;journalctl -fu&lt;/code&gt; çš„æ—¥å¿—éƒ½æåˆ°äº†&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;config: no rules were found! Do you need to run sa-updateâ€‹?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;çš„é”™è¯¯å†…å®¹&lt;/p&gt;
&lt;h2 id=&quot;å¤„ç†&quot;&gt;&lt;a href=&quot;#å¤„ç†&quot; class=&quot;headerlink&quot; title=&quot;å¤„ç†&quot;&gt;&lt;/a&gt;å¤„ç†&lt;/h2&gt;&lt;p&gt;è§£å†³æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ£€æŸ¥ &lt;code&gt;/var/lib/spamassassin/&lt;/code&gt; ç›®å½•ä¸‹æ˜¯å¦æœ‰ä¸€ä¸ªå¯¹åº”ç‰ˆæœ¬çš„ç›®å½•ï¼Œä¾‹å¦‚ &lt;code&gt;3.00402&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœæœ‰çš„è¯ï¼Œåˆ é™¤è¿™ä¸ªç›®å½•&lt;/li&gt;
&lt;li&gt;ç„¶åå…ˆåé‡å¯ spamassassin å’Œ amavisd æœåŠ¡
    
    </summary>
    
      <category term="PROGRAMMING" scheme="http://kingsamchen.github.io/categories/PROGRAMMING/"/>
    
    
      <category term="amavisd" scheme="http://kingsamchen.github.io/tags/amavisd/"/>
    
      <category term="spamassassin" scheme="http://kingsamchen.github.io/tags/spamassassin/"/>
    
  </entry>
  
  <entry>
    <title>ç¬¬äºŒæ¬¡è·‘è·¯</title>
    <link href="http://kingsamchen.github.io/2021/07/04/quitting-from-my-last-job/"/>
    <id>http://kingsamchen.github.io/2021/07/04/quitting-from-my-last-job/</id>
    <published>2021-07-04T13:07:55.000Z</published>
    <updated>2021-07-04T15:29:14.078Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;åœ¨é˜¿å“”å‘†äº† 1860 å¤©ï¼ˆ2016/04/11 â€“
        
      
    
    </summary>
    
      <category term="CODE-LIFE" scheme="http://kingsamchen.github.io/categories/CODE-LIFE/"/>
    
    
      <category term="æ‰¯æ·¡" scheme="http://kingsamchen.github.io/tags/%E6%89%AF%E6%B7%A1/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨ unique_ptr ç®¡ç† Windows HANDLE</title>
    <link href="http://kingsamchen.github.io/2021/06/14/wrap-win32-handle-into-unique-ptr/"/>
    <id>http://kingsamchen.github.io/2021/06/14/wrap-win32-handle-into-unique-ptr/</id>
    <published>2021-06-14T09:16:27.000Z</published>
    <updated>2021-06-14T10:03:29.439Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;ä½œä¸ºä¸€ä¸ªæ›¾ç»çš„èµ„æ·± Windows developerï¼ŒWindows &lt;code&gt;HANDLE&lt;/code&gt; ä¸€ä¸ªä¸å¼•äººæ³¨æ„çš„ä½†æ˜¯ç»å¯¹å€¼å¾—å¼•èµ·æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼Œå®ƒçš„æ— æ•ˆå€¼è¡¨ç¤ºæ˜¯ä¸å”¯ä¸€çš„ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†æœ€å¸¸è§çš„ &lt;code&gt;NULL&lt;/code&gt; ä¹‹å¤–è¿˜æœ‰ä¸€ä¸ª &lt;code&gt;INVALID_HANDLE_VALUE&lt;/code&gt;ï¼Œå¹¶ä¸”å³ä½¿æ˜¯åœ¨æ•°å€¼ä¸Šè¿™ä¸¤ä¸ªä¸œè¥¿ä¹Ÿä¸ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè¦ä¸º &lt;code&gt;HANDLE&lt;/code&gt; å†™ä¸€ä¸ª C++ RAII Wrapper é‚£ä¹ˆå¿…é¡»è¦è€ƒè™‘è¿™ä¸ªç‚¹ï¼Œæ¯”å¦‚ Chromium å°±æ˜¯&lt;a href=&quot;https://chromium.googlesource.com/chromium/src/+/refs/heads/main/base/win/scoped_handle.h#116&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™ä¹ˆåšçš„&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Chromium çš„è¿™ä¸ªè®¾æ–½æ—©åœ¨ C++ 11 ä¹‹å‰å°±æœ‰äº†ï¼Œå¹¶ä¸”ç»è¿‡å¤šå¹´æ¥çš„è¿­ä»£å·²ç»å˜å¾—å¼‚å¸¸å¤æ‚ï¼›å¦‚æœä½ è‡ªå·±éœ€è¦è¿™æ ·ä¸€ä¸ªä¸œè¥¿ï¼Œåˆæ— æ³•ä» Chromium è¿™ç§å·¥ä¸šé¡¹ç›®ä¸­æŠ½å–ä¸€ä¸ªç»„ä»¶çš„è¯ï¼Œåªèƒ½è€ƒè™‘è‡ªå·±å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¦å†™å¯¹ä¸€ä¸ªå·¥ä¸šå¼ºåº¦çš„ handle-wrapper å¹¶ä¸å®¹æ˜“ï¼ŒåŒæ—¶è¿˜è¦è€ƒè™‘åˆ°é€šç”¨æ€§å’Œå®ç”¨æ€§ï¼Œæ¯”å¦‚å¯èƒ½åç»­è¦æ”¯æŒ fd/socketï¼ŒWindows HDC ç­‰å„ç§å¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥èƒ½å¦ç”¨ &lt;code&gt;std::unique_ptr&lt;/code&gt; æ¥ä½œä¸ºåŸºç¡€å®ç°ï¼Œé’ˆå¯¹ä¸€äº›ç‰¹å®šç»†èŠ‚åšæ³›åŒ–ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™å°±å¼•å‡ºä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœå¸Œæœ›ç”¨ &lt;code&gt;std::unique_ptr&lt;/code&gt; æ¥ä½œä¸º &lt;code&gt;HANDLE&lt;/code&gt; çš„ä¸€ä¸ª RAII åŒ…è£…ï¼Œå¦‚ä½•æ­£ç¡®åˆ¤æ–­ä¸€ä¸ª handle æ˜¯å¦ validï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ›´è¿›ä¸€æ­¥ï¼Œé—®é¢˜è¿˜å¯ä»¥å˜ä¸ºï¼šå¦‚ä½•ç”¨ &lt;code&gt;std::unique_ptr&lt;/code&gt; ç®¡ç† pointer-like çš„èµ„æºï¼Ÿ&lt;br&gt;
    
    </summary>
    
      <category term="PROGRAMMING" scheme="http://kingsamchen.github.io/categories/PROGRAMMING/"/>
    
    
      <category term="cpp" scheme="http://kingsamchen.github.io/tags/cpp/"/>
    
      <category term="unique_ptr" scheme="http://kingsamchen.github.io/tags/unique-ptr/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ªç¬¦åˆ RFC-4122 çš„å®ç°</title>
    <link href="http://kingsamchen.github.io/2021/05/15/uuidxx-a-rfc-compliant-implementation/"/>
    <id>http://kingsamchen.github.io/2021/05/15/uuidxx-a-rfc-compliant-implementation/</id>
    <published>2021-05-15T14:42:06.000Z</published>
    <updated>2021-05-15T15:17:31.683Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;ç³»åˆ—ç¬¬ä¸€ç¯‡æ–‡ç« é‡Œè¯´åé¢ä¼šç»™å‡ºä¸€ä¸ªæ»¡è¶³ RFC 4122 çš„å¯ç”¨å®ç°ï¼Œå¹¶ä¸”é‚£ä¼šå„¿æ˜¯æ‰“ç®—è®²ä¸€è®²å®ç°ä¸­ä¸€äº›éœ€è¦æ³¨æ„çš„å‘å’Œæœ‰æ„æ€çš„ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å› ä¸º3æœˆä»½å¼€å§‹å°±å¿™ç€å‡†å¤‡é¢è¯•ï¼Œæ¸…æ˜ç»“æŸåçš„ä¸¤å‘¨åŸºæœ¬ä¸æ˜¯åœ¨é¢è¯•ï¼Œå°±æ˜¯åœ¨å‡†å¤‡é¢è¯•ï¼›ä¸€ç›´åˆ°äº”ä¸€å›äº†è¶Ÿæ¸©å·è€å®¶æ‰æœ‰æ¯”è¾ƒå……è£•çš„æ—¶é—´æŠŠ uuidxx çš„æ ¸å¿ƒé€»è¾‘å†™å®Œã€‚&lt;/p&gt;
&lt;p&gt;æ‹‰é”¯åˆ°ç°åœ¨ä¸€å¼€å§‹çš„å†²åŠ¨éƒ½å·²ç»è¢«æ¶ˆç£¨å¾—ä¸å‰©ä¸‹å¤šå°‘äº†ï¼ˆå¯èƒ½è¿˜æ˜¯å› ä¸ºæˆ‘æ¯”è¾ƒæ‡’ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä¸æ‰“ç®—æŠŠå…·ä½“çš„å®ç°éƒ¨åˆ†å±•å¼€ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡ŒæŸ¥é˜…æºä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;Repo åœ°å€åœ¨ &lt;a href=&quot;https://github.com/kingsamchen/uuidxx&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/kingsamchen/uuidxx&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å› ä¸ºè¿™æ¬¡æ¢å·¥ä½œæˆ‘æœ‰å¾ˆå¤šæ§½ç‚¹æƒ³åï¼Œæ‰€ä»¥åé¢æˆ‘ä¼šä¸“é—¨å†™ä¸€ç¯‡æ–‡ç« è®²ä¸€è®²ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡åº”è¯¥ä¸ä¼šé¸½ï¼Œæ¯•ç«Ÿå–·äººæŒºçˆ½çš„ä¸€ä»¶äº‹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="CODE-LIFE" scheme="http://kingsamchen.github.io/categories/CODE-LIFE/"/>
    
    
      <category term="uuid" scheme="http://kingsamchen.github.io/tags/uuid/"/>
    
  </entry>
  
  <entry>
    <title>UUID åŠå…¶å®ç° 3</title>
    <link href="http://kingsamchen.github.io/2021/03/07/uuid-and-its-implementations-3/"/>
    <id>http://kingsamchen.github.io/2021/03/07/uuid-and-its-implementations-3/</id>
    <published>2021-03-07T10:17:42.000Z</published>
    <updated>2021-03-07T12:09:27.372Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;è¿™ä¸€ç¯‡æ¥è®² v3 å’Œ v5 çš„å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªå®ç°è¦æ±‚ä½¿ç”¨æ–¹æä¾›ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªç§°ä¸º namespace çš„ UUID&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªå« name çš„æ•°æ®å—ï¼ˆä¸é™äºå­—ç¬¦ä¸²ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç„¶ååˆ©ç”¨ä¸€ä¸ª hash ç®—æ³•ç®—å¾—ç»“æœï¼Œä½œä¸ºç›®æ ‡ UUID çš„åŸºç¡€æ•°æ®ï¼ˆè¿˜éœ€è¦é¢å¤–è®¾ç½® variant å’Œ versionï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å³ï¼Œå¯¹äº v3/v5 çš„å®ç°ï¼Œæœ¬è´¨ä¸Šæ˜¯&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;uuid = hash(namespace, name)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;set_variant(uuid)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;set_version(uuid, ver)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;v3 å’Œ v5 åŒºåˆ«åœ¨äºï¼Œå‰è€…æ˜¯ç”¨ MD5ï¼Œåè€…ä½¿ç”¨ SHA-1ã€‚&lt;/p&gt;
&lt;p&gt;å¹¶ä¸”å¯ä»¥å‘ç°ï¼Œå¯¹äºç›¸åŒçš„ namespace å’Œ nameï¼Œç”Ÿæˆçš„ç»“æœ UUID æ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå°±æ˜¯ v3/v5 ç‰ˆæœ¬çš„ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å€Ÿç”¨ RFC çš„æè¿°å°±æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The UUIDs generated at different times from the same name in the same namespace MUST be equal.&lt;/li&gt;
&lt;li&gt;The UUIDs generated from two different names in the same namespace should be different (with very high probability).&lt;/li&gt;
&lt;li&gt;The UUIDs generated from the same name in two different namespaces should be different with (very high probability).&lt;/li&gt;
&lt;li&gt;If two UUIDs that were generated from names are equal, then they were generated from the same name in the same namespace (with very high probability).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥ v3/v5 çš„ç‰ˆæœ¬åˆè¢«å«åš name-based implementation&lt;br&gt;
    
    </summary>
    
      <category term="PROGRAMMING" scheme="http://kingsamchen.github.io/categories/PROGRAMMING/"/>
    
    
      <category term="uuid" scheme="http://kingsamchen.github.io/tags/uuid/"/>
    
  </entry>
  
  <entry>
    <title>UUID åŠå…¶å®ç° 2</title>
    <link href="http://kingsamchen.github.io/2021/03/06/uuid-and-its-implementations-2/"/>
    <id>http://kingsamchen.github.io/2021/03/06/uuid-and-its-implementations-2/</id>
    <published>2021-03-06T03:33:30.000Z</published>
    <updated>2021-03-06T14:58:38.251Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;ä¸Šç¯‡ä»‹ç»äº† UUID çš„æ ¼å¼å’Œ v4 çš„å®ç°ï¼Œè¿™ç¯‡è®² v1 &amp;amp; v2 çš„å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;v2 ç‰ˆæœ¬æ˜¯ v1 ä¸Šè¡ç”Ÿå‡ºæ¥çš„ï¼Œè€Œ v1 å› ä¸ºæ¶‰åŠåˆ°æ—¶é—´æˆ³ï¼Œåˆç§°ä¸º time-based implementationã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®ç°-UUID-v1&quot;&gt;&lt;a href=&quot;#å®ç°-UUID-v1&quot; class=&quot;headerlink&quot; title=&quot;å®ç° UUID v1&quot;&gt;&lt;/a&gt;å®ç° UUID v1&lt;/h2&gt;&lt;p&gt;v1 é™¤äº†å¸¸è§„çš„ variant å’Œ version éƒ¨ä»½å¤–ï¼Œè¿˜æ¶‰åŠä¸‰ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;timestampï¼Œéœ€è¦ 60-bit é€šå¸¸ç”¨ 64-bit å®¹çº³ï¼›éå¯»å¸¸çš„ Unix Timestamp&lt;/li&gt;
&lt;li&gt;clock sequenceï¼Œéœ€è¦ 14-bitï¼Œé€šå¸¸ç”¨ 16-bit å­˜å‚¨&lt;/li&gt;
&lt;li&gt;node identifierï¼Œ48-bit å’Œè®¾å¤‡ç›¸å…³&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢é€ä¸€è§£é‡Šè¿™ä¸‰ä¸ªéƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;0x0-UUID-Timestamp&quot;&gt;&lt;a href=&quot;#0x0-UUID-Timestamp&quot; class=&quot;headerlink&quot; title=&quot;0x0. UUID Timestamp&quot;&gt;&lt;/a&gt;0x0. UUID Timestamp&lt;/h3&gt;&lt;p&gt;å’Œå¸¸è§çš„ Unix æ—¶é—´æˆ³ä¸åŒï¼ŒUUID æ—¶é—´æˆ³è®°å½•çš„æ˜¯ï¼Œè‡ª 1582-10-15 00:00:00 è‡³ä»Šçš„ 100-ns æ•°ã€‚&lt;/p&gt;
&lt;p&gt;1582å¹´10æœˆ15æ—¥çš„é›¶ç‚¹æ˜¯&lt;a href=&quot;https://zh.wikipedia.org/zh-cn/%E6%A0%BC%E9%87%8C%E6%9B%86&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æ ¼é‡Œé«˜åŠ›å†&lt;/a&gt;å¼€å§‹çš„æ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´ä¹Ÿæ˜¯ UUID Epoch Timeã€‚&lt;/p&gt;
&lt;p&gt;UUID æ—¶é—´æˆ³çš„åˆ†è¾¨ç‡ï¼ˆresolutionï¼‰æ˜¯ 100 çº³ç§’ï¼Œå³æ¯ 100ns ä¸ºä¸€ä¸ª tickã€‚&lt;/p&gt;
&lt;p&gt;ç°ä»£ç¼–ç¨‹è¯­è¨€éƒ½å¯ä»¥è·å– unix æ—¶é—´æˆ³ï¼Œå› æ­¤å¯ä»¥å…ˆè·å– unix æ—¶é—´æˆ³ï¼Œç„¶ååŠ ä¸Šä¸¤ä¸ª epoch time çš„å·®å€¼ï¼›è¿™ä¸ªå·®å€¼æ˜¯ä¸ªå®šå€¼ï¼Œç­‰äº &lt;code&gt;122192928000000000&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šè·å–æ—¶é—´æˆ³æ—¶éœ€è¦æ³¨æ„ç³»ç»Ÿæˆ–è€…è¯­è¨€åº“èƒ½æä¾›çš„åˆ†è¾¨ç‡ã€‚&lt;/p&gt;
&lt;h3 id=&quot;0x1-Clock-Sequence&quot;&gt;&lt;a href=&quot;#0x1-Clock-Sequence&quot; class=&quot;headerlink&quot; title=&quot;0x1. Clock Sequence&quot;&gt;&lt;/a&gt;0x1. Clock Sequence&lt;/h3&gt;&lt;p&gt;å› ä¸ºå¼•å…¥äº†æ—¶é—´æˆ³ï¼Œæ‰€ä»¥å­˜åœ¨å¯èƒ½ç”±äºæ—¶é’Ÿå›æ‹¨ã€é—°ç§’ï¼Œç”šè‡³å› ä¸ºç³»ç»Ÿæä¾›çš„æ—¶é’Ÿåˆ†è¾¨ç‡ä¸å¤Ÿå¯¼è‡´ä½¿ç”¨äº†é‡å¤çš„æ—¶é—´æˆ³ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤– node identifier ä¹Ÿæœ‰å¯èƒ½è¢«æ”¹å˜ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä¸ºäº†å°½å¯èƒ½ä¿è¯ UUID çš„å”¯ä¸€æ€§ï¼Œå¼•å…¥äº† clock sequenceã€‚&lt;/p&gt;
&lt;p&gt;æ³¨ï¼šRFC 4122 æ²¡æœ‰è§„å®š UUID v1 å¿…é¡»è¦ä½¿ç”¨ steady clockï¼Œæ‰€ä»¥ä½¿ç”¨èƒ½å¤Ÿè¢«å›æ‹¨çš„ system clock ä¹Ÿæ˜¯å…è®¸çš„ã€‚å¦å¤–ï¼Œå³ä½¿ä½¿ç”¨äº† steady clockï¼Œæœºå™¨åœ¨ä¸¤æ¬¡å¯åŠ¨ä¹‹é—´ä¹Ÿå¯èƒ½è°ƒæ•´äº†ç¡¬ä»¶æ—¶é—´ï¼Œä¸€æ ·å¯èƒ½ä¼šå¯¼è‡´å›æ‹¨ã€‚&lt;/p&gt;
&lt;p&gt;Clock sequence ä¸€å¼€å§‹ä¼šè¢«åˆå§‹åŒ–ä¸ºä¸€ä¸ªéšæœºå€¼ï¼›ä¹‹åå¦‚æœæŸæ¬¡è·å– UUID æ—¶é—´æˆ³å‘ç° &amp;lt;= ä¸Šä¸€æ¬¡çš„æ—¶é—´æˆ³ï¼Œå°±ä¼šè‡ªå¢ clock sequenceã€‚&lt;/p&gt;
&lt;p&gt;clock sequence é€šå¸¸ä¼šè®¾ç½®ä¸ºä¸€ä¸ªæ— ç¬¦å·æ•°ï¼Œä»¥ç¡®ä¿æº¢å‡º wrap-around çš„è¡Œä¸ºæ˜¯ç¡®å®šçš„ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="PROGRAMMING" scheme="http://kingsamchen.github.io/categories/PROGRAMMING/"/>
    
    
      <category term="uuid" scheme="http://kingsamchen.github.io/tags/uuid/"/>
    
  </entry>
  
</feed>
