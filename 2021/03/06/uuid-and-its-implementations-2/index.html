<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Gone with the ruins"><title>UUID åŠå…¶å®ç° 2 | KCçš„åºŸå¢Ÿå †</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">UUID åŠå…¶å®ç° 2</h1><a id="logo" href="/.">KCçš„åºŸå¢Ÿå †</a><p class="description">Will you serve in Heaven, or rule in Hell</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/source-code-reading/"><i class="fa fa-archive"> æºç åˆ†æ</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">UUID åŠå…¶å®ç° 2</h1><div class="post-meta">2021-03-06<span> | </span><span class="category"><a href="/categories/PROGRAMMING/">PROGRAMMING</a></span></div><a class="disqus-comment-count" data-disqus-identifier="2021/03/06/uuid-and-its-implementations-2/" href="/2021/03/06/uuid-and-its-implementations-2/#disqus_thread"></a><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">Contents</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0-UUID-v1"><span class="toc-text">å®ç° UUID v1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0x0-UUID-Timestamp"><span class="toc-text">0x0. UUID Timestamp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x1-Clock-Sequence"><span class="toc-text">0x1. Clock Sequence</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x2-Node-Identifier"><span class="toc-text">0x2. Node Identifier</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x3-%E6%8C%81%E4%B9%85%E5%8C%96%EF%BC%9F%E6%9C%8D%E5%8A%A1%E5%8C%96%EF%BC%9F"><span class="toc-text">0x3. æŒä¹…åŒ–ï¼ŸæœåŠ¡åŒ–ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x4-%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-text">0x4. å®ç°æ­¥éª¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x5-Pros-amp-Cons-of-v1"><span class="toc-text">0x5. Pros &amp; Cons of v1</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0-UUID-v2"><span class="toc-text">å®ç° UUID v2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0x0-%E4%B8%80%E4%BA%9B%E5%90%90%E6%A7%BD"><span class="toc-text">0x0 ä¸€äº›åæ§½</span></a></li></ol></li></ol></div></div><div class="post-content"><p>ä¸Šç¯‡ä»‹ç»äº† UUID çš„æ ¼å¼å’Œ v4 çš„å®ç°ï¼Œè¿™ç¯‡è®² v1 &amp; v2 çš„å®ç°ã€‚</p>
<p>v2 ç‰ˆæœ¬æ˜¯ v1 ä¸Šè¡ç”Ÿå‡ºæ¥çš„ï¼Œè€Œ v1 å› ä¸ºæ¶‰åŠåˆ°æ—¶é—´æˆ³ï¼Œåˆç§°ä¸º time-based implementationã€‚</p>
<h2 id="å®ç°-UUID-v1"><a href="#å®ç°-UUID-v1" class="headerlink" title="å®ç° UUID v1"></a>å®ç° UUID v1</h2><p>v1 é™¤äº†å¸¸è§„çš„ variant å’Œ version éƒ¨ä»½å¤–ï¼Œè¿˜æ¶‰åŠä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>timestampï¼Œéœ€è¦ 60-bit é€šå¸¸ç”¨ 64-bit å®¹çº³ï¼›éå¯»å¸¸çš„ Unix Timestamp</li>
<li>clock sequenceï¼Œéœ€è¦ 14-bitï¼Œé€šå¸¸ç”¨ 16-bit å­˜å‚¨</li>
<li>node identifierï¼Œ48-bit å’Œè®¾å¤‡ç›¸å…³</li>
</ul>
<p>ä¸‹é¢é€ä¸€è§£é‡Šè¿™ä¸‰ä¸ªéƒ¨åˆ†ã€‚</p>
<h3 id="0x0-UUID-Timestamp"><a href="#0x0-UUID-Timestamp" class="headerlink" title="0x0. UUID Timestamp"></a>0x0. UUID Timestamp</h3><p>å’Œå¸¸è§çš„ Unix æ—¶é—´æˆ³ä¸åŒï¼ŒUUID æ—¶é—´æˆ³è®°å½•çš„æ˜¯ï¼Œè‡ª 1582-10-15 00:00:00 è‡³ä»Šçš„ 100-ns æ•°ã€‚</p>
<p>1582å¹´10æœˆ15æ—¥çš„é›¶ç‚¹æ˜¯<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-cn/%E6%A0%BC%E9%87%8C%E6%9B%86">æ ¼é‡Œé«˜åŠ›å†</a>å¼€å§‹çš„æ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´ä¹Ÿæ˜¯ UUID Epoch Timeã€‚</p>
<p>UUID æ—¶é—´æˆ³çš„åˆ†è¾¨ç‡ï¼ˆresolutionï¼‰æ˜¯ 100 çº³ç§’ï¼Œå³æ¯ 100ns ä¸ºä¸€ä¸ª tickã€‚</p>
<p>ç°ä»£ç¼–ç¨‹è¯­è¨€éƒ½å¯ä»¥è·å– unix æ—¶é—´æˆ³ï¼Œå› æ­¤å¯ä»¥å…ˆè·å– unix æ—¶é—´æˆ³ï¼Œç„¶ååŠ ä¸Šä¸¤ä¸ª epoch time çš„å·®å€¼ï¼›è¿™ä¸ªå·®å€¼æ˜¯ä¸ªå®šå€¼ï¼Œç­‰äº <code>122192928000000000</code>ã€‚</p>
<p>æ³¨æ„ï¼šè·å–æ—¶é—´æˆ³æ—¶éœ€è¦æ³¨æ„ç³»ç»Ÿæˆ–è€…è¯­è¨€åº“èƒ½æä¾›çš„åˆ†è¾¨ç‡ã€‚</p>
<h3 id="0x1-Clock-Sequence"><a href="#0x1-Clock-Sequence" class="headerlink" title="0x1. Clock Sequence"></a>0x1. Clock Sequence</h3><p>å› ä¸ºå¼•å…¥äº†æ—¶é—´æˆ³ï¼Œæ‰€ä»¥å­˜åœ¨å¯èƒ½ç”±äºæ—¶é’Ÿå›æ‹¨ã€é—°ç§’ï¼Œç”šè‡³å› ä¸ºç³»ç»Ÿæä¾›çš„æ—¶é’Ÿåˆ†è¾¨ç‡ä¸å¤Ÿå¯¼è‡´ä½¿ç”¨äº†é‡å¤çš„æ—¶é—´æˆ³ã€‚</p>
<p>å¦å¤– node identifier ä¹Ÿæœ‰å¯èƒ½è¢«æ”¹å˜ã€‚</p>
<p>æ‰€ä»¥ä¸ºäº†å°½å¯èƒ½ä¿è¯ UUID çš„å”¯ä¸€æ€§ï¼Œå¼•å…¥äº† clock sequenceã€‚</p>
<p>æ³¨ï¼šRFC 4122 æ²¡æœ‰è§„å®š UUID v1 å¿…é¡»è¦ä½¿ç”¨ steady clockï¼Œæ‰€ä»¥ä½¿ç”¨èƒ½å¤Ÿè¢«å›æ‹¨çš„ system clock ä¹Ÿæ˜¯å…è®¸çš„ã€‚å¦å¤–ï¼Œå³ä½¿ä½¿ç”¨äº† steady clockï¼Œæœºå™¨åœ¨ä¸¤æ¬¡å¯åŠ¨ä¹‹é—´ä¹Ÿå¯èƒ½è°ƒæ•´äº†ç¡¬ä»¶æ—¶é—´ï¼Œä¸€æ ·å¯èƒ½ä¼šå¯¼è‡´å›æ‹¨ã€‚</p>
<p>Clock sequence ä¸€å¼€å§‹ä¼šè¢«åˆå§‹åŒ–ä¸ºä¸€ä¸ªéšæœºå€¼ï¼›ä¹‹åå¦‚æœæŸæ¬¡è·å– UUID æ—¶é—´æˆ³å‘ç° &lt;&#x3D; ä¸Šä¸€æ¬¡çš„æ—¶é—´æˆ³ï¼Œå°±ä¼šè‡ªå¢ clock sequenceã€‚</p>
<p>clock sequence é€šå¸¸ä¼šè®¾ç½®ä¸ºä¸€ä¸ªæ— ç¬¦å·æ•°ï¼Œä»¥ç¡®ä¿æº¢å‡º wrap-around çš„è¡Œä¸ºæ˜¯ç¡®å®šçš„ã€‚</p>
<span id="more"></span>
<p>åŒæ—¶ä¸ºäº†é˜²æ­¢å› ä¸ºç³»ç»Ÿçš„æ—¶é’Ÿåˆ†è¾¨ç‡è¿‡ä½ï¼Œå¯¼è‡´ clock sequence æ¶ˆè€—è¿‡å¿«ï¼Œå¯ä»¥åœ¨ clock sequence <strong>è¿ç»­è‡ªå¢</strong> ä¸€å®šæ¬¡æ•°å spin ä¸€ä¼šå„¿ï¼Œç›´åˆ°æ—¶é—´æˆ³å˜åŒ–ã€‚</p>
<h3 id="0x2-Node-Identifier"><a href="#0x2-Node-Identifier" class="headerlink" title="0x2. Node Identifier"></a>0x2. Node Identifier</h3><p>è¿™éƒ¨åˆ†æœ¬è´¨æ˜¯è®¾å¤‡ä¿¡æ¯ï¼Œé€šå¸¸ä½¿ç”¨è®¾å¤‡çš„ MAC åœ°å€ï¼Œåˆšå¥½ 48-bitã€‚</p>
<p>å¦‚æœè®¾å¤‡æœ‰è¶…è¿‡ä¸€å—ç½‘å¡ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ä»»æ„ä¸€å—ã€‚</p>
<p>å¦‚æœè®¾å¤‡æ²¡æœ‰ç½‘å¡ï¼Œæˆ–è€…è·å– MAC åœ°å€å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨éšæœºç”Ÿæˆçš„ 48-bit æ•°æ¥ä»£æ›¿ï¼ŒåŒæ—¶éœ€è¦è®¾ç½®ç¬¬ä¸€ä¸ªï¼ˆè‡ªå·¦å‘å³ï¼‰8ä½çš„æœ€ä½ä¸º 0x01 æ¥è¡¨ç¤ºè¿™ç§æƒ…å†µã€‚</p>
<h3 id="0x3-æŒä¹…åŒ–ï¼ŸæœåŠ¡åŒ–ï¼Ÿ"><a href="#0x3-æŒä¹…åŒ–ï¼ŸæœåŠ¡åŒ–ï¼Ÿ" class="headerlink" title="0x3. æŒä¹…åŒ–ï¼ŸæœåŠ¡åŒ–ï¼Ÿ"></a>0x3. æŒä¹…åŒ–ï¼ŸæœåŠ¡åŒ–ï¼Ÿ</h3><p>æ ¹æ® RFC 4122 çš„å†…å®¹ï¼ŒUUID v1 çš„ç”Ÿæˆä¸€å¼€å§‹çš„å®šä½æ›´åƒæ˜¯ç³»ç»Ÿå…¨å±€æœåŠ¡ï¼Œå¤šä¸ªè¿›ç¨‹éƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªæœåŠ¡ç”³è¯· v1 ç‰ˆæœ¬çš„ UUIDã€‚</p>
<p>æœåŠ¡åŒ–ä¹Ÿä¼šå¸¦æ¥çŠ¶æ€ï¼šæ—¶é—´æˆ³ã€clock sequence å’Œ node identifier éƒ½å¯ä»¥æŒä¹…åŒ–åˆ°æœ¬åœ°å­˜å‚¨ï¼Œå¾…åˆ°ä¸‹æ¬¡ç³»ç»Ÿå¯åŠ¨åä»å­˜å‚¨è¯»å…¥ã€‚</p>
<p>ä½†æ˜¯æˆ‘ä¸ªäººéå¸¸ä¸èµæˆè¿™ç§æ¨¡å¼ã€‚</p>
<p>æœåŠ¡åŒ–æ˜¾è‘—å¢åŠ äº†å¯¹èµ„æºçš„çš„ç«äº‰ï¼Œå¹¶ä¸”å¼•å…¥çŠ¶æ€ä¹‹åè¿˜æ¶‰åŠäº†å¤–éƒ¨å­˜å‚¨çš„ç»´æŠ¤ï¼Œæ›´è›‹ç–¼çš„æ˜¯è¿˜æ²¡æœ‰ä»€ä¹ˆæ”¶ç›Šã€‚</p>
<p>å¥½åœ¨ RFC é‡Œè¿˜ç•™äº†ä¸€æ‰‹å¯ä»¥é¿å…è¿™ä¸ªæƒ…å†µçš„å‡ºç°ï¼šé¦–æ¬¡è¿è¡Œæˆ–è€…å¤–éƒ¨å­˜å‚¨æ•°æ®å‘ç”ŸæŸåç­‰å¯¼è‡´ä¸å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œæ‰§è¡Œå…¨æ–°åˆå§‹åŒ–é€»è¾‘ã€‚</p>
<p>å…¶ä¸­ clock sequence æ˜¯éšæœºç”Ÿæˆçš„ï¼Œå¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šé¿å…é‡å¤ UUID çš„å‡ºç°ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æŠŠçŠ¶æ€é™åˆ¶åœ¨åº“ä½¿ç”¨è€…ä¸Šï¼Œå¹¶ä¸”ä½¿ç”¨è€…çš„è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸä½œä¸ºä¸€æ¬¡çŠ¶æ€å‘¨æœŸï¼Œè¿™æ ·æ—¢ä¸éœ€è¦æŒä¹…åŒ–çŠ¶æ€ï¼Œä¹Ÿä¸éœ€è¦å¯¹å¤–å…±äº«æœåŠ¡ã€‚</p>
<h3 id="0x4-å®ç°æ­¥éª¤"><a href="#0x4-å®ç°æ­¥éª¤" class="headerlink" title="0x4. å®ç°æ­¥éª¤"></a>0x4. å®ç°æ­¥éª¤</h3><ol>
<li>è·å– UUID æ—¶é—´æˆ³å’Œ clock sequence</li>
<li>è·å– node identifierï¼ˆé‰´äºç”Ÿå‘½å‘¨æœŸå†… node id ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå› æ­¤å¯ä»¥åªè·å–ä¸€æ¬¡ç„¶åå¤ç”¨ï¼‰</li>
<li>æŒ‰ç…§å±•ç¤ºæ ¼å¼å†™å…¥ uuid data <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ts_low_32_bit | ts_medium_16_bit | ts_high_16_bit | cs_high_8_bit + cs_low_8_bit | node_id_48_bit</span><br></pre></td></tr></table></figure></li>
<li>è®¾ç½® variant</li>
<li>è®¾ç½® version</li>
</ol>
<p>è¿™é‡Œä¸ç®¡åº•å±‚æ˜¯é‡‡ç”¨ä¸¤ä¸ª 8-byte ä¿å­˜è¿˜æ˜¯ 16-byte çš„æ•°ç»„ï¼Œåªéœ€è¦ä¿è¯æœ€åæ ¼å¼åŒ–åå­—ç¬¦ä¸²çš„é¡ºåºç¬¦åˆä¸Šé¢è¿™ä¸ªé¡ºåºå³å¯ã€‚</p>
<h3 id="0x5-Pros-amp-Cons-of-v1"><a href="#0x5-Pros-amp-Cons-of-v1" class="headerlink" title="0x5. Pros &amp; Cons of v1"></a>0x5. Pros &amp; Cons of v1</h3><p>v1 çš„ä¼˜ç‚¹èƒ½æƒ³åˆ°çš„å¤§æ¦‚åªæœ‰ä¸€å°è®¾å¤‡ä¸Šç”Ÿæˆçš„ UUID å€¼æŒ‰ç…§æ—¶é—´é€’å¢ã€‚</p>
<p>ç¼ºç‚¹å€’æ˜¯æŒºå¤šçš„ï¼›ç¬¬ä¸€ä¸ªå°±æ˜¯å®ç°èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œå°¤å…¶æ˜¯è·å– MAC åœ°å€ã€‚</p>
<p>ç¬¬äºŒä¸ªæ˜¯ï¼Œå¦‚æœè¦åšåˆ° RFC fully compliantï¼Œé‚£æˆæœ¬ä¼šå¾ˆé«˜ã€‚</p>
<p>ç¬¬ä¸‰ä¸ªï¼Œè„‘æ‹æ„Ÿè§‰å‡ºç°é‡å¤çš„æ¦‚ç‡å¯èƒ½ä¼šé«˜äºå…¨éšæœºçš„ v4ã€‚</p>
<h2 id="å®ç°-UUID-v2"><a href="#å®ç°-UUID-v2" class="headerlink" title="å®ç° UUID v2"></a>å®ç° UUID v2</h2><p>v2 å·ç§°æ˜¯ DCE Security Versionï¼Œä½†æ˜¯ RFC å¯¹è¿™éƒ¨åˆ†ç€å¢¨ä¸å¤šï¼ˆå…¶å®å°±æ˜¯åŸºæœ¬æ²¡æœ‰ï¼‰</p>
<p>æ ¹æ® opengroup ä¸Š DCE å½“å¹´çš„<a target="_blank" rel="noopener" href="https://pubs.opengroup.org/onlinepubs/9696989899/chap5.htm#tagcjh_08_02_01_01">æ–‡æ¡£</a>ï¼Œv2 åœ¨ v1 çš„åŸºç¡€ä¸Šåšäº†å¦‚ä¸‹æ”¹åŠ¨ã€‚</p>
<p>å¼•å…¥äº†ä¸€ä¸ª <em>local domain</em> çš„æ¦‚å¿µï¼Œlocal domain å¯¹äºå½“å‰è®¾å¤‡æ‰€å¤„çš„ local host æ˜¯æœ‰æ„ä¹‰çš„ã€‚</p>
<p>è™½ç„¶å®šä¹‰ä¸Šè¿™ä¸ª <em>local domain</em> çš„å–å€¼å¯ä»¥æ˜¯ $ [0, 2^{8}-1] $ ä½†æ˜¯å®é™…ä¸Šåªæœ‰ person, group, org ä¸‰ä¸ª domain å†ç”¨ï¼›å³ $ [0, 2] $ã€‚</p>
<p>local domain å¯¹åº”çš„å€¼å« local identifierï¼š</p>
<ul>
<li>å¯¹äº local domain &#x3D;&#x3D; personï¼Œlocal identifier å°±æ˜¯ POSIX ç³»ç»Ÿä¸‹çš„ user-idï¼Œå³ POSIX UID</li>
<li>å¯¹äº local domain &#x3D;&#x3D; groupï¼Œlocal identifier æ˜¯ POSIX GID</li>
</ul>
<p>æ³¨æ„ï¼šå¯¹äº non-POSIX ç³»ç»Ÿï¼ŒUUID v2 æ˜¯æ²¡æœ‰å®šä¹‰çš„ï¼›æ¯”å¦‚ Windowsâ€¦ğŸ¤¦â€</p>
<p>æœ‰äº†ä¸Šé¢ä¸¤ä¸ªç©æ„å„¿ä¹‹åï¼Œå¯¹ v1 çš„æ•°æ®åšå¦‚ä¸‹è¦†å†™ï¼š</p>
<ol>
<li><code>cs_low_8_bit</code> ç”¨ local domain æ›¿ä»£</li>
<li><code>ts_low_32_bit</code> ç”¨ local id æ›¿ä»£</li>
<li>æ›´æ–° version å­—æ®µ</li>
</ol>
<h3 id="0x0-ä¸€äº›åæ§½"><a href="#0x0-ä¸€äº›åæ§½" class="headerlink" title="0x0 ä¸€äº›åæ§½"></a>0x0 ä¸€äº›åæ§½</h3><p>v2 å‡ ä¹å®Œå…¨æ˜¯ DCE è‡ªå·±å®šä¹‰çš„ï¼Œå¹¶ä¸”å¤§å †æ¦‚å¿µå®šä¹‰çš„ä¸Šä¸‹æ–‡éƒ½é™å®šåœ¨ DCE ç³»ç»Ÿå†…éƒ¨ã€‚</p>
<p>ç”šè‡³å¯¹äº v2 UUID uniqueness çš„ä¿è¯æ–‡æ¡£æ˜¯è¿™ä¹ˆè¯´çš„ï¼š</p>
<blockquote>
<p>Concerning the uniqueness of security-version UUIDs, see the discussion in Privilege (Authorisation) Service (PS) of the double-UUID identification scheme. The point of that discussion is that the security architecture of DCE depends upon the uniqueness of security-version UUIDs only within the context of a cell; that is, only within the context of the local RSâ€™s (persistent) datastore, and that degree of uniqueness can be guaranteed by the RS itself (namely, the RS maintains state in its datastore, in the sense that it can always check that every UUID it maintains is different from all other UUIDs it maintains). In other words, while security-version UUIDs are (like all UUIDs) specified to be â€œglobally unique in space and timeâ€, security is not compromised if they are merely â€œlocally unique per cellâ€. This statement does not relax the requirements on implementations of security-version UUIDs, it is only a comment about the trust structure of DCE, namely, entities (security subjects and objects) need not trust that foreign RSs maintain globally unique UUIDs, only that their own local RS maintains locally unique UUIDs.</p>
</blockquote>
<p>DCE å¯¹å¤–å…¬å¼€çš„æ–‡æ¡£ç”šè‡³åªæä¾›äº† v1 çš„ä»£ç ç¤ºä¾‹ï¼š</p>
<blockquote>
<p>Note that the manner in which security-version UUIDs are generated is implementation-dependent: no API routine is supported by DCE that generates security-version UUIDs (recall that uuid_create() specified in the referenced Open Group DCE 1.1 RPC Specification generates only version 1 UUIDs).</p>
</blockquote>
<p>æˆ‘ç”šè‡³æ€€ç–‘ä»–ä»¬æ ¹æœ¬æ²¡æœ‰çœŸæ­£ä½¿ç”¨è¿‡ UUID v2ï¼Œåªæ˜¯æå‡ºäº†è¿™ä¸ªæ ‡å‡†è§„èŒƒï¼›æ‰€ä»¥åˆ°åº•ä»€ä¹ˆæ˜¯çœŸæ­£ç¬¦åˆè¦æ±‚çš„ v2 å®ç°å¯èƒ½è°ä¹Ÿè¯´ä¸å‡†ã€‚</p>
<p>æ‰€ä»¥ï¼Œåœ¨ä»Šå¤©çš„ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä¸å»ºè®®ä½¿ç”¨ UUID v2ã€‚</p>
</div><div class="tags"><a href="/tags/uuid/"><i class="fa fa-tag"></i>uuid</a></div><div class="post-nav"><a class="pre" href="/2021/03/07/uuid-and-its-implementations-3/">UUID åŠå…¶å®ç° 3</a><a class="next" href="/2021/02/25/uuid-and-its-implementations-1/">UUID åŠå…¶å®ç° 1</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">é˜…è¯»è¯„è®ºï¼ˆè¯·ç¡®ä¿ Disqus å¯ä»¥æ­£å¸¸åŠ è½½ï¼‰</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'http://kingsamchen.github.io/2021/03/06/uuid-and-its-implementations-2/';
    this.page.identifier = '2021/03/06/uuid-and-its-implementations-2/';
    this.page.title = 'UUID åŠå…¶å®ç° 2';
  };</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({
url: 'https://disqus.com/next/config.json',
timeout: 2500,
type: 'GET',
success: function(){
  var d = document;
  var s = d.createElement('script');
  s.src = '//kingsamchen-github-io.disqus.com/embed.js';
  s.setAttribute('data-timestamp', + new Date());
  (d.head || d.body).appendChild(s);
  $('.disqus_click_btn').css('display', 'none');
},
error: function() {
  $('.disqus_click_btn').css('display', 'block');
}
});</script><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//kingsamchen-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://kingsamchen-github-io.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://kingsamchen.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CODE-LIFE/">CODE-LIFE</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PROGRAMMING/">PROGRAMMING</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ROGRAMMING/">ROGRAMMING</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2022/11/27/weekly-2022-nov-4/">ä¸€å‘¨æ‚è®° in Week 4 Nov 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/21/weekly-2022-nov-3/">ä¸€å‘¨æ‚è®° in Week 3 Nov 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/13/weekly-2022-nov-2/">ä¸€å‘¨æ‚è®° in Week 2 Nov 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/08/weekly-2022-nov-1/">ä¸€å‘¨æ‚è®° in Week 1 Nov 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/04/weekly-2022-oct-5/">ä¸€å‘¨æ‚è®° in Week 5 Oct 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/23/weekly-2022-oct-4/">ä¸€å‘¨æ‚è®° in Week 4 Oct 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/16/weekly-2022-oct-3/">ä¸€å‘¨æ‚è®° in Week 3 Oct 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/09/weekly-2022-oct-2/">ä¸€å‘¨æ‚è®° in Week 2 Oct 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/09/dockerfile-for-studying-cxx-projects/">åŸºäº Docker å¿«é€Ÿæ­å»ºç”¨äºå­¦ä¹  C/C++ é¡¹ç›®æºç çš„ç¯å¢ƒ</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/02/weekly-2022-oct-1/">ä¸€å‘¨æ‚è®° in Week 1 Oct 2022</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/rant/" style="font-size: 15px;">rant</a> <a href="/tags/life/" style="font-size: 15px;">life</a> <a href="/tags/android/" style="font-size: 15px;">android</a> <a href="/tags/Windows/" style="font-size: 15px;">Windows</a> <a href="/tags/crash/" style="font-size: 15px;">crash</a> <a href="/tags/breakpad/" style="font-size: 15px;">breakpad</a> <a href="/tags/cpp/" style="font-size: 15px;">cpp</a> <a href="/tags/exception/" style="font-size: 15px;">exception</a> <a href="/tags/memory-fence/" style="font-size: 15px;">memory fence</a> <a href="/tags/memory-ordering/" style="font-size: 15px;">memory ordering</a> <a href="/tags/multiple-instance/" style="font-size: 15px;">multiple instance</a> <a href="/tags/c/" style="font-size: 15px;">c++</a> <a href="/tags/enum/" style="font-size: 15px;">enum</a> <a href="/tags/flag/" style="font-size: 15px;">flag</a> <a href="/tags/bitwise%EF%BC%8C-SFINAE/" style="font-size: 15px;">bitwiseï¼Œ SFINAE</a> <a href="/tags/KBase/" style="font-size: 15px;">KBase</a> <a href="/tags/command-line/" style="font-size: 15px;">command-line</a> <a href="/tags/abstraction/" style="font-size: 15px;">abstraction</a> <a href="/tags/%E6%A2%AF%E5%AD%90/" style="font-size: 15px;">æ¢¯å­</a> <a href="/tags/shadowsocks/" style="font-size: 15px;">shadowsocks</a> <a href="/tags/trojan/" style="font-size: 15px;">trojan</a> <a href="/tags/socat/" style="font-size: 15px;">socat</a> <a href="/tags/windows/" style="font-size: 15px;">windows</a> <a href="/tags/design/" style="font-size: 15px;">design</a> <a href="/tags/environment/" style="font-size: 15px;">environment</a> <a href="/tags/buddy-allocator/" style="font-size: 15px;">buddy-allocator</a> <a href="/tags/algorithms/" style="font-size: 15px;">algorithms</a> <a href="/tags/C-17/" style="font-size: 15px;">C++ 17</a> <a href="/tags/string-view/" style="font-size: 15px;">string_view</a> <a href="/tags/tokenizer/" style="font-size: 15px;">tokenizer</a> <a href="/tags/asio/" style="font-size: 15px;">asio</a> <a href="/tags/cmake/" style="font-size: 15px;">cmake</a> <a href="/tags/anvil/" style="font-size: 15px;">anvil</a> <a href="/tags/project-management/" style="font-size: 15px;">project management</a> <a href="/tags/atoi/" style="font-size: 15px;">atoi</a> <a href="/tags/golang/" style="font-size: 15px;">golang</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/cfs/" style="font-size: 15px;">cfs</a> <a href="/tags/non-capturing-lambda/" style="font-size: 15px;">non-capturing lambda</a> <a href="/tags/function-pointer/" style="font-size: 15px;">function pointer</a> <a href="/tags/obs-studio/" style="font-size: 15px;">obs-studio</a> <a href="/tags/inno-setup/" style="font-size: 15px;">inno setup</a> <a href="/tags/installer/" style="font-size: 15px;">installer</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Unix/" style="font-size: 15px;">Unix</a> <a href="/tags/signal/" style="font-size: 15px;">signal</a> <a href="/tags/signalfd/" style="font-size: 15px;">signalfd</a> <a href="/tags/self-pipe-trick/" style="font-size: 15px;">self-pipe trick</a> <a href="/tags/cant/" style="font-size: 15px;">cant</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/HandlerThread/" style="font-size: 15px;">HandlerThread</a> <a href="/tags/Looper/" style="font-size: 15px;">Looper</a> <a href="/tags/Handler/" style="font-size: 15px;">Handler</a> <a href="/tags/MessageLoop/" style="font-size: 15px;">MessageLoop</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/proxy/" style="font-size: 15px;">proxy</a> <a href="/tags/thread-pool/" style="font-size: 15px;">thread-pool</a> <a href="/tags/chromium/" style="font-size: 15px;">chromium</a> <a href="/tags/urlfetcher/" style="font-size: 15px;">urlfetcher</a> <a href="/tags/wireshark/" style="font-size: 15px;">wireshark</a> <a href="/tags/localhost/" style="font-size: 15px;">localhost</a> <a href="/tags/source-internals/" style="font-size: 15px;">source internals</a> <a href="/tags/message-loop/" style="font-size: 15px;">message-loop</a> <a href="/tags/SFINAE/" style="font-size: 15px;">SFINAE</a> <a href="/tags/template/" style="font-size: 15px;">template</a> <a href="/tags/visual-studio/" style="font-size: 15px;">visual studio</a> <a href="/tags/libx264/" style="font-size: 15px;">libx264</a> <a href="/tags/vcpkg/" style="font-size: 15px;">vcpkg</a> <a href="/tags/shared-ptr/" style="font-size: 15px;">shared_ptr</a> <a href="/tags/type-injection/" style="font-size: 15px;">type injection</a> <a href="/tags/shared-ptr-internals/" style="font-size: 15px;">shared_ptr-internals</a> <a href="/tags/source-code-study/" style="font-size: 15px;">source-code-study</a> <a href="/tags/weak-ptr/" style="font-size: 15px;">weak_ptr</a> <a href="/tags/base-lib/" style="font-size: 15px;">base lib</a> <a href="/tags/tag-dispatching/" style="font-size: 15px;">tag dispatching</a> <a href="/tags/boost/" style="font-size: 15px;">boost</a> <a href="/tags/libstdc/" style="font-size: 15px;">libstdc++</a> <a href="/tags/gcc/" style="font-size: 15px;">gcc</a> <a href="/tags/clang/" style="font-size: 15px;">clang</a> <a href="/tags/sfinae/" style="font-size: 15px;">sfinae</a> <a href="/tags/google-breakpad/" style="font-size: 15px;">google-breakpad</a> <a href="/tags/invalid-paramter/" style="font-size: 15px;">invalid paramter</a> <a href="/tags/operator/" style="font-size: 15px;">operator[]</a> <a href="/tags/owner-semantics/" style="font-size: 15px;">owner semantics</a> <a href="/tags/view-semantics/" style="font-size: 15px;">view semantics</a> <a href="/tags/msvc/" style="font-size: 15px;">msvc</a> <a href="/tags/ebo/" style="font-size: 15px;">ebo</a> <a href="/tags/multiple-inheritance/" style="font-size: 15px;">multiple inheritance</a> <a href="/tags/Visual-Studio/" style="font-size: 15px;">Visual Studio</a> <a href="/tags/debugger/" style="font-size: 15px;">debugger</a> <a href="/tags/UTF-8/" style="font-size: 15px;">UTF-8</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/haskell/" style="font-size: 15px;">haskell</a> <a href="/tags/infix-operator/" style="font-size: 15px;">infix operator</a> <a href="/tags/error-handling/" style="font-size: 15px;">error handling</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/mint/" style="font-size: 15px;">mint</a> <a href="/tags/%E7%A3%81%E7%9B%98/" style="font-size: 15px;">ç£ç›˜</a> <a href="/tags/%E6%89%A9%E5%AE%B9/" style="font-size: 15px;">æ‰©å®¹</a> <a href="/tags/line-ending/" style="font-size: 15px;">line ending</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="https://www.daozhihun.com/" title="åˆ€ä¹‹é­‚ | å¤§æœ¨è€å¸ˆæˆé•¿æ—¥è®°" target="_blank">åˆ€ä¹‹é­‚ | å¤§æœ¨è€å¸ˆæˆé•¿æ—¥è®°</a><ul></ul><a href="https://blog.nlogn.cn/" title="å¸§å“¥ | ç¡…è°·è°ˆæ’¸ç®¡" target="_blank">å¸§å“¥ | ç¡…è°·è°ˆæ’¸ç®¡</a><ul></ul><a href="https://blog.chichou.me/" title="ChiChou | é¦–å¸­å®‰å…¨åœ°çƒä»ªåˆ‡å›¾æ€»å¥¸" target="_blank">ChiChou | é¦–å¸­å®‰å…¨åœ°çƒä»ªåˆ‡å›¾æ€»å¥¸</a><ul></ul><a href="https://fleurer.github.io/" title="Fleurer-lee | Få”çš„è¯»ä¹¦ç¬”è®°ï¼ˆå¤§é‡å¹²è´§ï¼‰" target="_blank">Fleurer-lee | Få”çš„è¯»ä¹¦ç¬”è®°ï¼ˆå¤§é‡å¹²è´§ï¼‰</a><ul></ul><a href="https://vizee.org/" title="Vizee | å³å°†èµ°ä¸Šäººç”Ÿå·…å³°æ¨èè‰çš„ç« æ€»" target="_blank">Vizee | å³å°†èµ°ä¸Šäººç”Ÿå·…å³°æ¨èè‰çš„ç« æ€»</a><ul></ul><a href="https://blog.thecjw.me/" title="TheCJW | çˆ±å¼¹æ£‰èŠ±çš„å°ä¼Ÿ" target="_blank">TheCJW | çˆ±å¼¹æ£‰èŠ±çš„å°ä¼Ÿ</a><ul></ul><a href="https://newbiecoder.0ginr.com/blog/" title="Newbie Coder | èŒèŒå“’çš„ç‚‰å­" target="_blank">Newbie Coder | èŒèŒå“’çš„ç‚‰å­</a><ul></ul><a href="https://frankpie.github.io/" title="è£´è‰è“ | æ„¤æ€’çš„è€å¸æœº" target="_blank">è£´è‰è“ | æ„¤æ€’çš„è€å¸æœº</a><ul></ul><a href="https://beanbee.me/" title="é™ˆè€å¸ˆ | Beanbee.Max" target="_blank">é™ˆè€å¸ˆ | Beanbee.Max</a><ul></ul><a href="https://sunus.me/" title="Sunus | æå¸ˆå‚…é£Ÿå“å‚CEO" target="_blank">Sunus | æå¸ˆå‚…é£Ÿå“å‚CEO</a><ul></ul><a href="http://www.tolower.net/" title="Lower | å–Šå¤§æœ¨å¤§å“¥çš„å°å¼Ÿ" target="_blank">Lower | å–Šå¤§æœ¨å¤§å“¥çš„å°å¼Ÿ</a><ul></ul><a href="http://mrljdx.com/" title="Mrljdx | å¤§ä¿å¥è€å¸æœº" target="_blank">Mrljdx | å¤§ä¿å¥è€å¸æœº</a><ul></ul><a href="https://www.mydavelv.net/" title="Davelv | æ±Ÿæ¹–äººç§°å¤§å°¾é©´" target="_blank">Davelv | æ±Ÿæ¹–äººç§°å¤§å°¾é©´</a></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> Recent Comments</i></div><script type="text/javascript" src="//kingsamchen-github-io.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2022 <a href="/." rel="nofollow">KCçš„åºŸå¢Ÿå †.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>