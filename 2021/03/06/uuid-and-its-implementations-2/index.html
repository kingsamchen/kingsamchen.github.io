<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Gone with the ruins"><title>UUID 及其实现 2 | KC的废墟堆</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">UUID 及其实现 2</h1><a id="logo" href="/.">KC的废墟堆</a><p class="description">Will you serve in Heaven, or rule in Hell</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/source-code-reading/"><i class="fa fa-archive"> 源码分析</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">UUID 及其实现 2</h1><div class="post-meta">2021-03-06<span> | </span><span class="category"><a href="/categories/PROGRAMMING/">PROGRAMMING</a></span></div><a class="disqus-comment-count" data-disqus-identifier="2021/03/06/uuid-and-its-implementations-2/" href="/2021/03/06/uuid-and-its-implementations-2/#disqus_thread"></a><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">Contents</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0-UUID-v1"><span class="toc-text">实现 UUID v1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0x0-UUID-Timestamp"><span class="toc-text">0x0. UUID Timestamp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x1-Clock-Sequence"><span class="toc-text">0x1. Clock Sequence</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x2-Node-Identifier"><span class="toc-text">0x2. Node Identifier</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x3-%E6%8C%81%E4%B9%85%E5%8C%96%EF%BC%9F%E6%9C%8D%E5%8A%A1%E5%8C%96%EF%BC%9F"><span class="toc-text">0x3. 持久化？服务化？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x4-%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-text">0x4. 实现步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0x5-Pros-amp-Cons-of-v1"><span class="toc-text">0x5. Pros &amp; Cons of v1</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0-UUID-v2"><span class="toc-text">实现 UUID v2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0x0-%E4%B8%80%E4%BA%9B%E5%90%90%E6%A7%BD"><span class="toc-text">0x0 一些吐槽</span></a></li></ol></li></ol></div></div><div class="post-content"><p>上篇介绍了 UUID 的格式和 v4 的实现，这篇讲 v1 &amp; v2 的实现。</p>
<p>v2 版本是 v1 上衍生出来的，而 v1 因为涉及到时间戳，又称为 time-based implementation。</p>
<h2 id="实现-UUID-v1"><a href="#实现-UUID-v1" class="headerlink" title="实现 UUID v1"></a>实现 UUID v1</h2><p>v1 除了常规的 variant 和 version 部份外，还涉及三个部分：</p>
<ul>
<li>timestamp，需要 60-bit 通常用 64-bit 容纳；非寻常的 Unix Timestamp</li>
<li>clock sequence，需要 14-bit，通常用 16-bit 存储</li>
<li>node identifier，48-bit 和设备相关</li>
</ul>
<p>下面逐一解释这三个部分。</p>
<h3 id="0x0-UUID-Timestamp"><a href="#0x0-UUID-Timestamp" class="headerlink" title="0x0. UUID Timestamp"></a>0x0. UUID Timestamp</h3><p>和常见的 Unix 时间戳不同，UUID 时间戳记录的是，自 1582-10-15 00:00:00 至今的 100-ns 数。</p>
<p>1582年10月15日的零点是<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/zh-cn/%E6%A0%BC%E9%87%8C%E6%9B%86">格里高力历</a>开始的时间，这个时间也是 UUID Epoch Time。</p>
<p>UUID 时间戳的分辨率（resolution）是 100 纳秒，即每 100ns 为一个 tick。</p>
<p>现代编程语言都可以获取 unix 时间戳，因此可以先获取 unix 时间戳，然后加上两个 epoch time 的差值；这个差值是个定值，等于 <code>122192928000000000</code>。</p>
<p>注意：获取时间戳时需要注意系统或者语言库能提供的分辨率。</p>
<h3 id="0x1-Clock-Sequence"><a href="#0x1-Clock-Sequence" class="headerlink" title="0x1. Clock Sequence"></a>0x1. Clock Sequence</h3><p>因为引入了时间戳，所以存在可能由于时钟回拨、闰秒，甚至因为系统提供的时钟分辨率不够导致使用了重复的时间戳。</p>
<p>另外 node identifier 也有可能被改变。</p>
<p>所以为了尽可能保证 UUID 的唯一性，引入了 clock sequence。</p>
<p>注：RFC 4122 没有规定 UUID v1 必须要使用 steady clock，所以使用能够被回拨的 system clock 也是允许的。另外，即使使用了 steady clock，机器在两次启动之间也可能调整了硬件时间，一样可能会导致回拨。</p>
<p>Clock sequence 一开始会被初始化为一个随机值；之后如果某次获取 UUID 时间戳发现 &lt;&#x3D; 上一次的时间戳，就会自增 clock sequence。</p>
<p>clock sequence 通常会设置为一个无符号数，以确保溢出 wrap-around 的行为是确定的。</p>
<span id="more"></span>
<p>同时为了防止因为系统的时钟分辨率过低，导致 clock sequence 消耗过快，可以在 clock sequence <strong>连续自增</strong> 一定次数后 spin 一会儿，直到时间戳变化。</p>
<h3 id="0x2-Node-Identifier"><a href="#0x2-Node-Identifier" class="headerlink" title="0x2. Node Identifier"></a>0x2. Node Identifier</h3><p>这部分本质是设备信息，通常使用设备的 MAC 地址，刚好 48-bit。</p>
<p>如果设备有超过一块网卡，那么可以使用任意一块。</p>
<p>如果设备没有网卡，或者获取 MAC 地址失败，可以使用随机生成的 48-bit 数来代替，同时需要设置第一个（自左向右）8位的最低为 0x01 来表示这种情况。</p>
<h3 id="0x3-持久化？服务化？"><a href="#0x3-持久化？服务化？" class="headerlink" title="0x3. 持久化？服务化？"></a>0x3. 持久化？服务化？</h3><p>根据 RFC 4122 的内容，UUID v1 的生成一开始的定位更像是系统全局服务，多个进程都可以通过这个服务申请 v1 版本的 UUID。</p>
<p>服务化也会带来状态：时间戳、clock sequence 和 node identifier 都可以持久化到本地存储，待到下次系统启动后从存储读入。</p>
<p>但是我个人非常不赞成这种模式。</p>
<p>服务化显著增加了对资源的的竞争，并且引入状态之后还涉及了外部存储的维护，更蛋疼的是还没有什么收益。</p>
<p>好在 RFC 里还留了一手可以避免这个情况的出现：首次运行或者外部存储数据发生损坏等导致不可用的情况下，执行全新初始化逻辑。</p>
<p>其中 clock sequence 是随机生成的，可以一定程度上避免重复 UUID 的出现。</p>
<p>所以我们只需要把状态限制在库使用者上，并且使用者的进程生命周期作为一次状态周期，这样既不需要持久化状态，也不需要对外共享服务。</p>
<h3 id="0x4-实现步骤"><a href="#0x4-实现步骤" class="headerlink" title="0x4. 实现步骤"></a>0x4. 实现步骤</h3><ol>
<li>获取 UUID 时间戳和 clock sequence</li>
<li>获取 node identifier（鉴于生命周期内 node id 不会发生变化，因此可以只获取一次然后复用）</li>
<li>按照展示格式写入 uuid data <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ts_low_32_bit | ts_medium_16_bit | ts_high_16_bit | cs_high_8_bit + cs_low_8_bit | node_id_48_bit</span><br></pre></td></tr></table></figure></li>
<li>设置 variant</li>
<li>设置 version</li>
</ol>
<p>这里不管底层是采用两个 8-byte 保存还是 16-byte 的数组，只需要保证最后格式化后字符串的顺序符合上面这个顺序即可。</p>
<h3 id="0x5-Pros-amp-Cons-of-v1"><a href="#0x5-Pros-amp-Cons-of-v1" class="headerlink" title="0x5. Pros &amp; Cons of v1"></a>0x5. Pros &amp; Cons of v1</h3><p>v1 的优点能想到的大概只有一台设备上生成的 UUID 值按照时间递增。</p>
<p>缺点倒是挺多的；第一个就是实现起来比较麻烦，尤其是获取 MAC 地址。</p>
<p>第二个是，如果要做到 RFC fully compliant，那成本会很高。</p>
<p>第三个，脑拍感觉出现重复的概率可能会高于全随机的 v4。</p>
<h2 id="实现-UUID-v2"><a href="#实现-UUID-v2" class="headerlink" title="实现 UUID v2"></a>实现 UUID v2</h2><p>v2 号称是 DCE Security Version，但是 RFC 对这部分着墨不多（其实就是基本没有）</p>
<p>根据 opengroup 上 DCE 当年的<a target="_blank" rel="noopener" href="https://pubs.opengroup.org/onlinepubs/9696989899/chap5.htm#tagcjh_08_02_01_01">文档</a>，v2 在 v1 的基础上做了如下改动。</p>
<p>引入了一个 <em>local domain</em> 的概念，local domain 对于当前设备所处的 local host 是有意义的。</p>
<p>虽然定义上这个 <em>local domain</em> 的取值可以是 $ [0, 2^{8}-1] $ 但是实际上只有 person, group, org 三个 domain 再用；即 $ [0, 2] $。</p>
<p>local domain 对应的值叫 local identifier：</p>
<ul>
<li>对于 local domain &#x3D;&#x3D; person，local identifier 就是 POSIX 系统下的 user-id，即 POSIX UID</li>
<li>对于 local domain &#x3D;&#x3D; group，local identifier 是 POSIX GID</li>
</ul>
<p>注意：对于 non-POSIX 系统，UUID v2 是没有定义的；比如 Windows…🤦‍</p>
<p>有了上面两个玩意儿之后，对 v1 的数据做如下覆写：</p>
<ol>
<li><code>cs_low_8_bit</code> 用 local domain 替代</li>
<li><code>ts_low_32_bit</code> 用 local id 替代</li>
<li>更新 version 字段</li>
</ol>
<h3 id="0x0-一些吐槽"><a href="#0x0-一些吐槽" class="headerlink" title="0x0 一些吐槽"></a>0x0 一些吐槽</h3><p>v2 几乎完全是 DCE 自己定义的，并且大堆概念定义的上下文都限定在 DCE 系统内部。</p>
<p>甚至对于 v2 UUID uniqueness 的保证文档是这么说的：</p>
<blockquote>
<p>Concerning the uniqueness of security-version UUIDs, see the discussion in Privilege (Authorisation) Service (PS) of the double-UUID identification scheme. The point of that discussion is that the security architecture of DCE depends upon the uniqueness of security-version UUIDs only within the context of a cell; that is, only within the context of the local RS’s (persistent) datastore, and that degree of uniqueness can be guaranteed by the RS itself (namely, the RS maintains state in its datastore, in the sense that it can always check that every UUID it maintains is different from all other UUIDs it maintains). In other words, while security-version UUIDs are (like all UUIDs) specified to be “globally unique in space and time”, security is not compromised if they are merely “locally unique per cell”. This statement does not relax the requirements on implementations of security-version UUIDs, it is only a comment about the trust structure of DCE, namely, entities (security subjects and objects) need not trust that foreign RSs maintain globally unique UUIDs, only that their own local RS maintains locally unique UUIDs.</p>
</blockquote>
<p>DCE 对外公开的文档甚至只提供了 v1 的代码示例：</p>
<blockquote>
<p>Note that the manner in which security-version UUIDs are generated is implementation-dependent: no API routine is supported by DCE that generates security-version UUIDs (recall that uuid_create() specified in the referenced Open Group DCE 1.1 RPC Specification generates only version 1 UUIDs).</p>
</blockquote>
<p>我甚至怀疑他们根本没有真正使用过 UUID v2，只是提出了这个标准规范；所以到底什么是真正符合要求的 v2 实现可能谁也说不准。</p>
<p>所以，在今天的生产环境中，不建议使用 UUID v2。</p>
</div><div class="tags"><a href="/tags/uuid/"><i class="fa fa-tag"></i>uuid</a></div><div class="post-nav"><a class="pre" href="/2021/03/07/uuid-and-its-implementations-3/">UUID 及其实现 3</a><a class="next" href="/2021/02/25/uuid-and-its-implementations-1/">UUID 及其实现 1</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 Disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'http://kingsamchen.github.io/2021/03/06/uuid-and-its-implementations-2/';
    this.page.identifier = '2021/03/06/uuid-and-its-implementations-2/';
    this.page.title = 'UUID 及其实现 2';
  };</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({
url: 'https://disqus.com/next/config.json',
timeout: 2500,
type: 'GET',
success: function(){
  var d = document;
  var s = d.createElement('script');
  s.src = '//kingsamchen-github-io.disqus.com/embed.js';
  s.setAttribute('data-timestamp', + new Date());
  (d.head || d.body).appendChild(s);
  $('.disqus_click_btn').css('display', 'none');
},
error: function() {
  $('.disqus_click_btn').css('display', 'block');
}
});</script><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//kingsamchen-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://kingsamchen-github-io.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://kingsamchen.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CODE-LIFE/">CODE-LIFE</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PROGRAMMING/">PROGRAMMING</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ROGRAMMING/">ROGRAMMING</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2022/11/27/weekly-2022-nov-4/">一周杂记 in Week 4 Nov 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/21/weekly-2022-nov-3/">一周杂记 in Week 3 Nov 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/13/weekly-2022-nov-2/">一周杂记 in Week 2 Nov 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/08/weekly-2022-nov-1/">一周杂记 in Week 1 Nov 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/04/weekly-2022-oct-5/">一周杂记 in Week 5 Oct 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/23/weekly-2022-oct-4/">一周杂记 in Week 4 Oct 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/16/weekly-2022-oct-3/">一周杂记 in Week 3 Oct 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/09/weekly-2022-oct-2/">一周杂记 in Week 2 Oct 2022</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/09/dockerfile-for-studying-cxx-projects/">基于 Docker 快速搭建用于学习 C/C++ 项目源码的环境</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/02/weekly-2022-oct-1/">一周杂记 in Week 1 Oct 2022</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/rant/" style="font-size: 15px;">rant</a> <a href="/tags/life/" style="font-size: 15px;">life</a> <a href="/tags/android/" style="font-size: 15px;">android</a> <a href="/tags/Windows/" style="font-size: 15px;">Windows</a> <a href="/tags/crash/" style="font-size: 15px;">crash</a> <a href="/tags/breakpad/" style="font-size: 15px;">breakpad</a> <a href="/tags/cpp/" style="font-size: 15px;">cpp</a> <a href="/tags/exception/" style="font-size: 15px;">exception</a> <a href="/tags/memory-fence/" style="font-size: 15px;">memory fence</a> <a href="/tags/memory-ordering/" style="font-size: 15px;">memory ordering</a> <a href="/tags/multiple-instance/" style="font-size: 15px;">multiple instance</a> <a href="/tags/c/" style="font-size: 15px;">c++</a> <a href="/tags/enum/" style="font-size: 15px;">enum</a> <a href="/tags/flag/" style="font-size: 15px;">flag</a> <a href="/tags/bitwise%EF%BC%8C-SFINAE/" style="font-size: 15px;">bitwise， SFINAE</a> <a href="/tags/KBase/" style="font-size: 15px;">KBase</a> <a href="/tags/command-line/" style="font-size: 15px;">command-line</a> <a href="/tags/abstraction/" style="font-size: 15px;">abstraction</a> <a href="/tags/%E6%A2%AF%E5%AD%90/" style="font-size: 15px;">梯子</a> <a href="/tags/shadowsocks/" style="font-size: 15px;">shadowsocks</a> <a href="/tags/trojan/" style="font-size: 15px;">trojan</a> <a href="/tags/socat/" style="font-size: 15px;">socat</a> <a href="/tags/windows/" style="font-size: 15px;">windows</a> <a href="/tags/design/" style="font-size: 15px;">design</a> <a href="/tags/environment/" style="font-size: 15px;">environment</a> <a href="/tags/buddy-allocator/" style="font-size: 15px;">buddy-allocator</a> <a href="/tags/algorithms/" style="font-size: 15px;">algorithms</a> <a href="/tags/C-17/" style="font-size: 15px;">C++ 17</a> <a href="/tags/string-view/" style="font-size: 15px;">string_view</a> <a href="/tags/tokenizer/" style="font-size: 15px;">tokenizer</a> <a href="/tags/asio/" style="font-size: 15px;">asio</a> <a href="/tags/cmake/" style="font-size: 15px;">cmake</a> <a href="/tags/anvil/" style="font-size: 15px;">anvil</a> <a href="/tags/project-management/" style="font-size: 15px;">project management</a> <a href="/tags/atoi/" style="font-size: 15px;">atoi</a> <a href="/tags/golang/" style="font-size: 15px;">golang</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/cfs/" style="font-size: 15px;">cfs</a> <a href="/tags/non-capturing-lambda/" style="font-size: 15px;">non-capturing lambda</a> <a href="/tags/function-pointer/" style="font-size: 15px;">function pointer</a> <a href="/tags/obs-studio/" style="font-size: 15px;">obs-studio</a> <a href="/tags/inno-setup/" style="font-size: 15px;">inno setup</a> <a href="/tags/installer/" style="font-size: 15px;">installer</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Unix/" style="font-size: 15px;">Unix</a> <a href="/tags/signal/" style="font-size: 15px;">signal</a> <a href="/tags/signalfd/" style="font-size: 15px;">signalfd</a> <a href="/tags/self-pipe-trick/" style="font-size: 15px;">self-pipe trick</a> <a href="/tags/cant/" style="font-size: 15px;">cant</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/HandlerThread/" style="font-size: 15px;">HandlerThread</a> <a href="/tags/Looper/" style="font-size: 15px;">Looper</a> <a href="/tags/Handler/" style="font-size: 15px;">Handler</a> <a href="/tags/MessageLoop/" style="font-size: 15px;">MessageLoop</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/proxy/" style="font-size: 15px;">proxy</a> <a href="/tags/thread-pool/" style="font-size: 15px;">thread-pool</a> <a href="/tags/chromium/" style="font-size: 15px;">chromium</a> <a href="/tags/urlfetcher/" style="font-size: 15px;">urlfetcher</a> <a href="/tags/wireshark/" style="font-size: 15px;">wireshark</a> <a href="/tags/localhost/" style="font-size: 15px;">localhost</a> <a href="/tags/source-internals/" style="font-size: 15px;">source internals</a> <a href="/tags/message-loop/" style="font-size: 15px;">message-loop</a> <a href="/tags/SFINAE/" style="font-size: 15px;">SFINAE</a> <a href="/tags/template/" style="font-size: 15px;">template</a> <a href="/tags/visual-studio/" style="font-size: 15px;">visual studio</a> <a href="/tags/libx264/" style="font-size: 15px;">libx264</a> <a href="/tags/vcpkg/" style="font-size: 15px;">vcpkg</a> <a href="/tags/shared-ptr/" style="font-size: 15px;">shared_ptr</a> <a href="/tags/type-injection/" style="font-size: 15px;">type injection</a> <a href="/tags/shared-ptr-internals/" style="font-size: 15px;">shared_ptr-internals</a> <a href="/tags/source-code-study/" style="font-size: 15px;">source-code-study</a> <a href="/tags/weak-ptr/" style="font-size: 15px;">weak_ptr</a> <a href="/tags/base-lib/" style="font-size: 15px;">base lib</a> <a href="/tags/tag-dispatching/" style="font-size: 15px;">tag dispatching</a> <a href="/tags/boost/" style="font-size: 15px;">boost</a> <a href="/tags/libstdc/" style="font-size: 15px;">libstdc++</a> <a href="/tags/gcc/" style="font-size: 15px;">gcc</a> <a href="/tags/clang/" style="font-size: 15px;">clang</a> <a href="/tags/sfinae/" style="font-size: 15px;">sfinae</a> <a href="/tags/google-breakpad/" style="font-size: 15px;">google-breakpad</a> <a href="/tags/invalid-paramter/" style="font-size: 15px;">invalid paramter</a> <a href="/tags/operator/" style="font-size: 15px;">operator[]</a> <a href="/tags/owner-semantics/" style="font-size: 15px;">owner semantics</a> <a href="/tags/view-semantics/" style="font-size: 15px;">view semantics</a> <a href="/tags/msvc/" style="font-size: 15px;">msvc</a> <a href="/tags/ebo/" style="font-size: 15px;">ebo</a> <a href="/tags/multiple-inheritance/" style="font-size: 15px;">multiple inheritance</a> <a href="/tags/Visual-Studio/" style="font-size: 15px;">Visual Studio</a> <a href="/tags/debugger/" style="font-size: 15px;">debugger</a> <a href="/tags/UTF-8/" style="font-size: 15px;">UTF-8</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/haskell/" style="font-size: 15px;">haskell</a> <a href="/tags/infix-operator/" style="font-size: 15px;">infix operator</a> <a href="/tags/error-handling/" style="font-size: 15px;">error handling</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/mint/" style="font-size: 15px;">mint</a> <a href="/tags/%E7%A3%81%E7%9B%98/" style="font-size: 15px;">磁盘</a> <a href="/tags/%E6%89%A9%E5%AE%B9/" style="font-size: 15px;">扩容</a> <a href="/tags/line-ending/" style="font-size: 15px;">line ending</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="https://www.daozhihun.com/" title="刀之魂 | 大木老师成长日记" target="_blank">刀之魂 | 大木老师成长日记</a><ul></ul><a href="https://blog.nlogn.cn/" title="帧哥 | 硅谷谈撸管" target="_blank">帧哥 | 硅谷谈撸管</a><ul></ul><a href="https://blog.chichou.me/" title="ChiChou | 首席安全地球仪切图总奸" target="_blank">ChiChou | 首席安全地球仪切图总奸</a><ul></ul><a href="https://fleurer.github.io/" title="Fleurer-lee | F叔的读书笔记（大量干货）" target="_blank">Fleurer-lee | F叔的读书笔记（大量干货）</a><ul></ul><a href="https://vizee.org/" title="Vizee | 即将走上人生巅峰推萝莉的章总" target="_blank">Vizee | 即将走上人生巅峰推萝莉的章总</a><ul></ul><a href="https://blog.thecjw.me/" title="TheCJW | 爱弹棉花的小伟" target="_blank">TheCJW | 爱弹棉花的小伟</a><ul></ul><a href="https://newbiecoder.0ginr.com/blog/" title="Newbie Coder | 萌萌哒的炉子" target="_blank">Newbie Coder | 萌萌哒的炉子</a><ul></ul><a href="https://frankpie.github.io/" title="裴草莓 | 愤怒的老司机" target="_blank">裴草莓 | 愤怒的老司机</a><ul></ul><a href="https://beanbee.me/" title="陈老师 | Beanbee.Max" target="_blank">陈老师 | Beanbee.Max</a><ul></ul><a href="https://sunus.me/" title="Sunus | 李师傅食品厂CEO" target="_blank">Sunus | 李师傅食品厂CEO</a><ul></ul><a href="http://www.tolower.net/" title="Lower | 喊大木大哥的小弟" target="_blank">Lower | 喊大木大哥的小弟</a><ul></ul><a href="http://mrljdx.com/" title="Mrljdx | 大保健老司机" target="_blank">Mrljdx | 大保健老司机</a><ul></ul><a href="https://www.mydavelv.net/" title="Davelv | 江湖人称大尾驴" target="_blank">Davelv | 江湖人称大尾驴</a></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> Recent Comments</i></div><script type="text/javascript" src="//kingsamchen-github-io.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2022 <a href="/." rel="nofollow">KC的废墟堆.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>